function _classCallCheck(e, t) {
	if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
}

function resizeCanvasIfNeeded(e) {
	var t = e.targetCanvas,
		n = t.width,
		r = t.height,
		i = e.destinationWidth,
		o = e.destinationHeight;
	n === i && r === o || (t.width = i, t.height = o)
}

function copyGLTo2DDrawImage(e, t) {
	var n = e.canvas,
		r = t.targetCanvas,
		i = r.getContext("2d");
	i.translate(0, r.height), i.scale(1, -1);
	var o = n.height - r.height;
	i.drawImage(n, 0, o, r.width, r.height, 0, 0, r.width, r.height)
}

function copyGLTo2DPutImageData(e, t) {
	var n = t.targetCanvas.getContext("2d"),
		r = t.destinationWidth,
		i = t.destinationHeight,
		o = r * i * 4,
		a = new Uint8Array(this.imageBuffer, 0, o),
		s = new Uint8ClampedArray(this.imageBuffer, 0, o);
	e.readPixels(0, 0, r, i, e.RGBA, e.UNSIGNED_BYTE, a);
	var l = new ImageData(s, r, i);
	n.putImageData(l, 0, 0)
}! function(e) {
	"function" == typeof define && define.amd ? define("jqform", ["jquery"], e) : "object" == typeof module && module.exports ?
		module.exports = function(t, n) {
			return void 0 === n && (n = "undefined" != typeof window ? require("jquery") : require("jquery")(t)), e(n), n
		} : e(jQuery)
}(function(e) {
	"use strict";

	function t(t) {
		var n = t.data;
		t.isDefaultPrevented() || (t.preventDefault(), e(t.target).closest("form").ajaxSubmit(n))
	}

	function n(t) {
		var n = t.target,
			r = e(n);
		if (!r.is("[type=submit],[type=image]")) {
			var i = r.closest("[type=submit]");
			if (0 === i.length) return;
			n = i[0]
		}
		var o = n.form;
		if (o.clk = n, "image" === n.type)
			if (void 0 !== t.offsetX) o.clk_x = t.offsetX, o.clk_y = t.offsetY;
			else if ("function" == typeof e.fn.offset) {
			var a = r.offset();
			o.clk_x = t.pageX - a.left, o.clk_y = t.pageY - a.top
		} else o.clk_x = t.pageX - n.offsetLeft, o.clk_y = t.pageY - n.offsetTop;
		setTimeout(function() {
			o.clk = o.clk_x = o.clk_y = null
		}, 100)
	}

	function r() {
		if (e.fn.ajaxSubmit.debug) {
			var t = "[jquery.form] " + Array.prototype.join.call(arguments, "");
			window.console && window.console.log ? window.console.log(t) : window.opera && window.opera.postError && window.opera
				.postError(t)
		}
	}
	var i = /\r?\n/g,
		o = {};
	o.fileapi = void 0 !== e('<input type="file">').get(0).files, o.formdata = void 0 !== window.FormData;
	var a = !!e.fn.prop;
	e.fn.attr2 = function() {
		if (!a) return this.attr.apply(this, arguments);
		var e = this.prop.apply(this, arguments);
		return e && e.jquery || "string" == typeof e ? e : this.attr.apply(this, arguments)
	}, e.fn.ajaxSubmit = function(t, n, i, s) {
		function l(n) {
			var r, i, o = e.param(n, t.traditional).split("&"),
				a = o.length,
				s = [];
			for (r = 0; a > r; r++) o[r] = o[r].replace(/\+/g, " "), i = o[r].split("="), s.push([decodeURIComponent(i[0]),
				decodeURIComponent(i[1])
			]);
			return s
		}

		function c(n) {
			function i(e) {
				var t = null;
				try {
					e.contentWindow && (t = e.contentWindow.document)
				} catch (e) {
					r("cannot get iframe.contentWindow document: " + e)
				}
				if (t) return t;
				try {
					t = e.contentDocument ? e.contentDocument : e.document
				} catch (n) {
					r("cannot get iframe.contentDocument: " + n), t = e.document
				}
				return t
			}

			function o() {
				function e() {
					try {
						var t = i(m).readyState;
						r("state = " + t), t && "uninitialized" === t.toLowerCase() && setTimeout(e, 50)
					} catch (t) {
						r("Server abort: ", t, " (", t.name, ")"), s(k), S && clearTimeout(S), S = void 0
					}
				}
				var t = d.attr2("target"),
					n = d.attr2("action"),
					o = d.attr("enctype") || d.attr("encoding") || "multipart/form-data";
				_.setAttribute("target", p), u && !/post/i.test(u) || _.setAttribute("method", "POST"), n !== h.url && _.setAttribute(
					"action", h.url), h.skipEncodingOverride || u && !/post/i.test(u) || d.attr({
					encoding: "multipart/form-data",
					enctype: "multipart/form-data"
				}), h.timeout && (S = setTimeout(function() {
					w = !0, s(O)
				}, h.timeout));
				var a = [];
				try {
					if (h.extraData)
						for (var l in h.extraData) h.extraData.hasOwnProperty(l) && (c.isPlainObject(h.extraData[l]) && h.extraData[l].hasOwnProperty(
							"name") && h.extraData[l].hasOwnProperty("value") ? a.push(c('<input type="hidden" name="' + h.extraData[l].name +
							'">', C).val(h.extraData[l].value).appendTo(_)[0]) : a.push(c('<input type="hidden" name="' + l + '">', C).val(
							h.extraData[l]).appendTo(_)[0]));
					h.iframeTarget || g.appendTo(E), m.attachEvent ? m.attachEvent("onload", s) : m.addEventListener("load", s, !1),
						setTimeout(e, 15);
					try {
						_.submit()
					} catch (c) {
						document.createElement("form").submit.apply(_)
					}
				} finally {
					_.setAttribute("action", n), _.setAttribute("enctype", o), t ? _.setAttribute("target", t) : d.removeAttr(
						"target"), c(a).remove()
				}
			}

			function s(e) {
				if (!y.aborted && !M) {
					if ((I = i(m)) || (r("cannot access response document"), e = k), e === O && y) return y.abort("timeout"), void T
						.reject(y, "timeout");
					if (e === k && y) return y.abort("server abort"), void T.reject(y, "error", "server abort");
					if (I && I.location.href !== h.iframeSrc || w) {
						m.detachEvent ? m.detachEvent("onload", s) : m.removeEventListener("load", s, !1);
						var t, n = "success";
						try {
							if (w) throw "timeout";
							var o = "xml" === h.dataType || I.XMLDocument || v.isXMLDoc(I);
							if (r("isXml=" + o), !o && window.opera && (null === I.body || !I.body.innerHTML) && --L) return r(
								"requeing onLoad callback, DOM not available"), void setTimeout(s, 250);
							var a = I.body ? I.body : I.documentElement;
							y.responseText = a ? a.innerHTML : null, y.responseXML = I.XMLDocument ? I.XMLDocument : I, o && (h.dataType =
								"xml"), y.getResponseHeader = function(e) {
								return {
									"content-type": h.dataType
								} [e.toLowerCase()]
							}, a && (y.status = Number(a.getAttribute("status")) || y.status, y.statusText = a.getAttribute("statusText") ||
								y.statusText);
							var l = (h.dataType || "").toLowerCase(),
								c = /(json|script|text)/.test(l);
							if (c || h.textarea) {
								var u = I.getElementsByTagName("textarea")[0];
								if (u) y.responseText = u.value, y.status = Number(u.getAttribute("status")) || y.status, y.statusText = u.getAttribute(
									"statusText") || y.statusText;
								else if (c) {
									var d = I.getElementsByTagName("pre")[0],
										p = I.getElementsByTagName("body")[0];
									d ? y.responseText = d.textContent ? d.textContent : d.innerText : p && (y.responseText = p.textContent ? p.textContent :
										p.innerText)
								}
							} else "xml" === l && !y.responseXML && y.responseText && (y.responseXML = P(y.responseText));
							try {
								A = U(y, l, h)
							} catch (v) {
								n = "parsererror", y.error = t = v || n
							}
						} catch (v) {
							r("error caught: ", v), n = "error", y.error = t = v || n
						}
						y.aborted && (r("upload aborted"), n = null), y.status && (n = y.status >= 200 && y.status < 300 || 304 === y.status ?
								"success" : "error"), "success" === n ? (h.success && h.success.call(h.context, A, "success", y), T.resolve(y
								.responseText, "success", y), f && v.event.trigger("ajaxSuccess", [y, h])) : n && (void 0 === t && (t = y.statusText),
								h.error && h.error.call(h.context, y, n, t), T.reject(y, "error", t), f && v.event.trigger("ajaxError", [y, h,
									t
								])), f && v.event.trigger("ajaxComplete", [y, h]), f && !--v.active && v.event.trigger("ajaxStop"), h.complete &&
							h.complete.call(h.context, y, n), M = !0, h.timeout && clearTimeout(S), setTimeout(function() {
								h.iframeTarget ? g.attr("src", h.iframeSrc) : g.remove(), y.responseXML = null
							}, 100)
					}
				}
			}
			var l, c, h, f, p, g, m, y, b, x, w, S, _ = d[0],
				T = e.Deferred();
			if (T.abort = function(e) {
					y.abort(e)
				}, n)
				for (c = 0; c < v.length; c++) l = e(v[c]), a ? l.prop("disabled", !1) : l.removeAttr("disabled");
			(h = e.extend(!0, {}, e.ajaxSettings, t)).context = h.context || h, p = "jqFormIO" + (new Date).getTime();
			var C = _.ownerDocument,
				E = d.closest("body");
			if (h.iframeTarget ? (x = (g = e(h.iframeTarget, C)).attr2("name")) ? p = x : g.attr2("name", p) : (g = e(
					'<iframe name="' + p + '" src="' + h.iframeSrc + '" />', C)).css({
					position: "absolute",
					top: "-1000px",
					left: "-1000px"
				}), m = g[0], y = {
					aborted: 0,
					responseText: null,
					responseXML: null,
					status: 0,
					statusText: "n/a",
					getAllResponseHeaders: function() {},
					getResponseHeader: function() {},
					setRequestHeader: function() {},
					abort: function(e) {
						var t = "timeout" === e ? "timeout" : "aborted";
						r("aborting upload... " + t), this.aborted = 1;
						try {
							m.contentWindow.document.execCommand && m.contentWindow.document.execCommand("Stop")
						} catch (n) {}
						g.attr("src", h.iframeSrc), y.error = t, h.error && h.error.call(h.context, y, t, e), f && n.event.trigger(
							"ajaxError", [y, h, t]), h.complete && h.complete.call(h.context, y, t)
					}
				}, (f = h.global) && 0 == e.active++ && e.event.trigger("ajaxStart"), f && e.event.trigger("ajaxSend", [y, h]), h
				.beforeSend && !1 === h.beforeSend.call(h.context, y, h)) return h.global && e.active--, T.reject(), T;
			if (y.aborted) return T.reject(), T;
			(b = _.clk) && (x = b.name) && !b.disabled && (h.extraData = h.extraData || {}, h.extraData[x] = b.value, "image" ===
				b.type && (h.extraData[x + ".x"] = _.clk_x, h.extraData[x + ".y"] = _.clk_y));
			var O = 1,
				k = 2,
				R = e("meta[name=csrf-token]").attr("content"),
				D = e("meta[name=csrf-param]").attr("content");
			D && R && (h.extraData = h.extraData || {}, h.extraData[D] = R), h.forceSync ? o() : setTimeout(o, 10);
			var A, I, M, L = 50,
				P = e.parseXML || function(e, t) {
					return window.ActiveXObject ? ((t = new ActiveXObject("Microsoft.XMLDOM")).async = "false", t.loadXML(e)) : t =
						(new DOMParser).parseFromString(e, "text/xml"), t && t.documentElement && "parsererror" !== t.documentElement.nodeName ?
						t : null
				},
				F = e.parseJSON || function(e) {
					return window.eval("(" + e + ")")
				},
				U = function(t, n, r) {
					var i = t.getResponseHeader("content-type") || "",
						o = ("xml" === n || !n) && i.indexOf("xml") >= 0,
						a = o ? t.responseXML : t.responseText;
					return o && "parsererror" === a.documentElement.nodeName && e.error && e.error("parsererror"), r && r.dataFilter &&
						(a = r.dataFilter(a, n)), "string" == typeof a && (("json" === n || !n) && i.indexOf("json") >= 0 ? a = F(a) :
							("script" === n || !n) && i.indexOf("javascript") >= 0 && e.globalEval(a)), a
				};
			return T
		}
		if (!this.length) return r("ajaxSubmit: skipping submit process - no element selected"), this;
		var u, h, f, d = this;
		"function" == typeof t ? t = {
			success: t
		} : "string" == typeof t || !1 === t && arguments.length > 0 ? (t = {
			url: t,
			data: n,
			dataType: i
		}, "function" == typeof s && (t.success = s)) : void 0 === t && (t = {}), u = t.method || t.type || this.attr2(
			"method"), (f = (f = "string" == typeof(h = t.url || this.attr2("action")) ? e.trim(h) : "") || window.location.href ||
			"") && (f = (f.match(/^([^#]+)/) || [])[1]), t = e.extend(!0, {
			url: f,
			success: e.ajaxSettings.success,
			type: u || e.ajaxSettings.type,
			iframeSrc: /^https/i.test(window.location.href || "") ? "javascript:false" : "about:blank"
		}, t);
		var p = {};
		if (this.trigger("form-pre-serialize", [this, t, p]), p.veto) return r(
			"ajaxSubmit: submit vetoed via form-pre-serialize trigger"), this;
		if (t.beforeSerialize && !1 === t.beforeSerialize(this, t)) return r(
			"ajaxSubmit: submit aborted via beforeSerialize callback"), this;
		var g = t.traditional;
		void 0 === g && (g = e.ajaxSettings.traditional);
		var m, v = [],
			y = this.formToArray(t.semantic, v, t.filtering);
		if (t.data) {
			var b = e.isFunction(t.data) ? t.data(y) : t.data;
			t.extraData = b, m = e.param(b, g)
		}
		if (t.beforeSubmit && !1 === t.beforeSubmit(y, this, t)) return r(
			"ajaxSubmit: submit aborted via beforeSubmit callback"), this;
		if (this.trigger("form-submit-validate", [y, this, t, p]), p.veto) return r(
			"ajaxSubmit: submit vetoed via form-submit-validate trigger"), this;
		var x = e.param(y, g);
		m && (x = x ? x + "&" + m : m), "GET" === t.type.toUpperCase() ? (t.url += (t.url.indexOf("?") >= 0 ? "&" : "?") +
			x, t.data = null) : t.data = x;
		var w = [];
		if (t.resetForm && w.push(function() {
				d.resetForm()
			}), t.clearForm && w.push(function() {
				d.clearForm(t.includeHidden)
			}), !t.dataType && t.target) {
			var S = t.success || function() {};
			w.push(function(n, r, i) {
				var o = arguments,
					a = t.replaceTarget ? "replaceWith" : "html";
				e(t.target)[a](n).each(function() {
					S.apply(this, o)
				})
			})
		} else t.success && (e.isArray(t.success) ? e.merge(w, t.success) : w.push(t.success));
		if (t.success = function(e, n, r) {
				for (var i = t.context || this, o = 0, a = w.length; a > o; o++) w[o].apply(i, [e, n, r || d, d])
			}, t.error) {
			var _ = t.error;
			t.error = function(e, n, r) {
				var i = t.context || this;
				_.apply(i, [e, n, r, d])
			}
		}
		if (t.complete) {
			var T = t.complete;
			t.complete = function(e, n) {
				var r = t.context || this;
				T.apply(r, [e, n, d])
			}
		}
		var C = e("input[type=file]:enabled", this).filter(function() {
				return "" !== e(this).val()
			}).length > 0,
			E = "multipart/form-data",
			O = d.attr("enctype") === E || d.attr("encoding") === E,
			k = o.fileapi && o.formdata;
		r("fileAPI :" + k);
		var R, D = (C || O) && !k;
		!1 !== t.iframe && (t.iframe || D) ? t.closeKeepAlive ? e.get(t.closeKeepAlive, function() {
			R = c(y)
		}) : R = c(y) : R = (C || O) && k ? function(n) {
			for (var r = new FormData, i = 0; i < n.length; i++) r.append(n[i].name, n[i].value);
			if (t.extraData) {
				var o = l(t.extraData);
				for (i = 0; i < o.length; i++) o[i] && r.append(o[i][0], o[i][1])
			}
			t.data = null;
			var a = e.extend(!0, {}, e.ajaxSettings, t, {
				contentType: !1,
				processData: !1,
				cache: !1,
				type: u || "POST"
			});
			t.uploadProgress && (a.xhr = function() {
				var n = e.ajaxSettings.xhr();
				return n.upload && n.upload.addEventListener("progress", function(e) {
					var n = 0,
						r = e.loaded || e.position,
						i = e.total;
					e.lengthComputable && (n = Math.ceil(r / i * 100)), t.uploadProgress(e, r, i, n)
				}, !1), n
			}), a.data = null;
			var s = a.beforeSend;
			return a.beforeSend = function(e, n) {
				t.formData ? n.data = t.formData : n.data = r, s && s.call(this, e, n)
			}, e.ajax(a)
		}(y) : e.ajax(t), d.removeData("jqxhr").data("jqxhr", R);
		for (var A = 0; A < v.length; A++) v[A] = null;
		return this.trigger("form-submit-notify", [this, t]), this
	}, e.fn.ajaxForm = function(i, o, a, s) {
		if (("string" == typeof i || !1 === i && arguments.length > 0) && (i = {
				url: i,
				data: o,
				dataType: a
			}, "function" == typeof s && (i.success = s)), i = i || {}, i.delegation = i.delegation && e.isFunction(e.fn.on),
			!i.delegation && 0 === this.length) {
			var l = {
				s: this.selector,
				c: this.context
			};
			return !e.isReady && l.s ? (r("DOM not ready, queuing ajaxForm"), e(function() {
				e(l.s, l.c).ajaxForm(i)
			}), this) : (r("terminating; zero elements found by selector" + (e.isReady ? "" : " (DOM not ready)")), this)
		}
		return i.delegation ? (e(document).off("submit.form-plugin", this.selector, t).off("click.form-plugin", this.selector,
				n).on("submit.form-plugin", this.selector, i, t).on("click.form-plugin", this.selector, i, n), this) : this.ajaxFormUnbind()
			.on("submit.form-plugin", i, t).on("click.form-plugin", i, n)
	}, e.fn.ajaxFormUnbind = function() {
		return this.off("submit.form-plugin click.form-plugin")
	}, e.fn.formToArray = function(t, n, r) {
		var i = [];
		if (0 === this.length) return i;
		var a, s = this[0],
			l = this.attr("id"),
			c = t || void 0 === s.elements ? s.getElementsByTagName("*") : s.elements;
		if (c && (c = e.makeArray(c)), l && (t || /(Edge|Trident)\//.test(navigator.userAgent)) && (a = e(':input[form="' +
				l + '"]').get()).length && (c = (c || []).concat(a)), !c || !c.length) return i;
		e.isFunction(r) && (c = e.map(c, r));
		var u, h, f, d, p, g, m;
		for (u = 0, g = c.length; g > u; u++)
			if (p = c[u], (f = p.name) && !p.disabled)
				if (t && s.clk && "image" === p.type) s.clk === p && (i.push({
					name: f,
					value: e(p).val(),
					type: p.type
				}), i.push({
					name: f + ".x",
					value: s.clk_x
				}, {
					name: f + ".y",
					value: s.clk_y
				}));
				else if ((d = e.fieldValue(p, !0)) && d.constructor === Array)
			for (n && n.push(p), h = 0, m = d.length; m > h; h++) i.push({
				name: f,
				value: d[h]
			});
		else if (o.fileapi && "file" === p.type) {
			n && n.push(p);
			var v = p.files;
			if (v.length)
				for (h = 0; h < v.length; h++) i.push({
					name: f,
					value: v[h],
					type: p.type
				});
			else i.push({
				name: f,
				value: "",
				type: p.type
			})
		} else null !== d && void 0 !== d && (n && n.push(p), i.push({
			name: f,
			value: d,
			type: p.type,
			required: p.required
		}));
		if (!t && s.clk) {
			var y = e(s.clk),
				b = y[0];
			(f = b.name) && !b.disabled && "image" === b.type && (i.push({
				name: f,
				value: y.val()
			}), i.push({
				name: f + ".x",
				value: s.clk_x
			}, {
				name: f + ".y",
				value: s.clk_y
			}))
		}
		return i
	}, e.fn.formSerialize = function(t) {
		return e.param(this.formToArray(t))
	}, e.fn.fieldSerialize = function(t) {
		var n = [];
		return this.each(function() {
			var r = this.name;
			if (r) {
				var i = e.fieldValue(this, t);
				if (i && i.constructor === Array)
					for (var o = 0, a = i.length; a > o; o++) n.push({
						name: r,
						value: i[o]
					});
				else null !== i && void 0 !== i && n.push({
					name: this.name,
					value: i
				})
			}
		}), e.param(n)
	}, e.fn.fieldValue = function(t) {
		for (var n = [], r = 0, i = this.length; i > r; r++) {
			var o = this[r],
				a = e.fieldValue(o, t);
			null === a || void 0 === a || a.constructor === Array && !a.length || (a.constructor === Array ? e.merge(n, a) : n
				.push(a))
		}
		return n
	}, e.fieldValue = function(t, n) {
		var r = t.name,
			o = t.type,
			a = t.tagName.toLowerCase();
		if (void 0 === n && (n = !0), n && (!r || t.disabled || "reset" === o || "button" === o || ("checkbox" === o ||
					"radio" === o) && !t.checked || ("submit" === o || "image" === o) && t.form && t.form.clk !== t || "select" ===
				a && -1 === t.selectedIndex)) return null;
		if ("select" === a) {
			var s = t.selectedIndex;
			if (0 > s) return null;
			for (var l = [], c = t.options, u = "select-one" === o, h = u ? s + 1 : c.length, f = u ? s : 0; h > f; f++) {
				var d = c[f];
				if (d.selected && !d.disabled) {
					var p = d.value;
					if (p || (p = d.attributes && d.attributes.value && !d.attributes.value.specified ? d.text : d.value), u) return p;
					l.push(p)
				}
			}
			return l
		}
		return e(t).val().replace(i, "\r\n")
	}, e.fn.clearForm = function(t) {
		return this.each(function() {
			e("input,select,textarea", this).clearFields(t)
		})
	}, e.fn.clearFields = e.fn.clearInputs = function(t) {
		var n = /^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;
		return this.each(function() {
			var r = this.type,
				i = this.tagName.toLowerCase();
			n.test(r) || "textarea" === i ? this.value = "" : "checkbox" === r || "radio" === r ? this.checked = !1 :
				"select" === i ? this.selectedIndex = -1 : "file" === r ? /MSIE/.test(navigator.userAgent) ? e(this).replaceWith(
					e(this).clone(!0)) : e(this).val("") : t && (!0 === t && /hidden/.test(r) || "string" == typeof t && e(this).is(
					t)) && (this.value = "")
		})
	}, e.fn.resetForm = function() {
		return this.each(function() {
			var t = e(this),
				n = this.tagName.toLowerCase();
			switch (n) {
				case "input":
					this.checked = this.defaultChecked;
				case "textarea":
					return this.value = this.defaultValue, !0;
				case "option":
				case "optgroup":
					var r = t.parents("select");
					return r.length && r[0].multiple ? "option" === n ? this.selected = this.defaultSelected : t.find("option").resetForm() :
						r.resetForm(), !0;
				case "select":
					return t.find("option").each(function(e) {
						return this.selected = this.defaultSelected, this.defaultSelected && !t[0].multiple ? (t[0].selectedIndex =
							e, !1) : void 0
					}), !0;
				case "label":
					var i = e(t.attr("for")),
						o = t.find("input,select,textarea");
					return i[0] && o.unshift(i[0]), o.resetForm(), !0;
				case "form":
					return ("function" == typeof this.reset || "object" == typeof this.reset && !this.reset.nodeType) && this.reset(),
						!0;
				default:
					return t.find("form,input,label,select,textarea").resetForm(), !0
			}
		})
	}, e.fn.enable = function(e) {
		return void 0 === e && (e = !0), this.each(function() {
			this.disabled = !e
		})
	}, e.fn.selected = function(t) {
		return void 0 === t && (t = !0), this.each(function() {
			var n = this.type;
			if ("checkbox" === n || "radio" === n) this.checked = t;
			else if ("option" === this.tagName.toLowerCase()) {
				var r = e(this).parent("select");
				t && r[0] && "select-one" === r[0].type && r.find("option").selected(!1), this.selected = t
			}
		})
	}, e.fn.ajaxSubmit.debug = !1
}),
function(e, t) {
	"object" == typeof exports && "undefined" != typeof module ? t(exports) : "function" == typeof define && define.amd ?
		define("opentype", ["exports"], t) : t(e.opentype = e.opentype || {})
}(this, function(e) {
	"use strict";

	function t() {
		this.table = new Uint16Array(16), this.trans = new Uint16Array(288)
	}

	function n(e, n) {
		this.source = e, this.sourceIndex = 0, this.tag = 0, this.bitcount = 0, this.dest = n, this.destLen = 0, this.ltree =
			new t, this.dtree = new t
	}

	function r(e, t, n, r) {
		var i, o;
		for (i = 0; n > i; ++i) e[i] = 0;
		for (i = 0; 30 - n > i; ++i) e[i + n] = i / n | 0;
		for (o = r, i = 0; 30 > i; ++i) t[i] = o, o += 1 << e[i]
	}

	function i(e, t) {
		var n;
		for (n = 0; 7 > n; ++n) e.table[n] = 0;
		for (e.table[7] = 24, e.table[8] = 152, e.table[9] = 112, n = 0; 24 > n; ++n) e.trans[n] = 256 + n;
		for (n = 0; 144 > n; ++n) e.trans[24 + n] = n;
		for (n = 0; 8 > n; ++n) e.trans[168 + n] = 280 + n;
		for (n = 0; 112 > n; ++n) e.trans[176 + n] = 144 + n;
		for (n = 0; 5 > n; ++n) t.table[n] = 0;
		for (t.table[5] = 32, n = 0; 32 > n; ++n) t.trans[n] = n
	}

	function o(e, t, n, r) {
		var i, o;
		for (i = 0; 16 > i; ++i) e.table[i] = 0;
		for (i = 0; r > i; ++i) e.table[t[n + i]]++;
		for (e.table[0] = 0, o = 0, i = 0; 16 > i; ++i) Si[i] = o, o += e.table[i];
		for (i = 0; r > i; ++i) t[n + i] && (e.trans[Si[t[n + i]]++] = i)
	}

	function a(e) {
		e.bitcount-- || (e.tag = e.source[e.sourceIndex++], e.bitcount = 7);
		var t = 1 & e.tag;
		return e.tag >>>= 1, t
	}

	function s(e, t, n) {
		if (!t) return n;
		for (; e.bitcount < 24;) e.tag |= e.source[e.sourceIndex++] << e.bitcount, e.bitcount += 8;
		var r = e.tag & 65535 >>> 16 - t;
		return e.tag >>>= t, e.bitcount -= t, r + n
	}

	function l(e, t) {
		for (; e.bitcount < 24;) e.tag |= e.source[e.sourceIndex++] << e.bitcount, e.bitcount += 8;
		var n = 0,
			r = 0,
			i = 0,
			o = e.tag;
		do r = 2 * r + (1 & o), o >>>= 1, ++i, n += t.table[i], r -= t.table[i]; while (r >= 0);
		return e.tag = o, e.bitcount -= i, t.trans[n + r]
	}

	function c(e, t, n) {
		var r, i, a, c, u, h;
		for (r = s(e, 5, 257), i = s(e, 5, 1), a = s(e, 4, 4), c = 0; 19 > c; ++c) wi[c] = 0;
		for (c = 0; a > c; ++c) {
			var f = s(e, 3, 0);
			wi[bi[c]] = f
		}
		for (o(xi, wi, 0, 19), u = 0; r + i > u;) {
			var d = l(e, xi);
			switch (d) {
				case 16:
					var p = wi[u - 1];
					for (h = s(e, 2, 3); h; --h) wi[u++] = p;
					break;
				case 17:
					for (h = s(e, 3, 3); h; --h) wi[u++] = 0;
					break;
				case 18:
					for (h = s(e, 7, 11); h; --h) wi[u++] = 0;
					break;
				default:
					wi[u++] = d
			}
		}
		o(t, wi, 0, r), o(n, wi, r, i)
	}

	function u(e, t, n) {
		for (;;) {
			var r = l(e, t);
			if (256 === r) return hi;
			if (256 > r) e.dest[e.destLen++] = r;
			else {
				var i, o, a, c;
				for (r -= 257, i = s(e, gi[r], mi[r]), o = l(e, n), a = e.destLen - s(e, vi[o], yi[o]), c = a; a + i > c; ++c) e.dest[
					e.destLen++] = e.dest[c]
			}
		}
	}

	function h(e) {
		for (var t, n, r; e.bitcount > 8;) e.sourceIndex--, e.bitcount -= 8;
		if (t = e.source[e.sourceIndex + 1], t = 256 * t + e.source[e.sourceIndex], n = e.source[e.sourceIndex + 3], n = 256 *
			n + e.source[e.sourceIndex + 2], t !== (65535 & ~n)) return fi;
		for (e.sourceIndex += 4, r = t; r; --r) e.dest[e.destLen++] = e.source[e.sourceIndex++];
		return e.bitcount = 0, hi
	}

	function f(e, t) {
		var r, i, o, l = new n(e, t);
		do {
			switch (r = a(l), i = s(l, 2, 0)) {
				case 0:
					o = h(l);
					break;
				case 1:
					o = u(l, di, pi);
					break;
				case 2:
					c(l, l.ltree, l.dtree), o = u(l, l.ltree, l.dtree);
					break;
				default:
					o = fi
			}
			if (o !== hi) throw new Error("Data error")
		} while (!r);
		return l.destLen < l.dest.length ? "function" == typeof l.dest.slice ? l.dest.slice(0, l.destLen) : l.dest.subarray(
			0, l.destLen) : l.dest
	}

	function d(e, t, n, r, i) {
		return Math.pow(1 - i, 3) * e + 3 * Math.pow(1 - i, 2) * i * t + 3 * (1 - i) * Math.pow(i, 2) * n + Math.pow(i, 3) *
			r
	}

	function p() {
		this.x1 = Number.NaN, this.y1 = Number.NaN, this.x2 = Number.NaN, this.y2 = Number.NaN
	}

	function g() {
		this.commands = [], this.fill = "black", this.stroke = null, this.strokeWidth = 1
	}

	function m(e) {
		throw new Error(e)
	}

	function v(e, t) {
		e || m(t)
	}

	function y(e) {
		return function() {
			return e
		}
	}

	function b(e) {
		return e >= -128 && 127 >= e
	}

	function x(e, t, n) {
		for (var r = 0, i = e.length; i > t && 64 > r && 0 === e[t];) ++t, ++r;
		return n.push(128 | r - 1), t
	}

	function w(e, t, n) {
		for (var r = 0, i = e.length, o = t; i > o && 64 > r;) {
			var a = e[o];
			if (!b(a)) break;
			if (0 === a && i > o + 1 && 0 === e[o + 1]) break;
			++o, ++r
		}
		n.push(r - 1);
		for (var s = t; o > s; ++s) n.push(e[s] + 256 & 255);
		return o
	}

	function S(e, t, n) {
		for (var r = 0, i = e.length, o = t; i > o && 64 > r;) {
			var a = e[o];
			if (0 === a) break;
			if (b(a) && i > o + 1 && b(e[o + 1])) break;
			++o, ++r
		}
		n.push(64 | r - 1);
		for (var s = t; o > s; ++s) {
			var l = e[s];
			n.push(l + 65536 >> 8 & 255, l + 256 & 255)
		}
		return o
	}

	function _(e, t, n) {
		for (var r = this, i = 0; i < t.length; i += 1) {
			var o = t[i];
			r[o.name] = o.value
		}
		if (this.tableName = e, this.fields = t, n)
			for (var a = Object.keys(n), s = 0; s < a.length; s += 1) {
				var l = a[s],
					c = n[l];
				void 0 !== r[l] && (r[l] = c)
			}
	}

	function T(e, t, n) {
		void 0 === n && (n = t.length);
		var r = new Array(t.length + 1);
		r[0] = {
			name: e + "Count",
			type: "USHORT",
			value: n
		};
		for (var i = 0; i < t.length; i++) r[i + 1] = {
			name: e + i,
			type: "USHORT",
			value: t[i]
		};
		return r
	}

	function C(e, t, n) {
		var r = t.length,
			i = new Array(r + 1);
		i[0] = {
			name: e + "Count",
			type: "USHORT",
			value: r
		};
		for (var o = 0; r > o; o++) i[o + 1] = {
			name: e + o,
			type: "TABLE",
			value: n(t[o], o)
		};
		return i
	}

	function E(e, t, n) {
		var r = t.length,
			i = [];
		i[0] = {
			name: e + "Count",
			type: "USHORT",
			value: r
		};
		for (var o = 0; r > o; o++) i = i.concat(n(t[o], o));
		return i
	}

	function O(e) {
		1 === e.format ? _.call(this, "coverageTable", [{
			name: "coverageFormat",
			type: "USHORT",
			value: 1
		}].concat(T("glyph", e.glyphs))) : Ti.assert(!1, "Can't create coverage table format 2 yet.")
	}

	function k(e) {
		_.call(this, "scriptListTable", E("scriptRecord", e, function(e, t) {
			var n = e.script,
				r = n.defaultLangSys;
			return Ti.assert(!!r, "Unable to write GSUB: script " + e.tag + " has no default language system."), [{
				name: "scriptTag" + t,
				type: "TAG",
				value: e.tag
			}, {
				name: "script" + t,
				type: "TABLE",
				value: new _("scriptTable", [{
					name: "defaultLangSys",
					type: "TABLE",
					value: new _("defaultLangSys", [{
						name: "lookupOrder",
						type: "USHORT",
						value: 0
					}, {
						name: "reqFeatureIndex",
						type: "USHORT",
						value: r.reqFeatureIndex
					}].concat(T("featureIndex", r.featureIndexes)))
				}].concat(E("langSys", n.langSysRecords, function(e, t) {
					var n = e.langSys;
					return [{
						name: "langSysTag" + t,
						type: "TAG",
						value: e.tag
					}, {
						name: "langSys" + t,
						type: "TABLE",
						value: new _("langSys", [{
							name: "lookupOrder",
							type: "USHORT",
							value: 0
						}, {
							name: "reqFeatureIndex",
							type: "USHORT",
							value: n.reqFeatureIndex
						}].concat(T("featureIndex", n.featureIndexes)))
					}]
				})))
			}]
		}))
	}

	function R(e) {
		_.call(this, "featureListTable", E("featureRecord", e, function(e, t) {
			var n = e.feature;
			return [{
				name: "featureTag" + t,
				type: "TAG",
				value: e.tag
			}, {
				name: "feature" + t,
				type: "TABLE",
				value: new _("featureTable", [{
					name: "featureParams",
					type: "USHORT",
					value: n.featureParams
				}].concat(T("lookupListIndex", n.lookupListIndexes)))
			}]
		}))
	}

	function D(e, t) {
		_.call(this, "lookupListTable", C("lookup", e, function(e) {
			var n = t[e.lookupType];
			return Ti.assert(!!n, "Unable to write GSUB lookup type " + e.lookupType + " tables."), new _("lookupTable", [{
				name: "lookupType",
				type: "USHORT",
				value: e.lookupType
			}, {
				name: "lookupFlag",
				type: "USHORT",
				value: e.lookupFlag
			}].concat(C("subtable", e.subtables, n)))
		}))
	}

	function A(e, t) {
		return e.getUint8(t)
	}

	function I(e, t) {
		return e.getUint16(t, !1)
	}

	function M(e, t) {
		return e.getInt16(t, !1)
	}

	function L(e, t) {
		return e.getUint32(t, !1)
	}

	function P(e, t) {
		var n = e.getInt16(t, !1),
			r = e.getUint16(t + 2, !1);
		return n + r / 65535
	}

	function F(e, t) {
		for (var n = "", r = t; t + 4 > r; r += 1) n += String.fromCharCode(e.getInt8(r));
		return n
	}

	function U(e, t, n) {
		for (var r = 0, i = 0; n > i; i += 1) r <<= 8, r += e.getUint8(t + i);
		return r
	}

	function j(e, t, n) {
		for (var r = [], i = t; n > i; i += 1) r.push(e.getUint8(i));
		return r
	}

	function B(e) {
		for (var t = "", n = 0; n < e.length; n += 1) t += String.fromCharCode(e[n]);
		return t
	}

	function N(e, t) {
		this.data = e, this.offset = t, this.relativeOffset = 0
	}

	function z(e, t) {
		t.parseUShort(), e.length = t.parseULong(), e.language = t.parseULong();
		var n;
		e.groupCount = n = t.parseULong(), e.glyphIndexMap = {};
		for (var r = 0; n > r; r += 1)
			for (var i = t.parseULong(), o = t.parseULong(), a = t.parseULong(), s = i; o >= s; s += 1) e.glyphIndexMap[s] = a,
				a++
	}

	function H(e, t, n, r, i) {
		e.length = t.parseUShort(), e.language = t.parseUShort();
		var o;
		e.segCount = o = t.parseUShort() >> 1, t.skip("uShort", 3), e.glyphIndexMap = {};
		for (var a = new ji.Parser(n, r + i + 14), s = new ji.Parser(n, r + i + 16 + 2 * o), l = new ji.Parser(n, r + i + 16 +
				4 * o), c = new ji.Parser(n, r + i + 16 + 6 * o), u = r + i + 16 + 8 * o, h = 0; o - 1 > h; h += 1)
			for (var f = void 0, d = a.parseUShort(), p = s.parseUShort(), g = l.parseShort(), m = c.parseUShort(), v = p; d >=
				v; v += 1) 0 !== m ? (u = c.offset + c.relativeOffset - 2, u += m, u += 2 * (v - p), f = ji.getUShort(n, u), 0 !==
				f && (f = f + g & 65535)) : f = v + g & 65535, e.glyphIndexMap[v] = f
	}

	function G(e, t) {
		var n = {};
		n.version = ji.getUShort(e, t), Ti.argument(0 === n.version, "cmap table version should be 0."), n.numTables = ji.getUShort(
			e, t + 2);
		for (var r = -1, i = n.numTables - 1; i >= 0; i -= 1) {
			var o = ji.getUShort(e, t + 4 + 8 * i),
				a = ji.getUShort(e, t + 4 + 8 * i + 2);
			if (3 === o && (0 === a || 1 === a || 10 === a)) {
				r = ji.getULong(e, t + 4 + 8 * i + 4);
				break
			}
		}
		if (-1 === r) throw new Error("No valid cmap sub-tables found.");
		var s = new ji.Parser(e, t + r);
		if (n.format = s.parseUShort(), 12 === n.format) z(n, s);
		else {
			if (4 !== n.format) throw new Error("Only format 4 and 12 cmap tables are supported (found format " + n.format +
				").");
			H(n, s, e, t, r)
		}
		return n
	}

	function X(e, t, n) {
		e.segments.push({
			end: t,
			start: t,
			delta: -(t - n),
			offset: 0
		})
	}

	function W(e) {
		e.segments.push({
			end: 65535,
			start: 65535,
			delta: 1,
			offset: 0
		})
	}

	function Y(e) {
		var t = new Pi.Table("cmap", [{
			name: "version",
			type: "USHORT",
			value: 0
		}, {
			name: "numTables",
			type: "USHORT",
			value: 1
		}, {
			name: "platformID",
			type: "USHORT",
			value: 3
		}, {
			name: "encodingID",
			type: "USHORT",
			value: 1
		}, {
			name: "offset",
			type: "ULONG",
			value: 12
		}, {
			name: "format",
			type: "USHORT",
			value: 4
		}, {
			name: "length",
			type: "USHORT",
			value: 0
		}, {
			name: "language",
			type: "USHORT",
			value: 0
		}, {
			name: "segCountX2",
			type: "USHORT",
			value: 0
		}, {
			name: "searchRange",
			type: "USHORT",
			value: 0
		}, {
			name: "entrySelector",
			type: "USHORT",
			value: 0
		}, {
			name: "rangeShift",
			type: "USHORT",
			value: 0
		}]);
		t.segments = [];
		for (var n = 0; n < e.length; n += 1) {
			for (var r = e.get(n), i = 0; i < r.unicodes.length; i += 1) X(t, r.unicodes[i], n);
			t.segments = t.segments.sort(function(e, t) {
				return e.start - t.start
			})
		}
		W(t);
		var o;
		o = t.segments.length, t.segCountX2 = 2 * o, t.searchRange = 2 * Math.pow(2, Math.floor(Math.log(o) / Math.log(2))),
			t.entrySelector = Math.log(t.searchRange / 2) / Math.log(2), t.rangeShift = t.segCountX2 - t.searchRange;
		for (var a = [], s = [], l = [], c = [], u = [], h = 0; o > h; h += 1) {
			var f = t.segments[h];
			a = a.concat({
				name: "end_" + h,
				type: "USHORT",
				value: f.end
			}), s = s.concat({
				name: "start_" + h,
				type: "USHORT",
				value: f.start
			}), l = l.concat({
				name: "idDelta_" + h,
				type: "SHORT",
				value: f.delta
			}), c = c.concat({
				name: "idRangeOffset_" + h,
				type: "USHORT",
				value: f.offset
			}), void 0 !== f.glyphId && (u = u.concat({
				name: "glyph_" + h,
				type: "USHORT",
				value: f.glyphId
			}))
		}
		return t.fields = t.fields.concat(a), t.fields.push({
				name: "reservedPad",
				type: "USHORT",
				value: 0
			}), t.fields = t.fields.concat(s), t.fields = t.fields.concat(l), t.fields = t.fields.concat(c), t.fields = t.fields
			.concat(u), t.length = 14 + 2 * a.length + 2 + 2 * s.length + 2 * l.length + 2 * c.length + 2 * u.length, t
	}

	function q(e) {
		this.font = e
	}

	function V(e) {
		this.cmap = e
	}

	function K(e, t) {
		this.encoding = e, this.charset = t
	}

	function $(e) {
		var t = this;
		switch (e.version) {
			case 1:
				this.names = Gi.slice();
				break;
			case 2:
				this.names = new Array(e.numberOfGlyphs);
				for (var n = 0; n < e.numberOfGlyphs; n++) e.glyphNameIndex[n] < Gi.length ? t.names[n] = Gi[e.glyphNameIndex[n]] :
					t.names[n] = e.names[e.glyphNameIndex[n] - Gi.length];
				break;
			case 2.5:
				this.names = new Array(e.numberOfGlyphs);
				for (var r = 0; r < e.numberOfGlyphs; r++) t.names[r] = Gi[r + e.glyphNameIndex[r]];
				break;
			case 3:
				this.names = [];
				break;
			default:
				this.names = []
		}
	}

	function Z(e) {
		for (var t, n = e.tables.cmap.glyphIndexMap, r = Object.keys(n), i = 0; i < r.length; i += 1) {
			var o = r[i],
				a = n[o];
			t = e.glyphs.get(a), t.addUnicode(parseInt(o))
		}
		for (var s = 0; s < e.glyphs.length; s += 1) t = e.glyphs.get(s), e.cffEncoding ? e.isCIDFont ? t.name = "gid" + s :
			t.name = e.cffEncoding.charset[s] : e.glyphNames.names && (t.name = e.glyphNames.glyphIndexToName(s))
	}

	function Q(e, t, n, r, i) {
		e.beginPath(), e.moveTo(t, n), e.lineTo(r, i), e.stroke()
	}

	function J(e, t, n, r, i) {
		var o;
		return (t & r) > 0 ? (o = e.parseByte(), 0 === (t & i) && (o = -o), o = n + o) : o = (t & i) > 0 ? n : n + e.parseShort(),
			o
	}

	function ee(e, t, n) {
		var r = new ji.Parser(t, n);
		e.numberOfContours = r.parseShort(), e._xMin = r.parseShort(), e._yMin = r.parseShort(), e._xMax = r.parseShort(), e
			._yMax = r.parseShort();
		var i, o;
		if (e.numberOfContours > 0) {
			for (var a = e.endPointIndices = [], s = 0; s < e.numberOfContours; s += 1) a.push(r.parseUShort());
			e.instructionLength = r.parseUShort(), e.instructions = [];
			for (var l = 0; l < e.instructionLength; l += 1) e.instructions.push(r.parseByte());
			var c = a[a.length - 1] + 1;
			i = [];
			for (var u = 0; c > u; u += 1)
				if (o = r.parseByte(), i.push(o), (8 & o) > 0)
					for (var h = r.parseByte(), f = 0; h > f; f += 1) i.push(o), u += 1;
			if (Ti.argument(i.length === c, "Bad flags."), a.length > 0) {
				var d, p = [];
				if (c > 0) {
					for (var g = 0; c > g; g += 1) o = i[g], d = {}, d.onCurve = !!(1 & o), d.lastPointOfContour = a.indexOf(g) >= 0,
						p.push(d);
					for (var m = 0, v = 0; c > v; v += 1) o = i[v], d = p[v], d.x = J(r, o, m, 2, 16), m = d.x;
					for (var y = 0, b = 0; c > b; b += 1) o = i[b], d = p[b], d.y = J(r, o, y, 4, 32), y = d.y
				}
				e.points = p
			} else e.points = []
		} else if (0 === e.numberOfContours) e.points = [];
		else {
			e.isComposite = !0, e.points = [], e.components = [];
			for (var x = !0; x;) {
				i = r.parseUShort();
				var w = {
					glyphIndex: r.parseUShort(),
					xScale: 1,
					scale01: 0,
					scale10: 0,
					yScale: 1,
					dx: 0,
					dy: 0
				};
				(1 & i) > 0 ? (2 & i) > 0 ? (w.dx = r.parseShort(), w.dy = r.parseShort()) : w.matchedPoints = [r.parseUShort(), r
						.parseUShort()
					] : (2 & i) > 0 ? (w.dx = r.parseChar(), w.dy = r.parseChar()) : w.matchedPoints = [r.parseByte(), r.parseByte()],
					(8 & i) > 0 ? w.xScale = w.yScale = r.parseF2Dot14() : (64 & i) > 0 ? (w.xScale = r.parseF2Dot14(), w.yScale = r.parseF2Dot14()) :
					(128 & i) > 0 && (w.xScale = r.parseF2Dot14(), w.scale01 = r.parseF2Dot14(), w.scale10 = r.parseF2Dot14(), w.yScale =
						r.parseF2Dot14()), e.components.push(w), x = !!(32 & i)
			}
			if (256 & i) {
				e.instructionLength = r.parseUShort(), e.instructions = [];
				for (var S = 0; S < e.instructionLength; S += 1) e.instructions.push(r.parseByte())
			}
		}
	}

	function te(e, t) {
		for (var n = [], r = 0; r < e.length; r += 1) {
			var i = e[r],
				o = {
					x: t.xScale * i.x + t.scale01 * i.y + t.dx,
					y: t.scale10 * i.x + t.yScale * i.y + t.dy,
					onCurve: i.onCurve,
					lastPointOfContour: i.lastPointOfContour
				};
			n.push(o)
		}
		return n
	}

	function ne(e) {
		for (var t = [], n = [], r = 0; r < e.length; r += 1) {
			var i = e[r];
			n.push(i), i.lastPointOfContour && (t.push(n), n = [])
		}
		return Ti.argument(0 === n.length, "There are still points left in the current contour."), t
	}

	function re(e) {
		var t = new g;
		if (!e) return t;
		for (var n = ne(e), r = 0; r < n.length; ++r) {
			var i = n[r],
				o = null,
				a = i[i.length - 1],
				s = i[0];
			if (a.onCurve) t.moveTo(a.x, a.y);
			else if (s.onCurve) t.moveTo(s.x, s.y);
			else {
				var l = {
					x: .5 * (a.x + s.x),
					y: .5 * (a.y + s.y)
				};
				t.moveTo(l.x, l.y)
			}
			for (var c = 0; c < i.length; ++c)
				if (o = a, a = s, s = i[(c + 1) % i.length], a.onCurve) t.lineTo(a.x, a.y);
				else {
					var u = o,
						h = s;
					o.onCurve || (u = {
						x: .5 * (a.x + o.x),
						y: .5 * (a.y + o.y)
					}, t.lineTo(u.x, u.y)), s.onCurve || (h = {
						x: .5 * (a.x + s.x),
						y: .5 * (a.y + s.y)
					}), t.lineTo(u.x, u.y), t.quadraticCurveTo(a.x, a.y, h.x, h.y)
				} t.closePath()
		}
		return t
	}

	function ie(e, t) {
		if (t.isComposite)
			for (var n = 0; n < t.components.length; n += 1) {
				var r = t.components[n],
					i = e.get(r.glyphIndex);
				if (i.getPath(), i.points) {
					var o = void 0;
					if (void 0 === r.matchedPoints) o = te(i.points, r);
					else {
						if (r.matchedPoints[0] > t.points.length - 1 || r.matchedPoints[1] > i.points.length - 1) throw Error(
							"Matched points out of range in " + t.name);
						var a = t.points[r.matchedPoints[0]],
							s = i.points[r.matchedPoints[1]],
							l = {
								xScale: r.xScale,
								scale01: r.scale01,
								scale10: r.scale10,
								yScale: r.yScale,
								dx: 0,
								dy: 0
							};
						s = te([s], l)[0], l.dx = a.x - s.x, l.dy = a.y - s.y, o = te(i.points, l)
					}
					t.points = t.points.concat(o)
				}
			}
		return re(t.points)
	}

	function oe(e, t, n, r) {
		for (var i = new Yi.GlyphSet(r), o = 0; o < n.length - 1; o += 1) {
			var a = n[o],
				s = n[o + 1];
			a !== s ? i.push(o, Yi.ttfGlyphLoader(r, o, ee, e, t + a, ie)) : i.push(o, Yi.glyphLoader(r, o))
		}
		return i
	}

	function ae(e, t) {
		var n = t || {
			commands: []
		};
		return {
			configurable: !0,
			get: function() {
				return "function" == typeof n && (n = n()), n
			},
			set: function(e) {
				n = e
			}
		}
	}

	function se(e) {
		this.bindConstructorValues(e)
	}

	function le(e, t, n) {
		Object.defineProperty(e, t, {
			get: function() {
				return e.path, e[n]
			},
			set: function(t) {
				e[n] = t
			},
			enumerable: !0,
			configurable: !0
		})
	}

	function ce(e, t) {
		var n = this;
		if (this.font = e, this.glyphs = {}, Array.isArray(t))
			for (var r = 0; r < t.length; r++) n.glyphs[r] = t[r];
		this.length = t && t.length || 0
	}

	function ue(e, t) {
		return new se({
			index: t,
			font: e
		})
	}

	function he(e, t, n, r, i, o) {
		return function() {
			var a = new se({
				index: t,
				font: e
			});
			return a.path = function() {
				n(a, r, i);
				var t = o(e.glyphs, a);
				return t.unitsPerEm = e.unitsPerEm, t
			}, le(a, "xMin", "_xMin"), le(a, "xMax", "_xMax"), le(a, "yMin", "_yMin"), le(a, "yMax", "_yMax"), a
		}
	}

	function fe(e, t, n, r) {
		return function() {
			var i = new se({
				index: t,
				font: e
			});
			return i.path = function() {
				var t = n(e, i, r);
				return t.unitsPerEm = e.unitsPerEm, t
			}, i
		}
	}

	function de(e, t) {
		if (e === t) return !0;
		if (Array.isArray(e) && Array.isArray(t)) {
			if (e.length !== t.length) return !1;
			for (var n = 0; n < e.length; n += 1)
				if (!de(e[n], t[n])) return !1;
			return !0
		}
		return !1
	}

	function pe(e) {
		var t;
		return t = e.length < 1240 ? 107 : e.length < 33900 ? 1131 : 32768
	}

	function ge(e, t, n) {
		var r, i, o = [],
			a = [],
			s = ji.getCard16(e, t);
		if (0 !== s) {
			var l = ji.getByte(e, t + 2);
			r = t + (s + 1) * l + 2;
			for (var c = t + 3, u = 0; s + 1 > u; u += 1) o.push(ji.getOffset(e, c, l)), c += l;
			i = r + o[s]
		} else i = t + 2;
		for (var h = 0; h < o.length - 1; h += 1) {
			var f = ji.getBytes(e, r + o[h], r + o[h + 1]);
			n && (f = n(f)), a.push(f)
		}
		return {
			objects: a,
			startOffset: t,
			endOffset: i
		}
	}

	function me(e) {
		for (var t = "", n = 15, r = ["0", "1", "2", "3", "4", "5", "6", "7", "8", "9", ".", "E", "E-", null, "-"];;) {
			var i = e.parseByte(),
				o = i >> 4,
				a = 15 & i;
			if (o === n) break;
			if (t += r[o], a === n) break;
			t += r[a]
		}
		return parseFloat(t)
	}

	function ve(e, t) {
		var n, r, i, o;
		if (28 === t) return n = e.parseByte(), r = e.parseByte(), n << 8 | r;
		if (29 === t) return n = e.parseByte(), r = e.parseByte(), i = e.parseByte(), o = e.parseByte(), n << 24 | r << 16 |
			i << 8 | o;
		if (30 === t) return me(e);
		if (t >= 32 && 246 >= t) return t - 139;
		if (t >= 247 && 250 >= t) return n = e.parseByte(), 256 * (t - 247) + n + 108;
		if (t >= 251 && 254 >= t) return n = e.parseByte(), 256 * -(t - 251) - n - 108;
		throw new Error("Invalid b0 " + t)
	}

	function ye(e) {
		for (var t = {}, n = 0; n < e.length; n += 1) {
			var r = e[n][0],
				i = e[n][1],
				o = void 0;
			if (o = 1 === i.length ? i[0] : i, t.hasOwnProperty(r) && !isNaN(t[r])) throw new Error("Object " + t +
				" already has key " + r);
			t[r] = o
		}
		return t
	}

	function be(e, t, n) {
		t = void 0 !== t ? t : 0;
		var r = new ji.Parser(e, t),
			i = [],
			o = [];
		for (n = void 0 !== n ? n : e.length; r.relativeOffset < n;) {
			var a = r.parseByte();
			21 >= a ? (12 === a && (a = 1200 + r.parseByte()), i.push([a, o]), o = []) : o.push(ve(r, a))
		}
		return ye(i)
	}

	function xe(e, t) {
		return t = 390 >= t ? Ni[t] : e[t - 391]
	}

	function we(e, t, n) {
		for (var r, i = {}, o = 0; o < t.length; o += 1) {
			var a = t[o];
			if (Array.isArray(a.type)) {
				var s = [];
				s.length = a.type.length;
				for (var l = 0; l < a.type.length; l++) r = void 0 !== e[a.op] ? e[a.op][l] : void 0, void 0 === r && (r = void 0 !==
					a.value && void 0 !== a.value[l] ? a.value[l] : null), "SID" === a.type[l] && (r = xe(n, r)), s[l] = r;
				i[a.name] = s
			} else r = e[a.op], void 0 === r && (r = void 0 !== a.value ? a.value : null), "SID" === a.type && (r = xe(n, r)),
				i[a.name] = r
		}
		return i
	}

	function Se(e, t) {
		var n = {};
		return n.formatMajor = ji.getCard8(e, t), n.formatMinor = ji.getCard8(e, t + 1), n.size = ji.getCard8(e, t + 2), n.offsetSize =
			ji.getCard8(e, t + 3), n.startOffset = t, n.endOffset = t + 4, n
	}

	function _e(e, t) {
		var n = be(e, 0, e.byteLength);
		return we(n, qi, t)
	}

	function Te(e, t, n, r) {
		var i = be(e, t, n);
		return we(i, Vi, r)
	}

	function Ce(e, t, n, r) {
		for (var i = [], o = 0; o < n.length; o += 1) {
			var a = new DataView(new Uint8Array(n[o]).buffer),
				s = _e(a, r);
			s._subrs = [], s._subrsBias = 0;
			var l = s["private"][0],
				c = s["private"][1];
			if (0 !== l && 0 !== c) {
				var u = Te(e, c + t, l, r);
				if (s._defaultWidthX = u.defaultWidthX, s._nominalWidthX = u.nominalWidthX, 0 !== u.subrs) {
					var h = c + u.subrs,
						f = ge(e, h + t);
					s._subrs = f.objects, s._subrsBias = pe(s._subrs)
				}
				s._privateDict = u
			}
			i.push(s)
		}
		return i
	}

	function Ee(e, t, n, r) {
		var i, o, a = new ji.Parser(e, t);
		n -= 1;
		var s = [".notdef"],
			l = a.parseCard8();
		if (0 === l)
			for (var c = 0; n > c; c += 1) i = a.parseSID(), s.push(xe(r, i));
		else if (1 === l)
			for (; s.length <= n;) {
				i = a.parseSID(), o = a.parseCard8();
				for (var u = 0; o >= u; u += 1) s.push(xe(r, i)), i += 1
			} else {
				if (2 !== l) throw new Error("Unknown charset format " + l);
				for (; s.length <= n;) {
					i = a.parseSID(), o = a.parseCard16();
					for (var h = 0; o >= h; h += 1) s.push(xe(r, i)), i += 1
				}
			}
		return s
	}

	function Oe(e, t, n) {
		var r, i = {},
			o = new ji.Parser(e, t),
			a = o.parseCard8();
		if (0 === a)
			for (var s = o.parseCard8(), l = 0; s > l; l += 1) r = o.parseCard8(), i[r] = l;
		else {
			if (1 !== a) throw new Error("Unknown encoding format " + a);
			var c = o.parseCard8();
			r = 1;
			for (var u = 0; c > u; u += 1)
				for (var h = o.parseCard8(), f = o.parseCard8(), d = h; h + f >= d; d += 1) i[d] = r, r += 1
		}
		return new K(i, n)
	}

	function ke(e, t, n) {
		function r(e, t) {
			b && p.closePath(), p.moveTo(e, t), b = !0
		}

		function i() {
			var e;
			e = m.length % 2 !== 0, e && !y && (T = m.shift() + d), v += m.length >> 1, m.length = 0, y = !0
		}

		function o(n) {
			for (var f, g, S, _, C, E, O, k, R, D, A, I, M = 0; M < n.length;) {
				var L = n[M];
				switch (M += 1, L) {
					case 1:
						i();
						break;
					case 3:
						i();
						break;
					case 4:
						m.length > 1 && !y && (T = m.shift() + d, y = !0), w += m.pop(), r(x, w);
						break;
					case 5:
						for (; m.length > 0;) x += m.shift(), w += m.shift(), p.lineTo(x, w);
						break;
					case 6:
						for (; m.length > 0 && (x += m.shift(), p.lineTo(x, w), 0 !== m.length);) w += m.shift(), p.lineTo(x, w);
						break;
					case 7:
						for (; m.length > 0 && (w += m.shift(), p.lineTo(x, w), 0 !== m.length);) x += m.shift(), p.lineTo(x, w);
						break;
					case 8:
						for (; m.length > 0;) a = x + m.shift(), s = w + m.shift(), l = a + m.shift(), c = s + m.shift(), x = l + m.shift(),
							w = c + m.shift(), p.curveTo(a, s, l, c, x, w);
						break;
					case 10:
						C = m.pop() + h, E = u[C], E && o(E);
						break;
					case 11:
						return;
					case 12:
						switch (L = n[M], M += 1, L) {
							case 35:
								a = x + m.shift(), s = w + m.shift(), l = a + m.shift(), c = s + m.shift(), O = l + m.shift(), k = c + m.shift(),
									R = O + m.shift(), D = k + m.shift(), A = R + m.shift(), I = D + m.shift(), x = A + m.shift(), w = I + m.shift(),
									m.shift(), p.curveTo(a, s, l, c, O, k), p.curveTo(R, D, A, I, x, w);
								break;
							case 34:
								a = x + m.shift(), s = w, l = a + m.shift(), c = s + m.shift(), O = l + m.shift(), k = c, R = O + m.shift(), D =
									c, A = R + m.shift(), I = w, x = A + m.shift(), p.curveTo(a, s, l, c, O, k), p.curveTo(R, D, A, I, x, w);
								break;
							case 36:
								a = x + m.shift(), s = w + m.shift(), l = a + m.shift(), c = s + m.shift(), O = l + m.shift(), k = c, R = O +
									m.shift(), D = c, A = R + m.shift(), I = D + m.shift(), x = A + m.shift(), p.curveTo(a, s, l, c, O, k), p.curveTo(
										R, D, A, I, x, w);
								break;
							case 37:
								a = x + m.shift(), s = w + m.shift(), l = a + m.shift(), c = s + m.shift(), O = l + m.shift(), k = c + m.shift(),
									R = O + m.shift(), D = k + m.shift(), A = R + m.shift(), I = D + m.shift(), Math.abs(A - x) > Math.abs(I - w) ?
									x = A + m.shift() : w = I + m.shift(), p.curveTo(a, s, l, c, O, k), p.curveTo(R, D, A, I, x, w);
								break;
							default:
								console.log("Glyph " + t.index + ": unknown operator 1200" + L), m.length = 0
						}
						break;
					case 14:
						m.length > 0 && !y && (T = m.shift() + d, y = !0), b && (p.closePath(), b = !1);
						break;
					case 18:
						i();
						break;
					case 19:
					case 20:
						i(), M += v + 7 >> 3;
						break;
					case 21:
						m.length > 2 && !y && (T = m.shift() + d, y = !0), w += m.pop(), x += m.pop(), r(x, w);
						break;
					case 22:
						m.length > 1 && !y && (T = m.shift() + d, y = !0), x += m.pop(), r(x, w);
						break;
					case 23:
						i();
						break;
					case 24:
						for (; m.length > 2;) a = x + m.shift(), s = w + m.shift(), l = a + m.shift(), c = s + m.shift(), x = l + m.shift(),
							w = c + m.shift(), p.curveTo(a, s, l, c, x, w);
						x += m.shift(), w += m.shift(), p.lineTo(x, w);
						break;
					case 25:
						for (; m.length > 6;) x += m.shift(), w += m.shift(), p.lineTo(x, w);
						a = x + m.shift(), s = w + m.shift(), l = a + m.shift(), c = s + m.shift(), x = l + m.shift(), w = c + m.shift(),
							p.curveTo(a, s, l, c, x, w);
						break;
					case 26:
						for (m.length % 2 && (x += m.shift()); m.length > 0;) a = x, s = w + m.shift(), l = a + m.shift(), c = s + m.shift(),
							x = l, w = c + m.shift(), p.curveTo(a, s, l, c, x, w);
						break;
					case 27:
						for (m.length % 2 && (w += m.shift()); m.length > 0;) a = x + m.shift(), s = w, l = a + m.shift(), c = s + m.shift(),
							x = l + m.shift(), w = c, p.curveTo(a, s, l, c, x, w);
						break;
					case 28:
						f = n[M], g = n[M + 1], m.push((f << 24 | g << 16) >> 16), M += 2;
						break;
					case 29:
						C = m.pop() + e.gsubrsBias, E = e.gsubrs[C], E && o(E);
						break;
					case 30:
						for (; m.length > 0 && (a = x, s = w + m.shift(), l = a + m.shift(), c = s + m.shift(), x = l + m.shift(), w = c +
								(1 === m.length ? m.shift() : 0), p.curveTo(a, s, l, c, x, w), 0 !== m.length);) a = x + m.shift(), s = w, l =
							a + m.shift(), c = s + m.shift(), w = c + m.shift(), x = l + (1 === m.length ? m.shift() : 0), p.curveTo(a, s,
								l, c, x, w);
						break;
					case 31:
						for (; m.length > 0 && (a = x + m.shift(), s = w, l = a + m.shift(), c = s + m.shift(), w = c + m.shift(), x = l +
								(1 === m.length ? m.shift() : 0), p.curveTo(a, s, l, c, x, w), 0 !== m.length);) a = x, s = w + m.shift(), l =
							a + m.shift(), c = s + m.shift(), x = l + m.shift(), w = c + (1 === m.length ? m.shift() : 0), p.curveTo(a, s,
								l, c, x, w);
						break;
					default:
						32 > L ? console.log("Glyph " + t.index + ": unknown operator " + L) : 247 > L ? m.push(L - 139) : 251 > L ? (f =
							n[M], M += 1, m.push(256 * (L - 247) + f + 108)) : 255 > L ? (f = n[M], M += 1, m.push(256 * -(L - 251) - f -
							108)) : (f = n[M], g = n[M + 1], S = n[M + 2], _ = n[M + 3], M += 4, m.push((f << 24 | g << 16 | S << 8 | _) /
							65536))
				}
			}
		}
		var a, s, l, c, u, h, f, d, p = new g,
			m = [],
			v = 0,
			y = !1,
			b = !1,
			x = 0,
			w = 0;
		if (e.isCIDFont) {
			var S = e.tables.cff.topDict._fdSelect[t.index],
				_ = e.tables.cff.topDict._fdArray[S];
			u = _._subrs, h = _._subrsBias, f = _._defaultWidthX, d = _._nominalWidthX
		} else u = e.tables.cff.topDict._subrs, h = e.tables.cff.topDict._subrsBias, f = e.tables.cff.topDict._defaultWidthX,
			d = e.tables.cff.topDict._nominalWidthX;
		var T = f;
		return o(n), t.advanceWidth = T, p
	}

	function Re(e, t, n, r) {
		var i, o = [],
			a = new ji.Parser(e, t),
			s = a.parseCard8();
		if (0 === s)
			for (var l = 0; n > l; l++) {
				if (i = a.parseCard8(), i >= r) throw new Error("CFF table CID Font FDSelect has bad FD index value " + i +
					" (FD count " + r + ")");
				o.push(i)
			} else {
				if (3 !== s) throw new Error("CFF Table CID Font FDSelect table has unsupported format " + s);
				var c = a.parseCard16(),
					u = a.parseCard16();
				if (0 !== u) throw new Error("CFF Table CID Font FDSelect format 3 range has bad initial GID " + u);
				for (var h, f = 0; c > f; f++) {
					if (i = a.parseCard8(), h = a.parseCard16(), i >= r) throw new Error(
						"CFF table CID Font FDSelect has bad FD index value " + i + " (FD count " + r + ")");
					if (h > n) throw new Error("CFF Table CID Font FDSelect format 3 range has bad GID " + h);
					for (; h > u; u++) o.push(i);
					u = h
				}
				if (h !== n) throw new Error("CFF Table CID Font FDSelect format 3 range has bad final GID " + h)
			}
		return o
	}

	function De(e, t, n) {
		n.tables.cff = {};
		var r = Se(e, t),
			i = ge(e, r.endOffset, ji.bytesToString),
			o = ge(e, i.endOffset),
			a = ge(e, o.endOffset, ji.bytesToString),
			s = ge(e, a.endOffset);
		n.gsubrs = s.objects, n.gsubrsBias = pe(n.gsubrs);
		var l = Ce(e, t, o.objects, a.objects);
		if (1 !== l.length) throw new Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length = " +
			l.length);
		var c = l[0];
		if (n.tables.cff.topDict = c, c._privateDict && (n.defaultWidthX = c._privateDict.defaultWidthX, n.nominalWidthX = c
				._privateDict.nominalWidthX), void 0 !== c.ros[0] && void 0 !== c.ros[1] && (n.isCIDFont = !0), n.isCIDFont) {
			var u = c.fdArray,
				h = c.fdSelect;
			if (0 === u || 0 === h) throw new Error(
				"Font is marked as a CID font, but FDArray and/or FDSelect information is missing");
			u += t;
			var f = ge(e, u),
				d = Ce(e, t, f.objects, a.objects);
			c._fdArray = d, h += t, c._fdSelect = Re(e, h, n.numGlyphs, d.length)
		}
		var p = t + c["private"][1],
			g = Te(e, p, c["private"][0], a.objects);
		if (n.defaultWidthX = g.defaultWidthX, n.nominalWidthX = g.nominalWidthX, 0 !== g.subrs) {
			var m = p + g.subrs,
				v = ge(e, m);
			n.subrs = v.objects, n.subrsBias = pe(n.subrs)
		} else n.subrs = [], n.subrsBias = 0;
		var y = ge(e, t + c.charStrings);
		n.nGlyphs = y.objects.length;
		var b = Ee(e, t + c.charset, n.nGlyphs, a.objects);
		0 === c.encoding ? n.cffEncoding = new K(zi, b) : 1 === c.encoding ? n.cffEncoding = new K(Hi, b) : n.cffEncoding =
			Oe(e, t + c.encoding, b), n.encoding = n.encoding || n.cffEncoding, n.glyphs = new Yi.GlyphSet(n);
		for (var x = 0; x < n.nGlyphs; x += 1) {
			var w = y.objects[x];
			n.glyphs.push(x, Yi.cffGlyphLoader(n, x, ke, w))
		}
	}

	function Ae(e, t) {
		var n, r = Ni.indexOf(e);
		return r >= 0 && (n = r), r = t.indexOf(e), r >= 0 ? n = r + Ni.length : (n = Ni.length + t.length, t.push(e)), n
	}

	function Ie() {
		return new Pi.Record("Header", [{
			name: "major",
			type: "Card8",
			value: 1
		}, {
			name: "minor",
			type: "Card8",
			value: 0
		}, {
			name: "hdrSize",
			type: "Card8",
			value: 4
		}, {
			name: "major",
			type: "Card8",
			value: 1
		}])
	}

	function Me(e) {
		var t = new Pi.Record("Name INDEX", [{
			name: "names",
			type: "INDEX",
			value: []
		}]);
		t.names = [];
		for (var n = 0; n < e.length; n += 1) t.names.push({
			name: "name_" + n,
			type: "NAME",
			value: e[n]
		});
		return t
	}

	function Le(e, t, n) {
		for (var r = {}, i = 0; i < e.length; i += 1) {
			var o = e[i],
				a = t[o.name];
			void 0 === a || de(a, o.value) || ("SID" === o.type && (a = Ae(a, n)), r[o.op] = {
				name: o.name,
				type: o.type,
				value: a
			})
		}
		return r
	}

	function Pe(e, t) {
		var n = new Pi.Record("Top DICT", [{
			name: "dict",
			type: "DICT",
			value: {}
		}]);
		return n.dict = Le(qi, e, t), n
	}

	function Fe(e) {
		var t = new Pi.Record("Top DICT INDEX", [{
			name: "topDicts",
			type: "INDEX",
			value: []
		}]);
		return t.topDicts = [{
			name: "topDict_0",
			type: "TABLE",
			value: e
		}], t
	}

	function Ue(e) {
		var t = new Pi.Record("String INDEX", [{
			name: "strings",
			type: "INDEX",
			value: []
		}]);
		t.strings = [];
		for (var n = 0; n < e.length; n += 1) t.strings.push({
			name: "string_" + n,
			type: "STRING",
			value: e[n]
		});
		return t
	}

	function je() {
		return new Pi.Record("Global Subr INDEX", [{
			name: "subrs",
			type: "INDEX",
			value: []
		}])
	}

	function Be(e, t) {
		for (var n = new Pi.Record("Charsets", [{
				name: "format",
				type: "Card8",
				value: 0
			}]), r = 0; r < e.length; r += 1) {
			var i = e[r],
				o = Ae(i, t);
			n.fields.push({
				name: "glyph_" + r,
				type: "SID",
				value: o
			})
		}
		return n
	}

	function Ne(e) {
		var t = [],
			n = e.path;
		t.push({
			name: "width",
			type: "NUMBER",
			value: e.advanceWidth
		});
		for (var r = 0, i = 0, o = 0; o < n.commands.length; o += 1) {
			var a = void 0,
				s = void 0,
				l = n.commands[o];
			if ("Q" === l.type) {
				var c = 1 / 3,
					u = 2 / 3;
				l = {
					type: "C",
					x: l.x,
					y: l.y,
					x1: c * r + u * l.x1,
					y1: c * i + u * l.y1,
					x2: c * l.x + u * l.x1,
					y2: c * l.y + u * l.y1
				}
			}
			if ("M" === l.type) a = Math.round(l.x - r), s = Math.round(l.y - i), t.push({
				name: "dx",
				type: "NUMBER",
				value: a
			}), t.push({
				name: "dy",
				type: "NUMBER",
				value: s
			}), t.push({
				name: "rmoveto",
				type: "OP",
				value: 21
			}), r = Math.round(l.x), i = Math.round(l.y);
			else if ("L" === l.type) a = Math.round(l.x - r), s = Math.round(l.y - i), t.push({
				name: "dx",
				type: "NUMBER",
				value: a
			}), t.push({
				name: "dy",
				type: "NUMBER",
				value: s
			}), t.push({
				name: "rlineto",
				type: "OP",
				value: 5
			}), r = Math.round(l.x), i = Math.round(l.y);
			else if ("C" === l.type) {
				var h = Math.round(l.x1 - r),
					f = Math.round(l.y1 - i),
					d = Math.round(l.x2 - l.x1),
					p = Math.round(l.y2 - l.y1);
				a = Math.round(l.x - l.x2), s = Math.round(l.y - l.y2), t.push({
					name: "dx1",
					type: "NUMBER",
					value: h
				}), t.push({
					name: "dy1",
					type: "NUMBER",
					value: f
				}), t.push({
					name: "dx2",
					type: "NUMBER",
					value: d
				}), t.push({
					name: "dy2",
					type: "NUMBER",
					value: p
				}), t.push({
					name: "dx",
					type: "NUMBER",
					value: a
				}), t.push({
					name: "dy",
					type: "NUMBER",
					value: s
				}), t.push({
					name: "rrcurveto",
					type: "OP",
					value: 8
				}), r = Math.round(l.x), i = Math.round(l.y)
			}
		}
		return t.push({
			name: "endchar",
			type: "OP",
			value: 14
		}), t
	}

	function ze(e) {
		for (var t = new Pi.Record("CharStrings INDEX", [{
				name: "charStrings",
				type: "INDEX",
				value: []
			}]), n = 0; n < e.length; n += 1) {
			var r = e.get(n),
				i = Ne(r);
			t.charStrings.push({
				name: r.name,
				type: "CHARSTRING",
				value: i
			})
		}
		return t
	}

	function He(e, t) {
		var n = new Pi.Record("Private DICT", [{
			name: "dict",
			type: "DICT",
			value: {}
		}]);
		return n.dict = Le(Vi, e, t), n
	}

	function Ge(e, t) {
		for (var n, r = new Pi.Table("CFF ", [{
				name: "header",
				type: "RECORD"
			}, {
				name: "nameIndex",
				type: "RECORD"
			}, {
				name: "topDictIndex",
				type: "RECORD"
			}, {
				name: "stringIndex",
				type: "RECORD"
			}, {
				name: "globalSubrIndex",
				type: "RECORD"
			}, {
				name: "charsets",
				type: "RECORD"
			}, {
				name: "charStringsIndex",
				type: "RECORD"
			}, {
				name: "privateDict",
				type: "RECORD"
			}]), i = 1 / t.unitsPerEm, o = {
				version: t.version,
				fullName: t.fullName,
				familyName: t.familyName,
				weight: t.weightName,
				fontBBox: t.fontBBox || [0, 0, 0, 0],
				fontMatrix: [i, 0, 0, i, 0, 0],
				charset: 999,
				encoding: 0,
				charStrings: 999,
				"private": [0, 999]
			}, a = {}, s = [], l = 1; l < e.length; l += 1) n = e.get(l), s.push(n.name);
		var c = [];
		r.header = Ie(), r.nameIndex = Me([t.postScriptName]);
		var u = Pe(o, c);
		r.topDictIndex = Fe(u), r.globalSubrIndex = je(), r.charsets = Be(s, c), r.charStringsIndex = ze(e), r.privateDict =
			He(a, c), r.stringIndex = Ue(c);
		var h = r.header.sizeOf() + r.nameIndex.sizeOf() + r.topDictIndex.sizeOf() + r.stringIndex.sizeOf() + r.globalSubrIndex
			.sizeOf();
		return o.charset = h, o.encoding = 0, o.charStrings = o.charset + r.charsets.sizeOf(), o["private"][1] = o.charStrings +
			r.charStringsIndex.sizeOf(), u = Pe(o, c), r.topDictIndex = Fe(u), r
	}

	function Xe(e, t) {
		var n = {},
			r = new ji.Parser(e, t);
		return n.version = r.parseVersion(), n.fontRevision = Math.round(1e3 * r.parseFixed()) / 1e3, n.checkSumAdjustment =
			r.parseULong(), n.magicNumber = r.parseULong(), Ti.argument(1594834165 === n.magicNumber,
				"Font header has wrong magic number."), n.flags = r.parseUShort(), n.unitsPerEm = r.parseUShort(), n.created = r.parseLongDateTime(),
			n.modified = r.parseLongDateTime(), n.xMin = r.parseShort(), n.yMin = r.parseShort(), n.xMax = r.parseShort(), n.yMax =
			r.parseShort(), n.macStyle = r.parseUShort(), n.lowestRecPPEM = r.parseUShort(), n.fontDirectionHint = r.parseShort(),
			n.indexToLocFormat = r.parseShort(), n.glyphDataFormat = r.parseShort(), n
	}

	function We(e) {
		var t = Math.round((new Date).getTime() / 1e3) + 2082844800,
			n = t;
		return e.createdTimestamp && (n = e.createdTimestamp + 2082844800), new Pi.Table("head", [{
			name: "version",
			type: "FIXED",
			value: 65536
		}, {
			name: "fontRevision",
			type: "FIXED",
			value: 65536
		}, {
			name: "checkSumAdjustment",
			type: "ULONG",
			value: 0
		}, {
			name: "magicNumber",
			type: "ULONG",
			value: 1594834165
		}, {
			name: "flags",
			type: "USHORT",
			value: 0
		}, {
			name: "unitsPerEm",
			type: "USHORT",
			value: 1e3
		}, {
			name: "created",
			type: "LONGDATETIME",
			value: n
		}, {
			name: "modified",
			type: "LONGDATETIME",
			value: t
		}, {
			name: "xMin",
			type: "SHORT",
			value: 0
		}, {
			name: "yMin",
			type: "SHORT",
			value: 0
		}, {
			name: "xMax",
			type: "SHORT",
			value: 0
		}, {
			name: "yMax",
			type: "SHORT",
			value: 0
		}, {
			name: "macStyle",
			type: "USHORT",
			value: 0
		}, {
			name: "lowestRecPPEM",
			type: "USHORT",
			value: 0
		}, {
			name: "fontDirectionHint",
			type: "SHORT",
			value: 2
		}, {
			name: "indexToLocFormat",
			type: "SHORT",
			value: 0
		}, {
			name: "glyphDataFormat",
			type: "SHORT",
			value: 0
		}], e)
	}

	function Ye(e, t) {
		var n = {},
			r = new ji.Parser(e, t);
		return n.version = r.parseVersion(), n.ascender = r.parseShort(), n.descender = r.parseShort(), n.lineGap = r.parseShort(),
			n.advanceWidthMax = r.parseUShort(), n.minLeftSideBearing = r.parseShort(), n.minRightSideBearing = r.parseShort(),
			n.xMaxExtent = r.parseShort(), n.caretSlopeRise = r.parseShort(), n.caretSlopeRun = r.parseShort(), n.caretOffset =
			r.parseShort(), r.relativeOffset += 8, n.metricDataFormat = r.parseShort(), n.numberOfHMetrics = r.parseUShort(), n
	}

	function qe(e) {
		return new Pi.Table("hhea", [{
			name: "version",
			type: "FIXED",
			value: 65536
		}, {
			name: "ascender",
			type: "FWORD",
			value: 0
		}, {
			name: "descender",
			type: "FWORD",
			value: 0
		}, {
			name: "lineGap",
			type: "FWORD",
			value: 0
		}, {
			name: "advanceWidthMax",
			type: "UFWORD",
			value: 0
		}, {
			name: "minLeftSideBearing",
			type: "FWORD",
			value: 0
		}, {
			name: "minRightSideBearing",
			type: "FWORD",
			value: 0
		}, {
			name: "xMaxExtent",
			type: "FWORD",
			value: 0
		}, {
			name: "caretSlopeRise",
			type: "SHORT",
			value: 1
		}, {
			name: "caretSlopeRun",
			type: "SHORT",
			value: 0
		}, {
			name: "caretOffset",
			type: "SHORT",
			value: 0
		}, {
			name: "reserved1",
			type: "SHORT",
			value: 0
		}, {
			name: "reserved2",
			type: "SHORT",
			value: 0
		}, {
			name: "reserved3",
			type: "SHORT",
			value: 0
		}, {
			name: "reserved4",
			type: "SHORT",
			value: 0
		}, {
			name: "metricDataFormat",
			type: "SHORT",
			value: 0
		}, {
			name: "numberOfHMetrics",
			type: "USHORT",
			value: 0
		}], e)
	}

	function Ve(e, t, n, r, i) {
		for (var o, a, s = new ji.Parser(e, t), l = 0; r > l; l += 1) {
			n > l && (o = s.parseUShort(), a = s.parseShort());
			var c = i.get(l);
			c.advanceWidth = o, c.leftSideBearing = a
		}
	}

	function Ke(e) {
		for (var t = new Pi.Table("hmtx", []), n = 0; n < e.length; n += 1) {
			var r = e.get(n),
				i = r.advanceWidth || 0,
				o = r.leftSideBearing || 0;
			t.fields.push({
				name: "advanceWidth_" + n,
				type: "USHORT",
				value: i
			}), t.fields.push({
				name: "leftSideBearing_" + n,
				type: "SHORT",
				value: o
			})
		}
		return t
	}

	function $e(e) {
		for (var t = new Pi.Table("ltag", [{
				name: "version",
				type: "ULONG",
				value: 1
			}, {
				name: "flags",
				type: "ULONG",
				value: 0
			}, {
				name: "numTags",
				type: "ULONG",
				value: e.length
			}]), n = "", r = 12 + 4 * e.length, i = 0; i < e.length; ++i) {
			var o = n.indexOf(e[i]);
			0 > o && (o = n.length, n += e[i]), t.fields.push({
				name: "offset " + i,
				type: "USHORT",
				value: r + o
			}), t.fields.push({
				name: "length " + i,
				type: "USHORT",
				value: e[i].length
			})
		}
		return t.fields.push({
			name: "stringPool",
			type: "CHARARRAY",
			value: n
		}), t
	}

	function Ze(e, t) {
		var n = new ji.Parser(e, t),
			r = n.parseULong();
		Ti.argument(1 === r, "Unsupported ltag table version."), n.skip("uLong", 1);
		for (var i = n.parseULong(), o = [], a = 0; i > a; a++) {
			for (var s = "", l = t + n.parseUShort(), c = n.parseUShort(), u = l; l + c > u; ++u) s += String.fromCharCode(e.getInt8(
				u));
			o.push(s)
		}
		return o
	}

	function Qe(e, t) {
		var n = {},
			r = new ji.Parser(e, t);
		return n.version = r.parseVersion(), n.numGlyphs = r.parseUShort(), 1 === n.version && (n.maxPoints = r.parseUShort(),
			n.maxContours = r.parseUShort(), n.maxCompositePoints = r.parseUShort(), n.maxCompositeContours = r.parseUShort(),
			n.maxZones = r.parseUShort(), n.maxTwilightPoints = r.parseUShort(), n.maxStorage = r.parseUShort(), n.maxFunctionDefs =
			r.parseUShort(), n.maxInstructionDefs = r.parseUShort(), n.maxStackElements = r.parseUShort(), n.maxSizeOfInstructions =
			r.parseUShort(), n.maxComponentElements = r.parseUShort(), n.maxComponentDepth = r.parseUShort()), n
	}

	function Je(e) {
		return new Pi.Table("maxp", [{
			name: "version",
			type: "FIXED",
			value: 20480
		}, {
			name: "numGlyphs",
			type: "USHORT",
			value: e
		}])
	}

	function et(e, t, n) {
		switch (e) {
			case 0:
				if (65535 === t) return "und";
				if (n) return n[t];
				break;
			case 1:
				return no[t];
			case 3:
				return io[t]
		}
	}

	function tt(e, t, n) {
		switch (e) {
			case 0:
				return oo;
			case 1:
				return so[n] || ao[t];
			case 3:
				if (1 === t || 10 === t) return oo
		}
	}

	function nt(e, t, n) {
		for (var r = {}, i = new ji.Parser(e, t), o = i.parseUShort(), a = i.parseUShort(), s = i.offset + i.parseUShort(),
				l = 0; a > l; l++) {
			var c = i.parseUShort(),
				u = i.parseUShort(),
				h = i.parseUShort(),
				f = i.parseUShort(),
				d = to[f] || f,
				p = i.parseUShort(),
				g = i.parseUShort(),
				m = et(c, h, n),
				v = tt(c, u, h);
			if (void 0 !== v && void 0 !== m) {
				var y = void 0;
				if (y = v === oo ? Oi.UTF16(e, s + g, p) : Oi.MACSTRING(e, s + g, p, v)) {
					var b = r[d];
					void 0 === b && (b = r[d] = {}), b[m] = y
				}
			}
		}
		var x = 0;
		return 1 === o && (x = i.parseUShort()), r
	}

	function rt(e) {
		var t = {};
		for (var n in e) t[e[n]] = parseInt(n);
		return t
	}

	function it(e, t, n, r, i, o) {
		return new Pi.Record("NameRecord", [{
			name: "platformID",
			type: "USHORT",
			value: e
		}, {
			name: "encodingID",
			type: "USHORT",
			value: t
		}, {
			name: "languageID",
			type: "USHORT",
			value: n
		}, {
			name: "nameID",
			type: "USHORT",
			value: r
		}, {
			name: "length",
			type: "USHORT",
			value: i
		}, {
			name: "offset",
			type: "USHORT",
			value: o
		}])
	}

	function ot(e, t) {
		var n = e.length,
			r = t.length - n + 1;
		e: for (var i = 0; r > i; i++)
			for (; r > i; i++) {
				for (var o = 0; n > o; o++)
					if (t[i + o] !== e[o]) continue e;
				return i
			}
		return -1
	}

	function at(e, t) {
		var n = ot(e, t);
		if (0 > n) {
			n = t.length;
			for (var r = 0, i = e.length; i > r; ++r) t.push(e[r])
		}
		return n
	}

	function st(e, t) {
		var n, r = [],
			i = {},
			o = rt(to);
		for (var a in e) {
			var s = o[a];
			if (void 0 === s && (s = a), n = parseInt(s), isNaN(n)) throw new Error('Name table entry "' + a +
				'" does not exist, see nameTableNames for complete list.');
			i[n] = e[a], r.push(n)
		}
		for (var l = rt(no), c = rt(io), u = [], h = [], f = 0; f < r.length; f++) {
			n = r[f];
			var d = i[n];
			for (var p in d) {
				var g = d[p],
					m = 1,
					v = l[p],
					y = ro[v],
					b = tt(m, y, v),
					x = ki.MACSTRING(g, b);
				void 0 === x && (m = 0, v = t.indexOf(p), 0 > v && (v = t.length, t.push(p)), y = 4, x = ki.UTF16(g));
				var w = at(x, h);
				u.push(it(m, y, v, n, x.length, w));
				var S = c[p];
				if (void 0 !== S) {
					var _ = ki.UTF16(g),
						T = at(_, h);
					u.push(it(3, 1, S, n, _.length, T))
				}
			}
		}
		u.sort(function(e, t) {
			return e.platformID - t.platformID || e.encodingID - t.encodingID || e.languageID - t.languageID || e.nameID - t.nameID
		});
		for (var C = new Pi.Table("name", [{
				name: "format",
				type: "USHORT",
				value: 0
			}, {
				name: "count",
				type: "USHORT",
				value: u.length
			}, {
				name: "stringOffset",
				type: "USHORT",
				value: 6 + 12 * u.length
			}]), E = 0; E < u.length; E++) C.fields.push({
			name: "record_" + E,
			type: "RECORD",
			value: u[E]
		});
		return C.fields.push({
			name: "strings",
			type: "LITERAL",
			value: h
		}), C
	}

	function lt(e) {
		for (var t = 0; t < co.length; t += 1) {
			var n = co[t];
			if (e >= n.begin && e < n.end) return t
		}
		return -1
	}

	function ct(e, t) {
		var n = {},
			r = new ji.Parser(e, t);
		n.version = r.parseUShort(), n.xAvgCharWidth = r.parseShort(), n.usWeightClass = r.parseUShort(), n.usWidthClass = r
			.parseUShort(), n.fsType = r.parseUShort(), n.ySubscriptXSize = r.parseShort(), n.ySubscriptYSize = r.parseShort(),
			n.ySubscriptXOffset = r.parseShort(), n.ySubscriptYOffset = r.parseShort(), n.ySuperscriptXSize = r.parseShort(), n
			.ySuperscriptYSize = r.parseShort(), n.ySuperscriptXOffset = r.parseShort(), n.ySuperscriptYOffset = r.parseShort(),
			n.yStrikeoutSize = r.parseShort(), n.yStrikeoutPosition = r.parseShort(), n.sFamilyClass = r.parseShort(), n.panose = [];
		for (var i = 0; 10 > i; i++) n.panose[i] = r.parseByte();
		return n.ulUnicodeRange1 = r.parseULong(), n.ulUnicodeRange2 = r.parseULong(), n.ulUnicodeRange3 = r.parseULong(), n
			.ulUnicodeRange4 = r.parseULong(), n.achVendID = String.fromCharCode(r.parseByte(), r.parseByte(), r.parseByte(), r
				.parseByte()), n.fsSelection = r.parseUShort(), n.usFirstCharIndex = r.parseUShort(), n.usLastCharIndex = r.parseUShort(),
			n.sTypoAscender = r.parseShort(), n.sTypoDescender = r.parseShort(), n.sTypoLineGap = r.parseShort(), n.usWinAscent =
			r.parseUShort(), n.usWinDescent = r.parseUShort(), n.version >= 1 && (n.ulCodePageRange1 = r.parseULong(), n.ulCodePageRange2 =
				r.parseULong()), n.version >= 2 && (n.sxHeight = r.parseShort(), n.sCapHeight = r.parseShort(), n.usDefaultChar =
				r.parseUShort(), n.usBreakChar = r.parseUShort(), n.usMaxContent = r.parseUShort()), n
	}

	function ut(e) {
		return new Pi.Table("OS/2", [{
			name: "version",
			type: "USHORT",
			value: 3
		}, {
			name: "xAvgCharWidth",
			type: "SHORT",
			value: 0
		}, {
			name: "usWeightClass",
			type: "USHORT",
			value: 0
		}, {
			name: "usWidthClass",
			type: "USHORT",
			value: 0
		}, {
			name: "fsType",
			type: "USHORT",
			value: 0
		}, {
			name: "ySubscriptXSize",
			type: "SHORT",
			value: 650
		}, {
			name: "ySubscriptYSize",
			type: "SHORT",
			value: 699
		}, {
			name: "ySubscriptXOffset",
			type: "SHORT",
			value: 0
		}, {
			name: "ySubscriptYOffset",
			type: "SHORT",
			value: 140
		}, {
			name: "ySuperscriptXSize",
			type: "SHORT",
			value: 650
		}, {
			name: "ySuperscriptYSize",
			type: "SHORT",
			value: 699
		}, {
			name: "ySuperscriptXOffset",
			type: "SHORT",
			value: 0
		}, {
			name: "ySuperscriptYOffset",
			type: "SHORT",
			value: 479
		}, {
			name: "yStrikeoutSize",
			type: "SHORT",
			value: 49
		}, {
			name: "yStrikeoutPosition",
			type: "SHORT",
			value: 258
		}, {
			name: "sFamilyClass",
			type: "SHORT",
			value: 0
		}, {
			name: "bFamilyType",
			type: "BYTE",
			value: 0
		}, {
			name: "bSerifStyle",
			type: "BYTE",
			value: 0
		}, {
			name: "bWeight",
			type: "BYTE",
			value: 0
		}, {
			name: "bProportion",
			type: "BYTE",
			value: 0
		}, {
			name: "bContrast",
			type: "BYTE",
			value: 0
		}, {
			name: "bStrokeVariation",
			type: "BYTE",
			value: 0
		}, {
			name: "bArmStyle",
			type: "BYTE",
			value: 0
		}, {
			name: "bLetterform",
			type: "BYTE",
			value: 0
		}, {
			name: "bMidline",
			type: "BYTE",
			value: 0
		}, {
			name: "bXHeight",
			type: "BYTE",
			value: 0
		}, {
			name: "ulUnicodeRange1",
			type: "ULONG",
			value: 0
		}, {
			name: "ulUnicodeRange2",
			type: "ULONG",
			value: 0
		}, {
			name: "ulUnicodeRange3",
			type: "ULONG",
			value: 0
		}, {
			name: "ulUnicodeRange4",
			type: "ULONG",
			value: 0
		}, {
			name: "achVendID",
			type: "CHARARRAY",
			value: "XXXX"
		}, {
			name: "fsSelection",
			type: "USHORT",
			value: 0
		}, {
			name: "usFirstCharIndex",
			type: "USHORT",
			value: 0
		}, {
			name: "usLastCharIndex",
			type: "USHORT",
			value: 0
		}, {
			name: "sTypoAscender",
			type: "SHORT",
			value: 0
		}, {
			name: "sTypoDescender",
			type: "SHORT",
			value: 0
		}, {
			name: "sTypoLineGap",
			type: "SHORT",
			value: 0
		}, {
			name: "usWinAscent",
			type: "USHORT",
			value: 0
		}, {
			name: "usWinDescent",
			type: "USHORT",
			value: 0
		}, {
			name: "ulCodePageRange1",
			type: "ULONG",
			value: 0
		}, {
			name: "ulCodePageRange2",
			type: "ULONG",
			value: 0
		}, {
			name: "sxHeight",
			type: "SHORT",
			value: 0
		}, {
			name: "sCapHeight",
			type: "SHORT",
			value: 0
		}, {
			name: "usDefaultChar",
			type: "USHORT",
			value: 0
		}, {
			name: "usBreakChar",
			type: "USHORT",
			value: 0
		}, {
			name: "usMaxContext",
			type: "USHORT",
			value: 0
		}], e)
	}

	function ht(e, t) {
		var n = {},
			r = new ji.Parser(e, t);
		switch (n.version = r.parseVersion(), n.italicAngle = r.parseFixed(), n.underlinePosition = r.parseShort(), n.underlineThickness =
			r.parseShort(), n.isFixedPitch = r.parseULong(), n.minMemType42 = r.parseULong(), n.maxMemType42 = r.parseULong(),
			n.minMemType1 = r.parseULong(), n.maxMemType1 = r.parseULong(), n.version) {
			case 1:
				n.names = Gi.slice();
				break;
			case 2:
				n.numberOfGlyphs = r.parseUShort(), n.glyphNameIndex = new Array(n.numberOfGlyphs);
				for (var i = 0; i < n.numberOfGlyphs; i++) n.glyphNameIndex[i] = r.parseUShort();
				n.names = [];
				for (var o = 0; o < n.numberOfGlyphs; o++)
					if (n.glyphNameIndex[o] >= Gi.length) {
						var a = r.parseChar();
						n.names.push(r.parseString(a))
					} break;
			case 2.5:
				n.numberOfGlyphs = r.parseUShort(), n.offset = new Array(n.numberOfGlyphs);
				for (var s = 0; s < n.numberOfGlyphs; s++) n.offset[s] = r.parseChar()
		}
		return n
	}

	function ft() {
		return new Pi.Table("post", [{
			name: "version",
			type: "FIXED",
			value: 196608
		}, {
			name: "italicAngle",
			type: "FIXED",
			value: 0
		}, {
			name: "underlinePosition",
			type: "FWORD",
			value: 0
		}, {
			name: "underlineThickness",
			type: "FWORD",
			value: 0
		}, {
			name: "isFixedPitch",
			type: "ULONG",
			value: 0
		}, {
			name: "minMemType42",
			type: "ULONG",
			value: 0
		}, {
			name: "maxMemType42",
			type: "ULONG",
			value: 0
		}, {
			name: "minMemType1",
			type: "ULONG",
			value: 0
		}, {
			name: "maxMemType1",
			type: "ULONG",
			value: 0
		}])
	}

	function dt(e, t) {
		t = t || 0;
		var n = new N(e, t),
			r = n.parseVersion();
		return Ti.argument(1 === r, "Unsupported GSUB table version."), {
			version: r,
			scripts: n.parseScriptList(),
			features: n.parseFeatureList(),
			lookups: n.parseLookupList(fo)
		}
	}

	function pt(e) {
		return new Pi.Table("GSUB", [{
			name: "version",
			type: "ULONG",
			value: 65536
		}, {
			name: "scripts",
			type: "TABLE",
			value: new Pi.ScriptList(e.scripts)
		}, {
			name: "features",
			type: "TABLE",
			value: new Pi.FeatureList(e.features)
		}, {
			name: "lookups",
			type: "TABLE",
			value: new Pi.LookupList(e.lookups, go)
		}])
	}

	function gt(e, t) {
		var n = new ji.Parser(e, t),
			r = n.parseULong();
		Ti.argument(1 === r, "Unsupported META table version."), n.parseULong(), n.parseULong();
		for (var i = n.parseULong(), o = {}, a = 0; i > a; a++) {
			var s = n.parseTag(),
				l = n.parseULong(),
				c = n.parseULong(),
				u = Oi.UTF8(e, t + l, c);
			o[s] = u
		}
		return o
	}

	function mt(e) {
		var t = Object.keys(e).length,
			n = "",
			r = 16 + 12 * t,
			i = new Pi.Table("meta", [{
				name: "version",
				type: "ULONG",
				value: 1
			}, {
				name: "flags",
				type: "ULONG",
				value: 0
			}, {
				name: "offset",
				type: "ULONG",
				value: r
			}, {
				name: "numTags",
				type: "ULONG",
				value: t
			}]);
		for (var o in e) {
			var a = n.length;
			n += e[o], i.fields.push({
				name: "tag " + o,
				type: "TAG",
				value: o
			}), i.fields.push({
				name: "offset " + o,
				type: "ULONG",
				value: r + a
			}), i.fields.push({
				name: "length " + o,
				type: "ULONG",
				value: e[o].length
			})
		}
		return i.fields.push({
			name: "stringPool",
			type: "CHARARRAY",
			value: n
		}), i
	}

	function vt(e) {
		return Math.log(e) / Math.log(2) | 0
	}

	function yt(e) {
		for (; e.length % 4 !== 0;) e.push(0);
		for (var t = 0, n = 0; n < e.length; n += 4) t += (e[n] << 24) + (e[n + 1] << 16) + (e[n + 2] << 8) + e[n + 3];
		return t %= Math.pow(2, 32)
	}

	function bt(e, t, n, r) {
		return new Pi.Record("Table Record", [{
			name: "tag",
			type: "TAG",
			value: void 0 !== e ? e : ""
		}, {
			name: "checkSum",
			type: "ULONG",
			value: void 0 !== t ? t : 0
		}, {
			name: "offset",
			type: "ULONG",
			value: void 0 !== n ? n : 0
		}, {
			name: "length",
			type: "ULONG",
			value: void 0 !== r ? r : 0
		}])
	}

	function xt(e) {
		var t = new Pi.Table("sfnt", [{
			name: "version",
			type: "TAG",
			value: "OTTO"
		}, {
			name: "numTables",
			type: "USHORT",
			value: 0
		}, {
			name: "searchRange",
			type: "USHORT",
			value: 0
		}, {
			name: "entrySelector",
			type: "USHORT",
			value: 0
		}, {
			name: "rangeShift",
			type: "USHORT",
			value: 0
		}]);
		t.tables = e, t.numTables = e.length;
		var n = Math.pow(2, vt(t.numTables));
		t.searchRange = 16 * n, t.entrySelector = vt(n), t.rangeShift = 16 * t.numTables - t.searchRange;
		for (var r = [], i = [], o = t.sizeOf() + bt().sizeOf() * t.numTables; o % 4 !== 0;) o += 1, i.push({
			name: "padding",
			type: "BYTE",
			value: 0
		});
		for (var a = 0; a < e.length; a += 1) {
			var s = e[a];
			Ti.argument(4 === s.tableName.length, "Table name" + s.tableName + " is invalid.");
			var l = s.sizeOf(),
				c = bt(s.tableName, yt(s.encode()), o, l);
			for (r.push({
					name: c.tag + " Table Record",
					type: "RECORD",
					value: c
				}), i.push({
					name: s.tableName + " table",
					type: "RECORD",
					value: s
				}), o += l, Ti.argument(!isNaN(o), "Something went wrong calculating the offset."); o % 4 !== 0;) o += 1, i.push({
				name: "padding",
				type: "BYTE",
				value: 0
			})
		}
		return r.sort(function(e, t) {
			return e.value.tag > t.value.tag ? 1 : -1
		}), t.fields = t.fields.concat(r), t.fields = t.fields.concat(i), t
	}

	function wt(e, t, n) {
		for (var r = 0; r < t.length; r += 1) {
			var i = e.charToGlyphIndex(t[r]);
			if (i > 0) {
				var o = e.glyphs.get(i);
				return o.getMetrics()
			}
		}
		return n
	}

	function St(e) {
		for (var t = 0, n = 0; n < e.length; n += 1) t += e[n];
		return t / e.length
	}

	function _t(e) {
		for (var t, n = [], r = [], i = [], o = [], a = [], s = [], l = [], c = 0, u = 0, h = 0, f = 0, d = 0, p = 0; p < e.glyphs
			.length; p += 1) {
			var g = e.glyphs.get(p),
				m = 0 | g.unicode;
			if (isNaN(g.advanceWidth)) throw new Error("Glyph " + g.name + " (" + p + "): advanceWidth is not a number.");
			(t > m || void 0 === t) && m > 0 && (t = m), m > c && (c = m);
			var v = uo.getUnicodeRange(m);
			if (32 > v) u |= 1 << v;
			else if (64 > v) h |= 1 << v - 32;
			else if (96 > v) f |= 1 << v - 64;
			else {
				if (!(123 > v)) throw new Error("Unicode ranges bits > 123 are reserved for internal usage");
				d |= 1 << v - 96
			}
			if (".notdef" !== g.name) {
				var y = g.getMetrics();
				n.push(y.xMin), r.push(y.yMin), i.push(y.xMax), o.push(y.yMax), s.push(y.leftSideBearing), l.push(y.rightSideBearing),
					a.push(g.advanceWidth)
			}
		}
		var b = {
			xMin: Math.min.apply(null, n),
			yMin: Math.min.apply(null, r),
			xMax: Math.max.apply(null, i),
			yMax: Math.max.apply(null, o),
			advanceWidthMax: Math.max.apply(null, a),
			advanceWidthAvg: St(a),
			minLeftSideBearing: Math.min.apply(null, s),
			maxLeftSideBearing: Math.max.apply(null, s),
			minRightSideBearing: Math.min.apply(null, l)
		};
		b.ascender = e.ascender, b.descender = e.descender;
		var x = $i.make({
				flags: 3,
				unitsPerEm: e.unitsPerEm,
				xMin: b.xMin,
				yMin: b.yMin,
				xMax: b.xMax,
				yMax: b.yMax,
				lowestRecPPEM: 3,
				createdTimestamp: e.createdTimestamp
			}),
			w = Zi.make({
				ascender: b.ascender,
				descender: b.descender,
				advanceWidthMax: b.advanceWidthMax,
				minLeftSideBearing: b.minLeftSideBearing,
				minRightSideBearing: b.minRightSideBearing,
				xMaxExtent: b.maxLeftSideBearing + (b.xMax - b.xMin),
				numberOfHMetrics: e.glyphs.length
			}),
			S = eo.make(e.glyphs.length),
			_ = uo.make({
				xAvgCharWidth: Math.round(b.advanceWidthAvg),
				usWeightClass: e.tables.os2.usWeightClass,
				usWidthClass: e.tables.os2.usWidthClass,
				usFirstCharIndex: t,
				usLastCharIndex: c,
				ulUnicodeRange1: u,
				ulUnicodeRange2: h,
				ulUnicodeRange3: f,
				ulUnicodeRange4: d,
				fsSelection: e.tables.os2.fsSelection,
				sTypoAscender: b.ascender,
				sTypoDescender: b.descender,
				sTypoLineGap: 0,
				usWinAscent: b.yMax,
				usWinDescent: Math.abs(b.yMin),
				ulCodePageRange1: 1,
				sxHeight: wt(e, "xyvw", {
					yMax: Math.round(b.ascender / 2)
				}).yMax,
				sCapHeight: wt(e, "HIKLEFJMNTZBDPRAGOQSUVWXY", b).yMax,
				usDefaultChar: e.hasChar(" ") ? 32 : 0,
				usBreakChar: e.hasChar(" ") ? 32 : 0
			}),
			T = Qi.make(e.glyphs),
			C = Bi.make(e.glyphs),
			E = e.getEnglishName("fontFamily"),
			O = e.getEnglishName("fontSubfamily"),
			k = E + " " + O,
			R = e.getEnglishName("postScriptName");
		R || (R = E.replace(/\s/g, "") + "-" + O);
		var D = {};
		for (var A in e.names) D[A] = e.names[A];
		D.uniqueID || (D.uniqueID = {
			en: e.getEnglishName("manufacturer") + ":" + k
		}), D.postScriptName || (D.postScriptName = {
			en: R
		}), D.preferredFamily || (D.preferredFamily = e.names.fontFamily), D.preferredSubfamily || (D.preferredSubfamily =
			e.names.fontSubfamily);
		var I = [],
			M = lo.make(D, I),
			L = I.length > 0 ? Ji.make(I) : void 0,
			P = ho.make(),
			F = Ki.make(e.glyphs, {
				version: e.getEnglishName("version"),
				fullName: k,
				familyName: E,
				weightName: O,
				postScriptName: R,
				unitsPerEm: e.unitsPerEm,
				fontBBox: [0, b.yMin, b.ascender, b.advanceWidthMax]
			}),
			U = e.metas && Object.keys(e.metas).length > 0 ? vo.make(e.metas) : void 0,
			j = [x, w, S, _, M, C, P, F, T];
		L && j.push(L), e.tables.gsub && j.push(mo.make(e.tables.gsub)), U && j.push(U);
		for (var B = xt(j), N = B.encode(), z = yt(N), H = B.fields, G = !1, X = 0; X < H.length; X += 1)
			if ("head table" === H[X].name) {
				H[X].value.checkSumAdjustment = 2981146554 - z, G = !0;
				break
			} if (!G) throw new Error("Could not find head table with checkSum to adjust.");
		return B
	}

	function Tt(e, t) {
		for (var n = 0, r = e.length - 1; r >= n;) {
			var i = n + r >>> 1,
				o = e[i].tag;
			if (o === t) return i;
			t > o ? n = i + 1 : r = i - 1
		}
		return -n - 1
	}

	function Ct(e, t) {
		for (var n = 0, r = e.length - 1; r >= n;) {
			var i = n + r >>> 1,
				o = e[i];
			if (o === t) return i;
			t > o ? n = i + 1 : r = i - 1
		}
		return -n - 1
	}

	function Et(e, t) {
		this.font = e, this.tableName = t
	}

	function Ot(e) {
		Et.call(this, e, "gsub")
	}

	function kt(e, t) {
		var n = e.length;
		if (n !== t.length) return !1;
		for (var r = 0; n > r; r++)
			if (e[r] !== t[r]) return !1;
		return !0
	}

	function Rt(e, t, n) {
		for (var r = e.subtables, i = 0; i < r.length; i++) {
			var o = r[i];
			if (o.substFormat === t) return o
		}
		return n ? (r.push(n), n) : void 0
	}

	function Dt() {
		return "undefined" != typeof window
	}

	function At(e) {
		for (var t = new ArrayBuffer(e.length), n = new Uint8Array(t), r = 0; r < e.length; ++r) n[r] = e[r];
		return t
	}

	function It(e) {
		for (var t = new Buffer(e.byteLength), n = new Uint8Array(e), r = 0; r < t.length; ++r) t[r] = n[r];
		return t
	}

	function Mt(e, t) {
		if (!e) throw t
	}

	function Lt(e) {
		this.font = e, this._fpgmState = this._prepState = void 0, this._errorState = 0
	}

	function Pt(e) {
		return e
	}

	function Ft(e) {
		return Math.sign(e) * Math.round(Math.abs(e))
	}

	function Ut(e) {
		return Math.sign(e) * Math.round(Math.abs(2 * e)) / 2
	}

	function jt(e) {
		return Math.sign(e) * (Math.round(Math.abs(e) + .5) - .5)
	}

	function Bt(e) {
		return Math.sign(e) * Math.ceil(Math.abs(e))
	}

	function Nt(e) {
		return Math.sign(e) * Math.floor(Math.abs(e))
	}

	function zt(e, t) {
		this.x = e, this.y = t, this.axis = void 0, this.slope = t / e, this.normalSlope = -e / t, Object.freeze(this)
	}

	function Ht(e, t) {
		var n = Math.sqrt(e * e + t * t);
		return e /= n, t /= n, 1 === e && 0 === t ? To : 0 === e && 1 === t ? Co : new zt(e, t)
	}

	function Gt(e, t, n, r) {
		this.x = this.xo = Math.round(64 * e) / 64, this.y = this.yo = Math.round(64 * t) / 64, this.lastPointOfContour = n,
			this.onCurve = r, this.prevPointOnContour = void 0, this.nextPointOnContour = void 0, this.xTouched = !1, this.yTouched = !
			1, Object.preventExtensions(this)
	}

	function Xt(e, t) {
		switch (this.env = e, this.stack = [], this.prog = t, e) {
			case "glyf":
				this.zp0 = this.zp1 = this.zp2 = 1, this.rp0 = this.rp1 = this.rp2 = 0;
			case "prep":
				this.fv = this.pv = this.dpv = To, this.round = Ft
		}
	}

	function Wt(e) {
		for (var t = e.tZone = new Array(e.gZone.length), n = 0; n < t.length; n++) t[n] = new Gt(0, 0)
	}

	function Yt(e, t) {
		var n, r = e.prog,
			i = e.ip,
			o = 1;
		do
			if (n = r[++i], 88 === n) o++;
			else if (89 === n) o--;
		else if (64 === n) i += r[i + 1] + 1;
		else if (65 === n) i += 2 * r[i + 1] + 1;
		else if (n >= 176 && 183 >= n) i += n - 176 + 1;
		else if (n >= 184 && 191 >= n) i += 2 * (n - 184 + 1);
		else if (t && 1 === o && 27 === n) break;
		while (o > 0);
		e.ip = i
	}

	function qt(t, n) {
		e.DEBUG && console.log(n.step, "SVTCA[" + t.axis + "]"), n.fv = n.pv = n.dpv = t
	}

	function Vt(t, n) {
		e.DEBUG && console.log(n.step, "SPVTCA[" + t.axis + "]"), n.pv = n.dpv = t
	}

	function Kt(t, n) {
		e.DEBUG && console.log(n.step, "SFVTCA[" + t.axis + "]"), n.fv = t
	}

	function $t(t, n) {
		var r = n.stack,
			i = r.pop(),
			o = r.pop(),
			a = n.z2[i],
			s = n.z1[o];
		e.DEBUG && console.log("SPVTL[" + t + "]", i, o);
		var l, c;
		t ? (l = a.y - s.y, c = s.x - a.x) : (l = s.x - a.x, c = s.y - a.y), n.pv = n.dpv = Ht(l, c)
	}

	function Zt(t, n) {
		var r = n.stack,
			i = r.pop(),
			o = r.pop(),
			a = n.z2[i],
			s = n.z1[o];
		e.DEBUG && console.log("SFVTL[" + t + "]", i, o);
		var l, c;
		t ? (l = a.y - s.y, c = s.x - a.x) : (l = s.x - a.x, c = s.y - a.y), n.fv = Ht(l, c)
	}

	function Qt(t) {
		var n = t.stack,
			r = n.pop(),
			i = n.pop();
		e.DEBUG && console.log(t.step, "SPVFS[]", r, i), t.pv = t.dpv = Ht(i, r)
	}

	function Jt(t) {
		var n = t.stack,
			r = n.pop(),
			i = n.pop();
		e.DEBUG && console.log(t.step, "SPVFS[]", r, i), t.fv = Ht(i, r)
	}

	function en(t) {
		var n = t.stack,
			r = t.pv;
		e.DEBUG && console.log(t.step, "GPV[]"), n.push(16384 * r.x), n.push(16384 * r.y)
	}

	function tn(t) {
		var n = t.stack,
			r = t.fv;
		e.DEBUG && console.log(t.step, "GFV[]"), n.push(16384 * r.x), n.push(16384 * r.y)
	}

	function nn(t) {
		t.fv = t.pv, e.DEBUG && console.log(t.step, "SFVTPV[]")
	}

	function rn(t) {
		var n = t.stack,
			r = n.pop(),
			i = n.pop(),
			o = n.pop(),
			a = n.pop(),
			s = n.pop(),
			l = t.z0,
			c = t.z1,
			u = l[r],
			h = l[i],
			f = c[o],
			d = c[a],
			p = t.z2[s];
		e.DEBUG && console.log("ISECT[], ", r, i, o, a, s);
		var g = u.x,
			m = u.y,
			v = h.x,
			y = h.y,
			b = f.x,
			x = f.y,
			w = d.x,
			S = d.y,
			_ = (g - v) * (x - S) - (m - y) * (b - w),
			T = g * y - m * v,
			C = b * S - x * w;
		p.x = (T * (b - w) - C * (g - v)) / _, p.y = (T * (x - S) - C * (m - y)) / _
	}

	function on(t) {
		t.rp0 = t.stack.pop(), e.DEBUG && console.log(t.step, "SRP0[]", t.rp0)
	}

	function an(t) {
		t.rp1 = t.stack.pop(), e.DEBUG && console.log(t.step, "SRP1[]", t.rp1)
	}

	function sn(t) {
		t.rp2 = t.stack.pop(), e.DEBUG && console.log(t.step, "SRP2[]", t.rp2)
	}

	function ln(t) {
		var n = t.stack.pop();
		switch (e.DEBUG && console.log(t.step, "SZP0[]", n), t.zp0 = n, n) {
			case 0:
				t.tZone || Wt(t), t.z0 = t.tZone;
				break;
			case 1:
				t.z0 = t.gZone;
				break;
			default:
				throw new Error("Invalid zone pointer")
		}
	}

	function cn(t) {
		var n = t.stack.pop();
		switch (e.DEBUG && console.log(t.step, "SZP1[]", n), t.zp1 = n, n) {
			case 0:
				t.tZone || Wt(t), t.z1 = t.tZone;
				break;
			case 1:
				t.z1 = t.gZone;
				break;
			default:
				throw new Error("Invalid zone pointer")
		}
	}

	function un(t) {
		var n = t.stack.pop();
		switch (e.DEBUG && console.log(t.step, "SZP2[]", n), t.zp2 = n, n) {
			case 0:
				t.tZone || Wt(t), t.z2 = t.tZone;
				break;
			case 1:
				t.z2 = t.gZone;
				break;
			default:
				throw new Error("Invalid zone pointer")
		}
	}

	function hn(t) {
		var n = t.stack.pop();
		switch (e.DEBUG && console.log(t.step, "SZPS[]", n), t.zp0 = t.zp1 = t.zp2 = n, n) {
			case 0:
				t.tZone || Wt(t), t.z0 = t.z1 = t.z2 = t.tZone;
				break;
			case 1:
				t.z0 = t.z1 = t.z2 = t.gZone;
				break;
			default:
				throw new Error("Invalid zone pointer")
		}
	}

	function fn(t) {
		t.loop = t.stack.pop(), e.DEBUG && console.log(t.step, "SLOOP[]", t.loop)
	}

	function dn(t) {
		e.DEBUG && console.log(t.step, "RTG[]"), t.round = Ft
	}

	function pn(t) {
		e.DEBUG && console.log(t.step, "RTHG[]"), t.round = jt
	}

	function gn(t) {
		var n = t.stack.pop();
		e.DEBUG && console.log(t.step, "SMD[]", n), t.minDis = n / 64
	}

	function mn(t) {
		e.DEBUG && console.log(t.step, "ELSE[]"), Yt(t, !1)
	}

	function vn(t) {
		var n = t.stack.pop();
		e.DEBUG && console.log(t.step, "JMPR[]", n), t.ip += n - 1
	}

	function yn(t) {
		var n = t.stack.pop();
		e.DEBUG && console.log(t.step, "SCVTCI[]", n), t.cvCutIn = n / 64
	}

	function bn(t) {
		var n = t.stack;
		e.DEBUG && console.log(t.step, "DUP[]"), n.push(n[n.length - 1])
	}

	function xn(t) {
		e.DEBUG && console.log(t.step, "POP[]"), t.stack.pop()
	}

	function wn(t) {
		e.DEBUG && console.log(t.step, "CLEAR[]"), t.stack.length = 0
	}

	function Sn(t) {
		var n = t.stack,
			r = n.pop(),
			i = n.pop();
		e.DEBUG && console.log(t.step, "SWAP[]"), n.push(r), n.push(i)
	}

	function _n(t) {
		var n = t.stack;
		e.DEBUG && console.log(t.step, "DEPTH[]"), n.push(n.length)
	}

	function Tn(t) {
		var n = t.stack,
			r = n.pop(),
			i = n.pop();
		e.DEBUG && console.log(t.step, "LOOPCALL[]", r, i);
		var o = t.ip,
			a = t.prog;
		t.prog = t.funcs[r];
		for (var s = 0; i > s; s++) xo(t), e.DEBUG && console.log(++t.step, i > s + 1 ? "next loopcall" : "done loopcall", s);
		t.ip = o, t.prog = a
	}

	function Cn(t) {
		var n = t.stack.pop();
		e.DEBUG && console.log(t.step, "CALL[]", n);
		var r = t.ip,
			i = t.prog;
		t.prog = t.funcs[n], xo(t), t.ip = r, t.prog = i, e.DEBUG && console.log(++t.step, "returning from", n)
	}

	function En(t) {
		var n = t.stack,
			r = n.pop();
		e.DEBUG && console.log(t.step, "CINDEX[]", r), n.push(n[n.length - r])
	}

	function On(t) {
		var n = t.stack,
			r = n.pop();
		e.DEBUG && console.log(t.step, "MINDEX[]", r), n.push(n.splice(n.length - r, 1)[0])
	}

	function kn(t) {
		if ("fpgm" !== t.env) throw new Error("FDEF not allowed here");
		var n = t.stack,
			r = t.prog,
			i = t.ip,
			o = n.pop(),
			a = i;
		for (e.DEBUG && console.log(t.step, "FDEF[]", o); 45 !== r[++i];);
		t.ip = i, t.funcs[o] = r.slice(a + 1, i)
	}

	function Rn(t, n) {
		var r = n.stack.pop(),
			i = n.z0[r],
			o = n.fv,
			a = n.pv;
		e.DEBUG && console.log(n.step, "MDAP[" + t + "]", r);
		var s = a.distance(i, Eo);
		t && (s = n.round(s)), o.setRelative(i, Eo, s, a), o.touch(i), n.rp0 = n.rp1 = r
	}

	function Dn(t, n) {
		var r, i, o, a = n.z2,
			s = a.length - 2;
		e.DEBUG && console.log(n.step, "IUP[" + t.axis + "]");
		for (var l = 0; s > l; l++) r = a[l], t.touched(r) || (i = r.prevTouched(t), i !== r && (o = r.nextTouched(t), i ===
			o && t.setRelative(r, r, t.distance(i, i, !1, !0), t, !0), t.interpolate(r, i, o, t)))
	}

	function An(t, n) {
		for (var r = n.stack, i = t ? n.rp1 : n.rp2, o = (t ? n.z0 : n.z1)[i], a = n.fv, s = n.pv, l = n.loop, c = n.z2; l--;) {
			var u = r.pop(),
				h = c[u],
				f = s.distance(o, o, !1, !0);
			a.setRelative(h, h, f, s), a.touch(h), e.DEBUG && console.log(n.step, (n.loop > 1 ? "loop " + (n.loop - l) + ": " :
				"") + "SHP[" + (t ? "rp1" : "rp2") + "]", u)
		}
		n.loop = 1
	}

	function In(t, n) {
		var r = n.stack,
			i = t ? n.rp1 : n.rp2,
			o = (t ? n.z0 : n.z1)[i],
			a = n.fv,
			s = n.pv,
			l = r.pop(),
			c = n.z2[n.contours[l]],
			u = c;
		e.DEBUG && console.log(n.step, "SHC[" + t + "]", l);
		var h = s.distance(o, o, !1, !0);
		do u !== o && a.setRelative(u, u, h, s), u = u.nextPointOnContour; while (u !== c)
	}

	function Mn(t, n) {
		var r = n.stack,
			i = t ? n.rp1 : n.rp2,
			o = (t ? n.z0 : n.z1)[i],
			a = n.fv,
			s = n.pv,
			l = r.pop();
		e.DEBUG && console.log(n.step, "SHZ[" + t + "]", l);
		var c;
		switch (l) {
			case 0:
				c = n.tZone;
				break;
			case 1:
				c = n.gZone;
				break;
			default:
				throw new Error("Invalid zone")
		}
		for (var u, h = s.distance(o, o, !1, !0), f = c.length - 2, d = 0; f > d; d++) u = c[d], u !== o && a.setRelative(u,
			u, h, s)
	}

	function Ln(t) {
		for (var n = t.stack, r = t.loop, i = t.fv, o = n.pop() / 64, a = t.z2; r--;) {
			var s = n.pop(),
				l = a[s];
			e.DEBUG && console.log(t.step, (t.loop > 1 ? "loop " + (t.loop - r) + ": " : "") + "SHPIX[]", s, o), i.setRelative(
				l, l, o), i.touch(l)
		}
		t.loop = 1
	}

	function Pn(t) {
		for (var n = t.stack, r = t.rp1, i = t.rp2, o = t.loop, a = t.z0[r], s = t.z1[i], l = t.fv, c = t.dpv, u = t.z2; o--;) {
			var h = n.pop(),
				f = u[h];
			e.DEBUG && console.log(t.step, (t.loop > 1 ? "loop " + (t.loop - o) + ": " : "") + "IP[]", h, r, "<->", i), l.interpolate(
				f, a, s, c), l.touch(f)
		}
		t.loop = 1
	}

	function Fn(t, n) {
		var r = n.stack,
			i = r.pop() / 64,
			o = r.pop(),
			a = n.z1[o],
			s = n.z0[n.rp0],
			l = n.fv,
			c = n.pv;
		l.setRelative(a, s, i, c), l.touch(a), e.DEBUG && console.log(n.step, "MSIRP[" + t + "]", i, o), n.rp1 = n.rp0, n.rp2 =
			o, t && (n.rp0 = o)
	}

	function Un(t) {
		for (var n = t.stack, r = t.rp0, i = t.z0[r], o = t.loop, a = t.fv, s = t.pv, l = t.z1; o--;) {
			var c = n.pop(),
				u = l[c];
			e.DEBUG && console.log(t.step, (t.loop > 1 ? "loop " + (t.loop - o) + ": " : "") + "ALIGNRP[]", c), a.setRelative(u,
				i, 0, s), a.touch(u)
		}
		t.loop = 1
	}

	function jn(t) {
		e.DEBUG && console.log(t.step, "RTDG[]"), t.round = Ut
	}

	function Bn(t, n) {
		var r = n.stack,
			i = r.pop(),
			o = r.pop(),
			a = n.z0[o],
			s = n.fv,
			l = n.pv,
			c = n.cvt[i];
		t && (c = n.round(c)), e.DEBUG && console.log(n.step, "MIAP[" + t + "]", i, "(", c, ")", o), s.setRelative(a, Eo, c,
			l), 0 === n.zp0 && (a.xo = a.x, a.yo = a.y), s.touch(a), n.rp0 = n.rp1 = o
	}

	function Nn(t) {
		var n = t.prog,
			r = t.ip,
			i = t.stack,
			o = n[++r];
		e.DEBUG && console.log(t.step, "NPUSHB[]", o);
		for (var a = 0; o > a; a++) i.push(n[++r]);
		t.ip = r
	}

	function zn(t) {
		var n = t.ip,
			r = t.prog,
			i = t.stack,
			o = r[++n];
		e.DEBUG && console.log(t.step, "NPUSHW[]", o);
		for (var a = 0; o > a; a++) {
			var s = r[++n] << 8 | r[++n];
			32768 & s && (s = -((65535 ^ s) + 1)), i.push(s)
		}
		t.ip = n
	}

	function Hn(t) {
		var n = t.stack,
			r = t.store;
		r || (r = t.store = []);
		var i = n.pop(),
			o = n.pop();
		e.DEBUG && console.log(t.step, "WS", i, o), r[o] = i
	}

	function Gn(t) {
		var n = t.stack,
			r = t.store,
			i = n.pop();
		e.DEBUG && console.log(t.step, "RS", i);
		var o = r && r[i] || 0;
		n.push(o)
	}

	function Xn(t) {
		var n = t.stack,
			r = n.pop(),
			i = n.pop();
		e.DEBUG && console.log(t.step, "WCVTP", r, i), t.cvt[i] = r / 64
	}

	function Wn(t) {
		var n = t.stack,
			r = n.pop();
		e.DEBUG && console.log(t.step, "RCVT", r), n.push(64 * t.cvt[r])
	}

	function Yn(t, n) {
		var r = n.stack,
			i = r.pop(),
			o = n.z2[i];
		e.DEBUG && console.log(n.step, "GC[" + t + "]", i), r.push(64 * n.dpv.distance(o, Eo, t, !1))
	}

	function qn(t, n) {
		var r = n.stack,
			i = r.pop(),
			o = r.pop(),
			a = n.z1[i],
			s = n.z0[o],
			l = n.dpv.distance(s, a, t, t);
		e.DEBUG && console.log(n.step, "MD[" + t + "]", i, o, "->", l), n.stack.push(Math.round(64 * l))
	}

	function Vn(t) {
		e.DEBUG && console.log(t.step, "MPPEM[]"), t.stack.push(t.ppem)
	}

	function Kn(t) {
		e.DEBUG && console.log(t.step, "FLIPON[]"), t.autoFlip = !0
	}

	function $n(t) {
		var n = t.stack,
			r = n.pop(),
			i = n.pop();
		e.DEBUG && console.log(t.step, "LT[]", r, i), n.push(r > i ? 1 : 0)
	}

	function Zn(t) {
		var n = t.stack,
			r = n.pop(),
			i = n.pop();
		e.DEBUG && console.log(t.step, "LTEQ[]", r, i), n.push(r >= i ? 1 : 0)
	}

	function Qn(t) {
		var n = t.stack,
			r = n.pop(),
			i = n.pop();
		e.DEBUG && console.log(t.step, "GT[]", r, i), n.push(i > r ? 1 : 0)
	}

	function Jn(t) {
		var n = t.stack,
			r = n.pop(),
			i = n.pop();
		e.DEBUG && console.log(t.step, "GTEQ[]", r, i), n.push(i >= r ? 1 : 0)
	}

	function er(t) {
		var n = t.stack,
			r = n.pop(),
			i = n.pop();
		e.DEBUG && console.log(t.step, "EQ[]", r, i), n.push(r === i ? 1 : 0)
	}

	function tr(t) {
		var n = t.stack,
			r = n.pop(),
			i = n.pop();
		e.DEBUG && console.log(t.step, "NEQ[]", r, i), n.push(r !== i ? 1 : 0)
	}

	function nr(t) {
		var n = t.stack,
			r = n.pop();
		e.DEBUG && console.log(t.step, "ODD[]", r), n.push(Math.trunc(r) % 2 ? 1 : 0)
	}

	function rr(t) {
		var n = t.stack,
			r = n.pop();
		e.DEBUG && console.log(t.step, "EVEN[]", r), n.push(Math.trunc(r) % 2 ? 0 : 1)
	}

	function ir(t) {
		var n, r = t.stack.pop();
		e.DEBUG && console.log(t.step, "IF[]", r), r || (Yt(t, !0), e.DEBUG && console.log(t.step, 27 === n ? "ELSE[]" :
			"EIF[]"))
	}

	function or(t) {
		e.DEBUG && console.log(t.step, "EIF[]")
	}

	function ar(t) {
		var n = t.stack,
			r = n.pop(),
			i = n.pop();
		e.DEBUG && console.log(t.step, "AND[]", r, i), n.push(r && i ? 1 : 0)
	}

	function sr(t) {
		var n = t.stack,
			r = n.pop(),
			i = n.pop();
		e.DEBUG && console.log(t.step, "OR[]", r, i), n.push(r || i ? 1 : 0)
	}

	function lr(t) {
		var n = t.stack,
			r = n.pop();
		e.DEBUG && console.log(t.step, "NOT[]", r), n.push(r ? 0 : 1)
	}

	function cr(t, n) {
		var r = n.stack,
			i = r.pop(),
			o = n.fv,
			a = n.pv,
			s = n.ppem,
			l = n.deltaBase + 16 * (t - 1),
			c = n.deltaShift,
			u = n.z0;
		e.DEBUG && console.log(n.step, "DELTAP[" + t + "]", i, r);
		for (var h = 0; i > h; h++) {
			var f = r.pop(),
				d = r.pop(),
				p = l + ((240 & d) >> 4);
			if (p === s) {
				var g = (15 & d) - 8;
				g >= 0 && g++, e.DEBUG && console.log(n.step, "DELTAPFIX", f, "by", g * c);
				var m = u[f];
				o.setRelative(m, m, g * c, a)
			}
		}
	}

	function ur(t) {
		var n = t.stack,
			r = n.pop();
		e.DEBUG && console.log(t.step, "SDB[]", r), t.deltaBase = r
	}

	function hr(t) {
		var n = t.stack,
			r = n.pop();
		e.DEBUG && console.log(t.step, "SDS[]", r), t.deltaShift = Math.pow(.5, r)
	}

	function fr(t) {
		var n = t.stack,
			r = n.pop(),
			i = n.pop();
		e.DEBUG && console.log(t.step, "ADD[]", r, i), n.push(i + r)
	}

	function dr(t) {
		var n = t.stack,
			r = n.pop(),
			i = n.pop();
		e.DEBUG && console.log(t.step, "SUB[]", r, i), n.push(i - r)
	}

	function pr(t) {
		var n = t.stack,
			r = n.pop(),
			i = n.pop();
		e.DEBUG && console.log(t.step, "DIV[]", r, i), n.push(64 * i / r)
	}

	function gr(t) {
		var n = t.stack,
			r = n.pop(),
			i = n.pop();
		e.DEBUG && console.log(t.step, "MUL[]", r, i), n.push(i * r / 64)
	}

	function mr(t) {
		var n = t.stack,
			r = n.pop();
		e.DEBUG && console.log(t.step, "ABS[]", r), n.push(Math.abs(r))
	}

	function vr(t) {
		var n = t.stack,
			r = n.pop();
		e.DEBUG && console.log(t.step, "NEG[]", r), n.push(-r)
	}

	function yr(t) {
		var n = t.stack,
			r = n.pop();
		e.DEBUG && console.log(t.step, "FLOOR[]", r), n.push(64 * Math.floor(r / 64))
	}

	function br(t) {
		var n = t.stack,
			r = n.pop();
		e.DEBUG && console.log(t.step, "CEILING[]", r), n.push(64 * Math.ceil(r / 64))
	}

	function xr(t, n) {
		var r = n.stack,
			i = r.pop();
		e.DEBUG && console.log(n.step, "ROUND[]"), r.push(64 * n.round(i / 64))
	}

	function wr(t) {
		var n = t.stack,
			r = n.pop(),
			i = n.pop();
		e.DEBUG && console.log(t.step, "WCVTF[]", r, i), t.cvt[i] = r * t.ppem / t.font.unitsPerEm
	}

	function Sr(t, n) {
		var r = n.stack,
			i = r.pop(),
			o = n.ppem,
			a = n.deltaBase + 16 * (t - 1),
			s = n.deltaShift;
		e.DEBUG && console.log(n.step, "DELTAC[" + t + "]", i, r);
		for (var l = 0; i > l; l++) {
			var c = r.pop(),
				u = r.pop(),
				h = a + ((240 & u) >> 4);
			if (h === o) {
				var f = (15 & u) - 8;
				f >= 0 && f++;
				var d = f * s;
				e.DEBUG && console.log(n.step, "DELTACFIX", c, "by", d), n.cvt[c] += d
			}
		}
	}

	function _r(t) {
		var n = t.stack.pop();
		e.DEBUG && console.log(t.step, "SROUND[]", n), t.round = _o;
		var r;
		switch (192 & n) {
			case 0:
				r = .5;
				break;
			case 64:
				r = 1;
				break;
			case 128:
				r = 2;
				break;
			default:
				throw new Error("invalid SROUND value")
		}
		switch (t.srPeriod = r, 48 & n) {
			case 0:
				t.srPhase = 0;
				break;
			case 16:
				t.srPhase = .25 * r;
				break;
			case 32:
				t.srPhase = .5 * r;
				break;
			case 48:
				t.srPhase = .75 * r;
				break;
			default:
				throw new Error("invalid SROUND value")
		}
		n &= 15, 0 === n ? t.srThreshold = 0 : t.srThreshold = (n / 8 - .5) * r
	}

	function Tr(t) {
		var n = t.stack.pop();
		e.DEBUG && console.log(t.step, "S45ROUND[]", n), t.round = _o;
		var r;
		switch (192 & n) {
			case 0:
				r = Math.sqrt(2) / 2;
				break;
			case 64:
				r = Math.sqrt(2);
				break;
			case 128:
				r = 2 * Math.sqrt(2);
				break;
			default:
				throw new Error("invalid S45ROUND value")
		}
		switch (t.srPeriod = r, 48 & n) {
			case 0:
				t.srPhase = 0;
				break;
			case 16:
				t.srPhase = .25 * r;
				break;
			case 32:
				t.srPhase = .5 * r;
				break;
			case 48:
				t.srPhase = .75 * r;
				break;
			default:
				throw new Error("invalid S45ROUND value")
		}
		n &= 15, 0 === n ? t.srThreshold = 0 : t.srThreshold = (n / 8 - .5) * r
	}

	function Cr(t) {
		e.DEBUG && console.log(t.step, "ROFF[]"), t.round = Pt
	}

	function Er(t) {
		e.DEBUG && console.log(t.step, "RUTG[]"), t.round = Bt
	}

	function Or(t) {
		e.DEBUG && console.log(t.step, "RDTG[]"), t.round = Nt
	}

	function kr(t) {
		var n = t.stack.pop();
		e.DEBUG && console.log(t.step, "SCANCTRL[]", n)
	}

	function Rr(t, n) {
		var r = n.stack,
			i = r.pop(),
			o = r.pop(),
			a = n.z2[i],
			s = n.z1[o];
		e.DEBUG && console.log("SDPVTL[" + t + "]", i, o);
		var l, c;
		t ? (l = a.y - s.y, c = s.x - a.x) : (l = s.x - a.x, c = s.y - a.y), n.dpv = Ht(l, c)
	}

	function Dr(t) {
		var n = t.stack,
			r = n.pop(),
			i = 0;
		e.DEBUG && console.log(t.step, "GETINFO[]", r), 1 & r && (i = 35), 32 & r && (i |= 4096), n.push(i)
	}

	function Ar(t) {
		var n = t.stack,
			r = n.pop(),
			i = n.pop(),
			o = n.pop();
		e.DEBUG && console.log(t.step, "ROLL[]"), n.push(i), n.push(r), n.push(o)
	}

	function Ir(t) {
		var n = t.stack,
			r = n.pop(),
			i = n.pop();
		e.DEBUG && console.log(t.step, "MAX[]", r, i), n.push(Math.max(i, r))
	}

	function Mr(t) {
		var n = t.stack,
			r = n.pop(),
			i = n.pop();
		e.DEBUG && console.log(t.step, "MIN[]", r, i), n.push(Math.min(i, r))
	}

	function Lr(t) {
		var n = t.stack.pop();
		e.DEBUG && console.log(t.step, "SCANTYPE[]", n)
	}

	function Pr(t) {
		var n = t.stack.pop(),
			r = t.stack.pop();
		switch (e.DEBUG && console.log(t.step, "INSTCTRL[]", n, r), n) {
			case 1:
				return void(t.inhibitGridFit = !!r);
			case 2:
				return void(t.ignoreCvt = !!r);
			default:
				throw new Error("invalid INSTCTRL[] selector")
		}
	}

	function Fr(t, n) {
		var r = n.stack,
			i = n.prog,
			o = n.ip;
		e.DEBUG && console.log(n.step, "PUSHB[" + t + "]");
		for (var a = 0; t > a; a++) r.push(i[++o]);
		n.ip = o
	}

	function Ur(t, n) {
		var r = n.ip,
			i = n.prog,
			o = n.stack;
		e.DEBUG && console.log(n.ip, "PUSHW[" + t + "]");
		for (var a = 0; t > a; a++) {
			var s = i[++r] << 8 | i[++r];
			32768 & s && (s = -((65535 ^ s) + 1)), o.push(s)
		}
		n.ip = r
	}

	function jr(t, n, r, i, o, a) {
		var s, l, c, u, h = a.stack,
			f = t && h.pop(),
			d = h.pop(),
			p = a.rp0,
			g = a.z0[p],
			m = a.z1[d],
			v = a.minDis,
			y = a.fv,
			b = a.dpv;
		l = s = b.distance(m, g, !0, !0), c = l >= 0 ? 1 : -1, l = Math.abs(l), t && (u = a.cvt[f], i && Math.abs(l - u) < a
				.cvCutIn && (l = u)), r && v > l && (l = v), i && (l = a.round(l)), y.setRelative(m, g, c * l, b), y.touch(m), e.DEBUG &&
			console.log(a.step, (t ? "MIRP[" : "MDRP[") + (n ? "M" : "m") + (r ? ">" : "_") + (i ? "R" : "_") + (0 === o ? "Gr" :
					1 === o ? "Bl" : 2 === o ? "Wh" : "") + "]", t ? f + "(" + a.cvt[f] + "," + u + ")" : "", d, "(d =", s, "->", c *
				l, ")"), a.rp1 = a.rp0, a.rp2 = d, n && (a.rp0 = d)
	}

	function Br(e) {
		e = e || {}, e.empty || (Mt(e.familyName, "When creating a new Font object, familyName is required."), Mt(e.styleName,
					"When creating a new Font object, styleName is required."), Mt(e.unitsPerEm,
					"When creating a new Font object, unitsPerEm is required."), Mt(e.ascender,
					"When creating a new Font object, ascender is required."), Mt(e.descender,
					"When creating a new Font object, descender is required."), Mt(e.descender < 0,
					"Descender should be negative (e.g. -512)."), this.names = {
					fontFamily: {
						en: e.familyName || " "
					},
					fontSubfamily: {
						en: e.styleName || " "
					},
					fullName: {
						en: e.fullName || e.familyName + " " + e.styleName
					},
					postScriptName: {
						en: e.postScriptName || e.familyName + e.styleName
					},
					designer: {
						en: e.designer || " "
					},
					designerURL: {
						en: e.designerURL || " "
					},
					manufacturer: {
						en: e.manufacturer || " "
					},
					manufacturerURL: {
						en: e.manufacturerURL || " "
					},
					license: {
						en: e.license || " "
					},
					licenseURL: {
						en: e.licenseURL || " "
					},
					version: {
						en: e.version || "Version 0.1"
					},
					description: {
						en: e.description || " "
					},
					copyright: {
						en: e.copyright || " "
					},
					trademark: {
						en: e.trademark || " "
					}
				}, this.unitsPerEm = e.unitsPerEm || 1e3, this.ascender = e.ascender, this.descender = e.descender, this.createdTimestamp =
				e.createdTimestamp, this.tables = {
					os2: {
						usWeightClass: e.weightClass || this.usWeightClasses.MEDIUM,
						usWidthClass: e.widthClass || this.usWidthClasses.MEDIUM,
						fsSelection: e.fsSelection || this.fsSelectionValues.REGULAR
					}
				}), this.supported = !0, this.glyphs = new Yi.GlyphSet(this, e.glyphs || []), this.encoding = new q(this), this.substitution =
			new Ot(this), this.tables = this.tables || {}, Object.defineProperty(this, "hinting", {
				get: function() {
					return this._hinting ? this._hinting : "truetype" === this.outlinesFormat ? this._hinting = new Lt(this) : void 0
				}
			})
	}

	function Nr(e, t) {
		var n = JSON.stringify(e),
			r = 256;
		for (var i in t) {
			var o = parseInt(i);
			if (o && !(256 > o)) {
				if (JSON.stringify(t[i]) === n) return o;
				o >= r && (r = o + 1)
			}
		}
		return t[r] = e, r
	}

	function zr(e, t, n) {
		var r = Nr(t.name, n);
		return [{
			name: "tag_" + e,
			type: "TAG",
			value: t.tag
		}, {
			name: "minValue_" + e,
			type: "FIXED",
			value: t.minValue << 16
		}, {
			name: "defaultValue_" + e,
			type: "FIXED",
			value: t.defaultValue << 16
		}, {
			name: "maxValue_" + e,
			type: "FIXED",
			value: t.maxValue << 16
		}, {
			name: "flags_" + e,
			type: "USHORT",
			value: 0
		}, {
			name: "nameID_" + e,
			type: "USHORT",
			value: r
		}]
	}

	function Hr(e, t, n) {
		var r = {},
			i = new ji.Parser(e, t);
		return r.tag = i.parseTag(), r.minValue = i.parseFixed(), r.defaultValue = i.parseFixed(), r.maxValue = i.parseFixed(),
			i.skip("uShort", 1), r.name = n[i.parseUShort()] || {}, r
	}

	function Gr(e, t, n, r) {
		for (var i = Nr(t.name, r), o = [{
				name: "nameID_" + e,
				type: "USHORT",
				value: i
			}, {
				name: "flags_" + e,
				type: "USHORT",
				value: 0
			}], a = 0; a < n.length; ++a) {
			var s = n[a].tag;
			o.push({
				name: "axis_" + e + " " + s,
				type: "FIXED",
				value: t.coordinates[s] << 16
			})
		}
		return o
	}

	function Xr(e, t, n, r) {
		var i = {},
			o = new ji.Parser(e, t);
		i.name = r[o.parseUShort()] || {}, o.skip("uShort", 1), i.coordinates = {};
		for (var a = 0; a < n.length; ++a) i.coordinates[n[a].tag] = o.parseFixed();
		return i
	}

	function Wr(e, t) {
		var n = new Pi.Table("fvar", [{
			name: "version",
			type: "ULONG",
			value: 65536
		}, {
			name: "offsetToData",
			type: "USHORT",
			value: 0
		}, {
			name: "countSizePairs",
			type: "USHORT",
			value: 2
		}, {
			name: "axisCount",
			type: "USHORT",
			value: e.axes.length
		}, {
			name: "axisSize",
			type: "USHORT",
			value: 20
		}, {
			name: "instanceCount",
			type: "USHORT",
			value: e.instances.length
		}, {
			name: "instanceSize",
			type: "USHORT",
			value: 4 + 4 * e.axes.length
		}]);
		n.offsetToData = n.sizeOf();
		for (var r = 0; r < e.axes.length; r++) n.fields = n.fields.concat(zr(r, e.axes[r], t));
		for (var i = 0; i < e.instances.length; i++) n.fields = n.fields.concat(Gr(i, e.instances[i], e.axes, t));
		return n
	}

	function Yr(e, t, n) {
		var r = new ji.Parser(e, t),
			i = r.parseULong();
		Ti.argument(65536 === i, "Unsupported fvar table version.");
		var o = r.parseOffset16();
		r.skip("uShort", 1);
		for (var a = r.parseUShort(), s = r.parseUShort(), l = r.parseUShort(), c = r.parseUShort(), u = [], h = 0; a > h; h++)
			u.push(Hr(e, t + o + h * s, n));
		for (var f = [], d = t + o + a * s, p = 0; l > p; p++) f.push(Xr(e, d + p * c, u, n));
		return {
			axes: u,
			instances: f
		}
	}

	function qr(e, t) {
		for (var n = new ji.Parser(e, t), r = n.parseUShort(), i = [], o = 0; r > o; o++) i[n.parseTag()] = {
			offset: n.parseUShort()
		};
		return i
	}

	function Vr(e, t) {
		var n = new ji.Parser(e, t),
			r = n.parseUShort(),
			i = n.parseUShort();
		if (1 === r) return n.parseUShortList(i);
		if (2 === r) {
			for (var o = []; i--;)
				for (var a = n.parseUShort(), s = n.parseUShort(), l = n.parseUShort(), c = a; s >= c; c++) o[l++] = c;
			return o
		}
	}

	function Kr(e, t) {
		var n = new ji.Parser(e, t),
			r = n.parseUShort();
		if (1 === r) {
			var i = n.parseUShort(),
				o = n.parseUShort(),
				a = n.parseUShortList(o);
			return function(e) {
				return a[e - i] || 0
			}
		}
		if (2 === r) {
			for (var s = n.parseUShort(), l = [], c = [], u = [], h = 0; s > h; h++) l[h] = n.parseUShort(), c[h] = n.parseUShort(),
				u[h] = n.parseUShort();
			return function(e) {
				for (var t = 0, n = l.length - 1; n > t;) {
					var r = t + n + 1 >> 1;
					e < l[r] ? n = r - 1 : t = r
				}
				return l[t] <= e && e <= c[t] ? u[t] || 0 : 0
			}
		}
	}

	function $r(e, t) {
		var n, r, i = new ji.Parser(e, t),
			o = i.parseUShort(),
			a = i.parseUShort(),
			s = Vr(e, t + a),
			l = i.parseUShort(),
			c = i.parseUShort();
		if (4 === l && 0 === c) {
			var u = {};
			if (1 === o) {
				for (var h = i.parseUShort(), f = [], d = i.parseOffset16List(h), p = 0; h > p; p++) {
					var g = d[p],
						m = u[g];
					if (!m) {
						m = {}, i.relativeOffset = g;
						for (var v = i.parseUShort(); v--;) {
							var y = i.parseUShort();
							l && (n = i.parseShort()), c && (r = i.parseShort()), m[y] = n
						}
					}
					f[s[p]] = m
				}
				return function(e, t) {
					var n = f[e];
					return n ? n[t] : void 0
				}
			}
			if (2 === o) {
				for (var b = i.parseUShort(), x = i.parseUShort(), w = i.parseUShort(), S = i.parseUShort(), _ = Kr(e, t + b), T =
						Kr(e, t + x), C = [], E = 0; w > E; E++)
					for (var O = C[E] = [], k = 0; S > k; k++) l && (n = i.parseShort()), c && (r = i.parseShort()), O[k] = n;
				for (var R = {}, D = 0; D < s.length; D++) R[s[D]] = 1;
				return function(e, t) {
					if (R[e]) {
						var n = _(e),
							r = T(t),
							i = C[n];
						return i ? i[r] : void 0
					}
				}
			}
		}
	}

	function Zr(e, t) {
		var n = new ji.Parser(e, t),
			r = n.parseUShort(),
			i = n.parseUShort(),
			o = 16 & i,
			a = n.parseUShort(),
			s = n.parseOffset16List(a),
			l = {
				lookupType: r,
				lookupFlag: i,
				markFilteringSet: o ? n.parseUShort() : -1
			};
		if (2 === r) {
			for (var c = [], u = 0; a > u; u++) {
				var h = $r(e, t + s[u]);
				h && c.push(h)
			}
			l.getKerningValue = function(e, t) {
				for (var n = c.length; n--;) {
					var r = c[n](e, t);
					if (void 0 !== r) return r
				}
				return 0
			}
		}
		return l
	}

	function Qr(e, t, n) {
		var r = new ji.Parser(e, t),
			i = r.parseFixed();
		Ti.argument(1 === i, "Unsupported GPOS table version."), qr(e, t + r.parseUShort()), qr(e, t + r.parseUShort());
		var o = r.parseUShort();
		r.relativeOffset = o;
		for (var a = r.parseUShort(), s = r.parseOffset16List(a), l = t + o, c = 0; a > c; c++) {
			var u = Zr(e, l + s[c]);
			2 !== u.lookupType || n.getGposKerningValue || (n.getGposKerningValue = u.getKerningValue)
		}
	}

	function Jr(e) {
		var t = {};
		e.skip("uShort");
		var n = e.parseUShort();
		Ti.argument(0 === n, "Unsupported kern sub-table version."), e.skip("uShort", 2);
		var r = e.parseUShort();
		e.skip("uShort", 3);
		for (var i = 0; r > i; i += 1) {
			var o = e.parseUShort(),
				a = e.parseUShort(),
				s = e.parseShort();
			t[o + "," + a] = s
		}
		return t
	}

	function ei(e) {
		var t = {};
		e.skip("uShort");
		var n = e.parseULong();
		n > 1 && console.warn("Only the first kern subtable is supported."), e.skip("uLong");
		var r = e.parseUShort(),
			i = 255 & r;
		if (e.skip("uShort"), 0 === i) {
			var o = e.parseUShort();
			e.skip("uShort", 3);
			for (var a = 0; o > a; a += 1) {
				var s = e.parseUShort(),
					l = e.parseUShort(),
					c = e.parseShort();
				t[s + "," + l] = c
			}
		}
		return t
	}

	function ti(e, t) {
		var n = new ji.Parser(e, t),
			r = n.parseUShort();
		if (0 === r) return Jr(n);
		if (1 === r) return ei(n);
		throw new Error("Unsupported kern table version (" + r + ").")
	}

	function ni(e, t, n, r) {
		for (var i = new ji.Parser(e, t), o = r ? i.parseUShort : i.parseULong, a = [], s = 0; n + 1 > s; s += 1) {
			var l = o.call(i);
			r && (l *= 2), a.push(l)
		}
		return a
	}

	function ri(e, t) {
		var n = require("fs");
		n.readFile(e, function(e, n) {
			return e ? t(e.message) : void t(null, At(n))
		})
	}

	function ii(e, t) {
		var n = new XMLHttpRequest;
		n.open("get", e, !0), n.responseType = "arraybuffer", n.onload = function() {
			return 200 !== n.status ? t("Font could not be loaded: " + n.statusText) : t(null, n.response)
		}, n.onerror = function() {
			t("Font could not be loaded")
		}, n.send()
	}

	function oi(e, t) {
		for (var n = [], r = 12, i = 0; t > i; i += 1) {
			var o = ji.getTag(e, r),
				a = ji.getULong(e, r + 4),
				s = ji.getULong(e, r + 8),
				l = ji.getULong(e, r + 12);
			n.push({
				tag: o,
				checksum: a,
				offset: s,
				length: l,
				compression: !1
			}), r += 16
		}
		return n
	}

	function ai(e, t) {
		for (var n = [], r = 44, i = 0; t > i; i += 1) {
			var o = ji.getTag(e, r),
				a = ji.getULong(e, r + 4),
				s = ji.getULong(e, r + 8),
				l = ji.getULong(e, r + 12),
				c = void 0;
			c = l > s ? "WOFF" : !1, n.push({
				tag: o,
				offset: a,
				compression: c,
				compressedLength: s,
				length: l
			}), r += 20
		}
		return n
	}

	function si(e, t) {
		if ("WOFF" === t.compression) {
			var n = new Uint8Array(e.buffer, t.offset + 2, t.compressedLength - 2),
				r = new Uint8Array(t.length);
			if (_i(n, r), r.byteLength !== t.length) throw new Error("Decompression error: " + t.tag +
				" decompressed length doesn't match recorded length");
			var i = new DataView(r.buffer, 0);
			return {
				data: i,
				offset: 0
			}
		}
		return {
			data: e,
			offset: t.offset
		}
	}

	function li(e) {
		var t, n, r, i = new Br({
				empty: !0
			}),
			o = new DataView(e, 0),
			a = [],
			s = ji.getTag(o, 0);
		if (s === String.fromCharCode(0, 1, 0, 0) || "true" === s || "typ1" === s) i.outlinesFormat = "truetype", r = ji.getUShort(
			o, 4), a = oi(o, r);
		else if ("OTTO" === s) i.outlinesFormat = "cff", r = ji.getUShort(o, 4), a = oi(o, r);
		else {
			if ("wOFF" !== s) throw new Error("Unsupported OpenType signature " + s);
			var l = ji.getTag(o, 4);
			if (l === String.fromCharCode(0, 1, 0, 0)) i.outlinesFormat = "truetype";
			else {
				if ("OTTO" !== l) throw new Error("Unsupported OpenType flavor " + s);
				i.outlinesFormat = "cff"
			}
			r = ji.getUShort(o, 12), a = ai(o, r)
		}
		for (var c, u, h, f, d, p, g, m, v, y, b, x = 0; r > x; x += 1) {
			var w = a[x],
				S = void 0;
			switch (w.tag) {
				case "cmap":
					S = si(o, w), i.tables.cmap = Bi.parse(S.data, S.offset), i.encoding = new V(i.tables.cmap);
					break;
				case "cvt ":
					S = si(o, w), b = new ji.Parser(S.data, S.offset), i.tables.cvt = b.parseShortList(w.length / 2);
					break;
				case "fvar":
					u = w;
					break;
				case "fpgm":
					S = si(o, w), b = new ji.Parser(S.data, S.offset), i.tables.fpgm = b.parseByteList(w.length);
					break;
				case "head":
					S = si(o, w), i.tables.head = $i.parse(S.data, S.offset), i.unitsPerEm = i.tables.head.unitsPerEm, t = i.tables.head
						.indexToLocFormat;
					break;
				case "hhea":
					S = si(o, w), i.tables.hhea = Zi.parse(S.data, S.offset), i.ascender = i.tables.hhea.ascender, i.descender = i.tables
						.hhea.descender, i.numberOfHMetrics = i.tables.hhea.numberOfHMetrics;
					break;
				case "hmtx":
					p = w;
					break;
				case "ltag":
					S = si(o, w), n = Ji.parse(S.data, S.offset);
					break;
				case "maxp":
					S = si(o, w), i.tables.maxp = eo.parse(S.data, S.offset), i.numGlyphs = i.tables.maxp.numGlyphs;
					break;
				case "name":
					v = w;
					break;
				case "OS/2":
					S = si(o, w), i.tables.os2 = uo.parse(S.data, S.offset);
					break;
				case "post":
					S = si(o, w), i.tables.post = ho.parse(S.data, S.offset), i.glyphNames = new $(i.tables.post);
					break;
				case "prep":
					S = si(o, w), b = new ji.Parser(S.data, S.offset), i.tables.prep = b.parseByteList(w.length);
					break;
				case "glyf":
					h = w;
					break;
				case "loca":
					m = w;
					break;
				case "CFF ":
					c = w;
					break;
				case "kern":
					g = w;
					break;
				case "GPOS":
					f = w;
					break;
				case "GSUB":
					d = w;
					break;
				case "meta":
					y = w
			}
		}
		var _ = si(o, v);
		if (i.tables.name = lo.parse(_.data, _.offset, n), i.names = i.tables.name, h && m) {
			var T = 0 === t,
				C = si(o, m),
				E = Ao.parse(C.data, C.offset, i.numGlyphs, T),
				O = si(o, h);
			i.glyphs = Wi.parse(O.data, O.offset, E, i)
		} else {
			if (!c) throw new Error("Font doesn't contain TrueType or CFF outlines.");
			var k = si(o, c);
			Ki.parse(k.data, k.offset, i)
		}
		var R = si(o, p);
		if (Qi.parse(R.data, R.offset, i.numberOfHMetrics, i.numGlyphs, i.glyphs), Z(i), g) {
			var D = si(o, g);
			i.kerningPairs = Do.parse(D.data, D.offset)
		} else i.kerningPairs = {};
		if (f) {
			var A = si(o, f);
			Ro.parse(A.data, A.offset, i)
		}
		if (d) {
			var I = si(o, d);
			i.tables.gsub = mo.parse(I.data, I.offset)
		}
		if (u) {
			var M = si(o, u);
			i.tables.fvar = ko.parse(M.data, M.offset, i.names)
		}
		if (y) {
			var L = si(o, y);
			i.tables.meta = vo.parse(L.data, L.offset), i.metas = i.tables.meta
		}
		return i
	}

	function ci(e, t) {
		var n = "undefined" == typeof window,
			r = n ? ri : ii;
		r(e, function(e, n) {
			if (e) return t(e);
			var r;
			try {
				r = li(n)
			} catch (i) {
				return t(i, null)
			}
			return t(null, r)
		})
	}

	function ui(e) {
		var t = require("fs"),
			n = t.readFileSync(e);
		return li(At(n))
	}
	var hi = 0,
		fi = -3,
		di = new t,
		pi = new t,
		gi = new Uint8Array(30),
		mi = new Uint16Array(30),
		vi = new Uint8Array(30),
		yi = new Uint16Array(30),
		bi = new Uint8Array([16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15]),
		xi = new t,
		wi = new Uint8Array(320),
		Si = new Uint16Array(16);
	i(di, pi), r(gi, mi, 4, 3), r(vi, yi, 2, 1), gi[28] = 0, mi[28] = 258;
	var _i = f;
	p.prototype.isEmpty = function() {
		return isNaN(this.x1) || isNaN(this.y1) || isNaN(this.x2) || isNaN(this.y2)
	}, p.prototype.addPoint = function(e, t) {
		"number" == typeof e && ((isNaN(this.x1) || isNaN(this.x2)) && (this.x1 = e, this.x2 = e), e < this.x1 && (this.x1 =
			e), e > this.x2 && (this.x2 = e)), "number" == typeof t && ((isNaN(this.y1) || isNaN(this.y2)) && (this.y1 = t,
			this.y2 = t), t < this.y1 && (this.y1 = t), t > this.y2 && (this.y2 = t))
	}, p.prototype.addX = function(e) {
		this.addPoint(e, null)
	}, p.prototype.addY = function(e) {
		this.addPoint(null, e)
	}, p.prototype.addBezier = function(e, t, n, r, i, o, a, s) {
		var l = this,
			c = [e, t],
			u = [n, r],
			h = [i, o],
			f = [a, s];
		this.addPoint(e, t), this.addPoint(a, s);
		for (var p = 0; 1 >= p; p++) {
			var g = 6 * c[p] - 12 * u[p] + 6 * h[p],
				m = -3 * c[p] + 9 * u[p] - 9 * h[p] + 3 * f[p],
				v = 3 * u[p] - 3 * c[p];
			if (0 !== m) {
				var y = Math.pow(g, 2) - 4 * v * m;
				if (!(0 > y)) {
					var b = (-g + Math.sqrt(y)) / (2 * m);
					b > 0 && 1 > b && (0 === p && l.addX(d(c[p], u[p], h[p], f[p], b)), 1 === p && l.addY(d(c[p], u[p], h[p], f[p],
						b)));
					var x = (-g - Math.sqrt(y)) / (2 * m);
					x > 0 && 1 > x && (0 === p && l.addX(d(c[p], u[p], h[p], f[p], x)), 1 === p && l.addY(d(c[p], u[p], h[p], f[p],
						x)))
				}
			} else {
				if (0 === g) continue;
				var w = -v / g;
				w > 0 && 1 > w && (0 === p && l.addX(d(c[p], u[p], h[p], f[p], w)), 1 === p && l.addY(d(c[p], u[p], h[p], f[p], w)))
			}
		}
	}, p.prototype.addQuad = function(e, t, n, r, i, o) {
		var a = e + 2 / 3 * (n - e),
			s = t + 2 / 3 * (r - t),
			l = a + 1 / 3 * (i - e),
			c = s + 1 / 3 * (o - t);
		this.addBezier(e, t, a, s, l, c, i, o)
	}, g.prototype.moveTo = function(e, t) {
		this.commands.push({
			type: "M",
			x: e,
			y: t
		})
	}, g.prototype.lineTo = function(e, t) {
		this.commands.push({
			type: "L",
			x: e,
			y: t
		})
	}, g.prototype.curveTo = g.prototype.bezierCurveTo = function(e, t, n, r, i, o) {
		this.commands.push({
			type: "C",
			x1: e,
			y1: t,
			x2: n,
			y2: r,
			x: i,
			y: o
		})
	}, g.prototype.quadTo = g.prototype.quadraticCurveTo = function(e, t, n, r) {
		this.commands.push({
			type: "Q",
			x1: e,
			y1: t,
			x: n,
			y: r
		})
	}, g.prototype.close = g.prototype.closePath = function() {
		this.commands.push({
			type: "Z"
		})
	}, g.prototype.extend = function(e) {
		if (e.commands) e = e.commands;
		else if (e instanceof p) {
			var t = e;
			return this.moveTo(t.x1, t.y1), this.lineTo(t.x2, t.y1), this.lineTo(t.x2, t.y2), this.lineTo(t.x1, t.y2), void this
				.close()
		}
		Array.prototype.push.apply(this.commands, e)
	}, g.prototype.getBoundingBox = function() {
		for (var e = this, t = new p, n = 0, r = 0, i = 0, o = 0, a = 0; a < this.commands.length; a++) {
			var s = e.commands[a];
			switch (s.type) {
				case "M":
					t.addPoint(s.x, s.y), n = i = s.x, r = o = s.y;
					break;
				case "L":
					t.addPoint(s.x, s.y), i = s.x, o = s.y;
					break;
				case "Q":
					t.addQuad(i, o, s.x1, s.y1, s.x, s.y), i = s.x, o = s.y;
					break;
				case "C":
					t.addBezier(i, o, s.x1, s.y1, s.x2, s.y2, s.x, s.y), i = s.x, o = s.y;
					break;
				case "Z":
					i = n, o = r;
					break;
				default:
					throw new Error("Unexpected path command " + s.type)
			}
		}
		return t.isEmpty() && t.addPoint(0, 0), t
	}, g.prototype.draw = function(e) {
		var t = this;
		e.beginPath();
		for (var n = 0; n < this.commands.length; n += 1) {
			var r = t.commands[n];
			"M" === r.type ? e.moveTo(r.x, r.y) : "L" === r.type ? e.lineTo(r.x, r.y) : "C" === r.type ? e.bezierCurveTo(r.x1,
				r.y1, r.x2, r.y2, r.x, r.y) : "Q" === r.type ? e.quadraticCurveTo(r.x1, r.y1, r.x, r.y) : "Z" === r.type && e.closePath()
		}
		this.fill && (e.fillStyle = this.fill, e.fill()), this.stroke && (e.strokeStyle = this.stroke, e.lineWidth = this.strokeWidth,
			e.stroke())
	}, g.prototype.toPathData = function(e) {
		function t(t) {
			return Math.round(t) === t ? "" + Math.round(t) : t.toFixed(e)
		}

		function n() {
			for (var e = arguments, n = "", r = 0; r < arguments.length; r += 1) {
				var i = e[r];
				i >= 0 && r > 0 && (n += " "), n += t(i)
			}
			return n
		}
		var r = this;
		e = void 0 !== e ? e : 2;
		for (var i = "", o = 0; o < this.commands.length; o += 1) {
			var a = r.commands[o];
			"M" === a.type ? i += "M" + n(a.x, a.y) : "L" === a.type ? i += "L" + n(a.x, a.y) : "C" === a.type ? i += "C" + n(
				a.x1, a.y1, a.x2, a.y2, a.x, a.y) : "Q" === a.type ? i += "Q" + n(a.x1, a.y1, a.x, a.y) : "Z" === a.type && (i +=
				"Z")
		}
		return i
	}, g.prototype.toSVG = function(e) {
		var t = '<path d="';
		return t += this.toPathData(e), t += '"', this.fill && "black" !== this.fill && (t += null === this.fill ?
				' fill="none"' : ' fill="' + this.fill + '"'),
			this.stroke && (t += ' stroke="' + this.stroke + '" stroke-width="' + this.strokeWidth + '"'), t += "/>"
	}, g.prototype.toDOMElement = function(e) {
		var t = this.toPathData(e),
			n = document.createElementNS("http://www.w3.org/2000/svg", "path");
		return n.setAttribute("d", t), n
	};
	var Ti = {
			fail: m,
			argument: v,
			assert: v
		},
		Ci = 32768,
		Ei = 2147483648,
		Oi = {},
		ki = {},
		Ri = {};
	ki.BYTE = function(e) {
			return Ti.argument(e >= 0 && 255 >= e, "Byte value should be between 0 and 255."), [e]
		}, Ri.BYTE = y(1), ki.CHAR = function(e) {
			return [e.charCodeAt(0)]
		}, Ri.CHAR = y(1), ki.CHARARRAY = function(e) {
			for (var t = [], n = 0; n < e.length; n += 1) t[n] = e.charCodeAt(n);
			return t
		}, Ri.CHARARRAY = function(e) {
			return e.length
		}, ki.USHORT = function(e) {
			return [e >> 8 & 255, 255 & e]
		}, Ri.USHORT = y(2), ki.SHORT = function(e) {
			return e >= Ci && (e = -(2 * Ci - e)), [e >> 8 & 255, 255 & e]
		}, Ri.SHORT = y(2), ki.UINT24 = function(e) {
			return [e >> 16 & 255, e >> 8 & 255, 255 & e]
		}, Ri.UINT24 = y(3), ki.ULONG = function(e) {
			return [e >> 24 & 255, e >> 16 & 255, e >> 8 & 255, 255 & e]
		}, Ri.ULONG = y(4), ki.LONG = function(e) {
			return e >= Ei && (e = -(2 * Ei - e)), [e >> 24 & 255, e >> 16 & 255, e >> 8 & 255, 255 & e]
		}, Ri.LONG = y(4), ki.FIXED = ki.ULONG, Ri.FIXED = Ri.ULONG, ki.FWORD = ki.SHORT, Ri.FWORD = Ri.SHORT, ki.UFWORD =
		ki.USHORT, Ri.UFWORD = Ri.USHORT, ki.LONGDATETIME = function(e) {
			return [0, 0, 0, 0, e >> 24 & 255, e >> 16 & 255, e >> 8 & 255, 255 & e]
		}, Ri.LONGDATETIME = y(8), ki.TAG = function(e) {
			return Ti.argument(4 === e.length, "Tag should be exactly 4 ASCII characters."), [e.charCodeAt(0), e.charCodeAt(1),
				e.charCodeAt(2), e.charCodeAt(3)
			]
		}, Ri.TAG = y(4), ki.Card8 = ki.BYTE, Ri.Card8 = Ri.BYTE, ki.Card16 = ki.USHORT, Ri.Card16 = Ri.USHORT, ki.OffSize =
		ki.BYTE, Ri.OffSize = Ri.BYTE, ki.SID = ki.USHORT, Ri.SID = Ri.USHORT, ki.NUMBER = function(e) {
			return e >= -107 && 107 >= e ? [e + 139] : e >= 108 && 1131 >= e ? (e -= 108, [(e >> 8) + 247, 255 & e]) : e >= -
				1131 && -108 >= e ? (e = -e - 108, [(e >> 8) + 251, 255 & e]) : e >= -32768 && 32767 >= e ? ki.NUMBER16(e) : ki.NUMBER32(
					e)
		}, Ri.NUMBER = function(e) {
			return ki.NUMBER(e).length
		}, ki.NUMBER16 = function(e) {
			return [28, e >> 8 & 255, 255 & e]
		}, Ri.NUMBER16 = y(3), ki.NUMBER32 = function(e) {
			return [29, e >> 24 & 255, e >> 16 & 255, e >> 8 & 255, 255 & e]
		}, Ri.NUMBER32 = y(5), ki.REAL = function(e) {
			var t = e.toString(),
				n = /\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(t);
			if (n) {
				var r = parseFloat("1e" + ((n[2] ? +n[2] : 0) + n[1].length));
				t = (Math.round(e * r) / r).toString()
			}
			for (var i = "", o = 0, a = t.length; a > o; o += 1) {
				var s = t[o];
				i += "e" === s ? "-" === t[++o] ? "c" : "b" : "." === s ? "a" : "-" === s ? "e" : s
			}
			i += 1 & i.length ? "f" : "ff";
			for (var l = [30], c = 0, u = i.length; u > c; c += 2) l.push(parseInt(i.substr(c, 2), 16));
			return l
		}, Ri.REAL = function(e) {
			return ki.REAL(e).length
		}, ki.NAME = ki.CHARARRAY, Ri.NAME = Ri.CHARARRAY, ki.STRING = ki.CHARARRAY, Ri.STRING = Ri.CHARARRAY, Oi.UTF8 =
		function(e, t, n) {
			for (var r = [], i = n, o = 0; i > o; o++, t += 1) r[o] = e.getUint8(t);
			return String.fromCharCode.apply(null, r)
		}, Oi.UTF16 = function(e, t, n) {
			for (var r = [], i = n / 2, o = 0; i > o; o++, t += 2) r[o] = e.getUint16(t);
			return String.fromCharCode.apply(null, r)
		}, ki.UTF16 = function(e) {
			for (var t = [], n = 0; n < e.length; n += 1) {
				var r = e.charCodeAt(n);
				t[t.length] = r >> 8 & 255, t[t.length] = 255 & r
			}
			return t
		}, Ri.UTF16 = function(e) {
			return 2 * e.length
		};
	var Di = {
		"x-mac-croatian": "ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®Š™´¨≠ŽØ∞±≤≥∆µ∂∑∏š∫ªºΩžø¿¡¬√ƒ≈Ć«Č… ÀÃÕŒœĐ—“”‘’÷◊©⁄€‹›Æ»–·‚„‰ÂćÁčÈÍÎÏÌÓÔđÒÚÛÙıˆ˜¯πË˚¸Êæˇ",
		"x-mac-cyrillic": "АБВГДЕЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯ†°Ґ£§•¶І®©™Ђђ≠Ѓѓ∞±≤≥іµґЈЄєЇїЉљЊњјЅ¬√ƒ≈∆«»… ЋћЌќѕ–—“”‘’÷„ЎўЏџ№Ёёяабвгдежзийклмнопрстуфхцчшщъыьэю",
		"x-mac-gaelic": "ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØḂ±≤≥ḃĊċḊḋḞḟĠġṀæøṁṖṗɼƒſṠ«»… ÀÃÕŒœ–—“”‘’ṡẛÿŸṪ€‹›Ŷŷṫ·Ỳỳ⁊ÂÊÁËÈÍÎÏÌÓÔ♣ÒÚÛÙıÝýŴŵẄẅẀẁẂẃ",
		"x-mac-greek": "Ä¹²É³ÖÜ΅àâä΄¨çéèêë£™îï•½‰ôö¦€ùûü†ΓΔΘΛΞΠß®©ΣΪ§≠°·Α±≤≥¥ΒΕΖΗΙΚΜΦΫΨΩάΝ¬ΟΡ≈Τ«»… ΥΧΆΈœ–―“”‘’÷ΉΊΌΎέήίόΏύαβψδεφγηιξκλμνοπώρστθωςχυζϊϋΐΰ­",
		"x-mac-icelandic": "ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûüÝ°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄€ÐðÞþý·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ",
		"x-mac-inuit": "ᐃᐄᐅᐆᐊᐋᐱᐲᐳᐴᐸᐹᑉᑎᑏᑐᑑᑕᑖᑦᑭᑮᑯᑰᑲᑳᒃᒋᒌᒍᒎᒐᒑ°ᒡᒥᒦ•¶ᒧ®©™ᒨᒪᒫᒻᓂᓃᓄᓅᓇᓈᓐᓯᓰᓱᓲᓴᓵᔅᓕᓖᓗᓘᓚᓛᓪᔨᔩᔪᔫᔭ… ᔮᔾᕕᕖᕗ–—“”‘’ᕘᕙᕚᕝᕆᕇᕈᕉᕋᕌᕐᕿᖀᖁᖂᖃᖄᖅᖏᖐᖑᖒᖓᖔᖕᙱᙲᙳᙴᙵᙶᖖᖠᖡᖢᖣᖤᖥᖦᕼŁł",
		"x-mac-ce": "ÄĀāÉĄÖÜáąČäčĆćéŹźĎíďĒēĖóėôöõúĚěü†°Ę£§•¶ß®©™ę¨≠ģĮįĪ≤≥īĶ∂∑łĻļĽľĹĺŅņŃ¬√ńŇ∆«»… ňŐÕőŌ–—“”‘’÷◊ōŔŕŘ‹›řŖŗŠ‚„šŚśÁŤťÍŽžŪÓÔūŮÚůŰűŲųÝýķŻŁżĢˇ",
		macintosh: "ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄€‹›ﬁﬂ‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ",
		"x-mac-romanian": "ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ĂȘ∞±≤≥¥µ∂∑∏π∫ªºΩăș¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄€‹›Țț‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ",
		"x-mac-turkish": "ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸĞğİıŞş‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙˆ˜¯˘˙˚¸˝˛ˇ"
	};
	Oi.MACSTRING = function(e, t, n, r) {
		var i = Di[r];
		if (void 0 !== i) {
			for (var o = "", a = 0; n > a; a++) {
				var s = e.getUint8(t + a);
				o += 127 >= s ? String.fromCharCode(s) : i[127 & s]
			}
			return o
		}
	};
	var Ai, Ii = "function" == typeof WeakMap && new WeakMap,
		Mi = function(e) {
			if (!Ai) {
				Ai = {};
				for (var t in Di) Ai[t] = new String(t)
			}
			var n = Ai[e];
			if (void 0 !== n) {
				if (Ii) {
					var r = Ii.get(n);
					if (void 0 !== r) return r
				}
				var i = Di[e];
				if (void 0 !== i) {
					for (var o = {}, a = 0; a < i.length; a++) o[i.charCodeAt(a)] = a + 128;
					return Ii && Ii.set(n, o), o
				}
			}
		};
	ki.MACSTRING = function(e, t) {
		var n = Mi(t);
		if (void 0 !== n) {
			for (var r = [], i = 0; i < e.length; i++) {
				var o = e.charCodeAt(i);
				if (o >= 128 && (o = n[o], void 0 === o)) return;
				r[i] = o
			}
			return r
		}
	}, Ri.MACSTRING = function(e, t) {
		var n = ki.MACSTRING(e, t);
		return void 0 !== n ? n.length : 0
	}, ki.VARDELTAS = function(e) {
		for (var t = 0, n = []; t < e.length;) {
			var r = e[t];
			t = 0 === r ? x(e, t, n) : r >= -128 && 127 >= r ? w(e, t, n) : S(e, t, n)
		}
		return n
	}, ki.INDEX = function(e) {
		for (var t = 1, n = [t], r = [], i = 0; i < e.length; i += 1) {
			var o = ki.OBJECT(e[i]);
			Array.prototype.push.apply(r, o), t += o.length, n.push(t)
		}
		if (0 === r.length) return [0, 0];
		for (var a = [], s = 1 + Math.floor(Math.log(t) / Math.log(2)) / 8 | 0, l = [void 0, ki.BYTE, ki.USHORT, ki.UINT24,
				ki.ULONG
			][s], c = 0; c < n.length; c += 1) {
			var u = l(n[c]);
			Array.prototype.push.apply(a, u)
		}
		return Array.prototype.concat(ki.Card16(e.length), ki.OffSize(s), a, r)
	}, Ri.INDEX = function(e) {
		return ki.INDEX(e).length
	}, ki.DICT = function(e) {
		for (var t = [], n = Object.keys(e), r = n.length, i = 0; r > i; i += 1) {
			var o = parseInt(n[i], 0),
				a = e[o];
			t = t.concat(ki.OPERAND(a.value, a.type)), t = t.concat(ki.OPERATOR(o))
		}
		return t
	}, Ri.DICT = function(e) {
		return ki.DICT(e).length
	}, ki.OPERATOR = function(e) {
		return 1200 > e ? [e] : [12, e - 1200]
	}, ki.OPERAND = function(e, t) {
		var n = [];
		if (Array.isArray(t))
			for (var r = 0; r < t.length; r += 1) Ti.argument(e.length === t.length, "Not enough arguments given for type" + t),
				n = n.concat(ki.OPERAND(e[r], t[r]));
		else if ("SID" === t) n = n.concat(ki.NUMBER(e));
		else if ("offset" === t) n = n.concat(ki.NUMBER32(e));
		else if ("number" === t) n = n.concat(ki.NUMBER(e));
		else {
			if ("real" !== t) throw new Error("Unknown operand type " + t);
			n = n.concat(ki.REAL(e))
		}
		return n
	}, ki.OP = ki.BYTE, Ri.OP = Ri.BYTE;
	var Li = "function" == typeof WeakMap && new WeakMap;
	ki.CHARSTRING = function(e) {
			if (Li) {
				var t = Li.get(e);
				if (void 0 !== t) return t
			}
			for (var n = [], r = e.length, i = 0; r > i; i += 1) {
				var o = e[i];
				n = n.concat(ki[o.type](o.value))
			}
			return Li && Li.set(e, n), n
		}, Ri.CHARSTRING = function(e) {
			return ki.CHARSTRING(e).length
		}, ki.OBJECT = function(e) {
			var t = ki[e.type];
			return Ti.argument(void 0 !== t, "No encoding function for type " + e.type), t(e.value)
		}, Ri.OBJECT = function(e) {
			var t = Ri[e.type];
			return Ti.argument(void 0 !== t, "No sizeOf function for type " + e.type), t(e.value)
		}, ki.TABLE = function(e) {
			for (var t = [], n = e.fields.length, r = [], i = [], o = 0; n > o; o += 1) {
				var a = e.fields[o],
					s = ki[a.type];
				Ti.argument(void 0 !== s, "No encoding function for field type " + a.type + " (" + a.name + ")");
				var l = e[a.name];
				void 0 === l && (l = a.value);
				var c = s(l);
				"TABLE" === a.type ? (i.push(t.length), t = t.concat([0, 0]), r.push(c)) : t = t.concat(c)
			}
			for (var u = 0; u < r.length; u += 1) {
				var h = i[u],
					f = t.length;
				Ti.argument(65536 > f, "Table " + e.tableName + " too big."), t[h] = f >> 8, t[h + 1] = 255 & f, t = t.concat(r[u])
			}
			return t
		}, Ri.TABLE = function(e) {
			for (var t = 0, n = e.fields.length, r = 0; n > r; r += 1) {
				var i = e.fields[r],
					o = Ri[i.type];
				Ti.argument(void 0 !== o, "No sizeOf function for field type " + i.type + " (" + i.name + ")");
				var a = e[i.name];
				void 0 === a && (a = i.value), t += o(a), "TABLE" === i.type && (t += 2)
			}
			return t
		}, ki.RECORD = ki.TABLE, Ri.RECORD = Ri.TABLE, ki.LITERAL = function(e) {
			return e
		}, Ri.LITERAL = function(e) {
			return e.length
		}, _.prototype.encode = function() {
			return ki.TABLE(this)
		}, _.prototype.sizeOf = function() {
			return Ri.TABLE(this)
		}, O.prototype = Object.create(_.prototype), O.prototype.constructor = O, k.prototype = Object.create(_.prototype),
		k.prototype.constructor = k, R.prototype = Object.create(_.prototype), R.prototype.constructor = R, D.prototype =
		Object.create(_.prototype), D.prototype.constructor = D;
	var Pi = {
			Table: _,
			Record: _,
			Coverage: O,
			ScriptList: k,
			FeatureList: R,
			LookupList: D,
			ushortList: T,
			tableList: C,
			recordList: E
		},
		Fi = {
			"byte": 1,
			uShort: 2,
			"short": 2,
			uLong: 4,
			fixed: 4,
			longDateTime: 8,
			tag: 4
		};
	N.prototype.parseByte = function() {
			var e = this.data.getUint8(this.offset + this.relativeOffset);
			return this.relativeOffset += 1, e
		}, N.prototype.parseChar = function() {
			var e = this.data.getInt8(this.offset + this.relativeOffset);
			return this.relativeOffset += 1, e
		}, N.prototype.parseCard8 = N.prototype.parseByte, N.prototype.parseUShort = function() {
			var e = this.data.getUint16(this.offset + this.relativeOffset);
			return this.relativeOffset += 2, e
		}, N.prototype.parseCard16 = N.prototype.parseUShort, N.prototype.parseSID = N.prototype.parseUShort, N.prototype.parseOffset16 =
		N.prototype.parseUShort, N.prototype.parseShort = function() {
			var e = this.data.getInt16(this.offset + this.relativeOffset);
			return this.relativeOffset += 2, e
		}, N.prototype.parseF2Dot14 = function() {
			var e = this.data.getInt16(this.offset + this.relativeOffset) / 16384;
			return this.relativeOffset += 2, e
		}, N.prototype.parseULong = function() {
			var e = L(this.data, this.offset + this.relativeOffset);
			return this.relativeOffset += 4, e
		}, N.prototype.parseFixed = function() {
			var e = P(this.data, this.offset + this.relativeOffset);
			return this.relativeOffset += 4, e
		}, N.prototype.parseString = function(e) {
			var t = this.data,
				n = this.offset + this.relativeOffset,
				r = "";
			this.relativeOffset += e;
			for (var i = 0; e > i; i++) r += String.fromCharCode(t.getUint8(n + i));
			return r
		}, N.prototype.parseTag = function() {
			return this.parseString(4)
		}, N.prototype.parseLongDateTime = function() {
			var e = L(this.data, this.offset + this.relativeOffset + 4);
			return e -= 2082844800, this.relativeOffset += 8, e
		}, N.prototype.parseVersion = function() {
			var e = I(this.data, this.offset + this.relativeOffset),
				t = I(this.data, this.offset + this.relativeOffset + 2);
			return this.relativeOffset += 4, e + t / 4096 / 10
		}, N.prototype.skip = function(e, t) {
			void 0 === t && (t = 1), this.relativeOffset += Fi[e] * t
		}, N.prototype.parseOffset16List = N.prototype.parseUShortList = function(e) {
			void 0 === e && (e = this.parseUShort());
			for (var t = new Array(e), n = this.data, r = this.offset + this.relativeOffset, i = 0; e > i; i++) t[i] = n.getUint16(
				r), r += 2;
			return this.relativeOffset += 2 * e, t
		}, N.prototype.parseShortList = function(e) {
			for (var t = new Array(e), n = this.data, r = this.offset + this.relativeOffset, i = 0; e > i; i++) t[i] = n.getInt16(
				r), r += 2;
			return this.relativeOffset += 2 * e, t
		}, N.prototype.parseByteList = function(e) {
			for (var t = new Array(e), n = this.data, r = this.offset + this.relativeOffset, i = 0; e > i; i++) t[i] = n.getUint8(
				r++);
			return this.relativeOffset += e, t
		}, N.prototype.parseList = function(e, t) {
			var n = this;
			t || (t = e, e = this.parseUShort());
			for (var r = new Array(e), i = 0; e > i; i++) r[i] = t.call(n);
			return r
		}, N.prototype.parseRecordList = function(e, t) {
			var n = this;
			t || (t = e, e = this.parseUShort());
			for (var r = new Array(e), i = Object.keys(t), o = 0; e > o; o++) {
				for (var a = {}, s = 0; s < i.length; s++) {
					var l = i[s],
						c = t[l];
					a[l] = c.call(n)
				}
				r[o] = a
			}
			return r
		}, N.prototype.parseStruct = function(e) {
			var t = this;
			if ("function" == typeof e) return e.call(this);
			for (var n = Object.keys(e), r = {}, i = 0; i < n.length; i++) {
				var o = n[i],
					a = e[o];
				r[o] = a.call(t)
			}
			return r
		}, N.prototype.parsePointer = function(e) {
			var t = this.parseOffset16();
			return t > 0 ? new N(this.data, this.offset + t).parseStruct(e) : void 0
		}, N.prototype.parseListOfLists = function(e) {
			for (var t = this, n = this.parseOffset16List(), r = n.length, i = this.relativeOffset, o = new Array(r), a = 0; r >
				a; a++) {
				var s = n[a];
				if (0 !== s)
					if (t.relativeOffset = s, e) {
						for (var l = t.parseOffset16List(), c = new Array(l.length), u = 0; u < l.length; u++) t.relativeOffset = s + l[
							u], c[u] = e.call(t);
						o[a] = c
					} else o[a] = t.parseUShortList();
				else o[a] = void 0
			}
			return this.relativeOffset = i, o
		}, N.prototype.parseCoverage = function() {
			var e = this,
				t = this.offset + this.relativeOffset,
				n = this.parseUShort(),
				r = this.parseUShort();
			if (1 === n) return {
				format: 1,
				glyphs: this.parseUShortList(r)
			};
			if (2 === n) {
				for (var i = new Array(r), o = 0; r > o; o++) i[o] = {
					start: e.parseUShort(),
					end: e.parseUShort(),
					index: e.parseUShort()
				};
				return {
					format: 2,
					ranges: i
				}
			}
			throw new Error("0x" + t.toString(16) + ": Coverage format must be 1 or 2.")
		}, N.prototype.parseClassDef = function() {
			var e = this.offset + this.relativeOffset,
				t = this.parseUShort();
			if (1 === t) return {
				format: 1,
				startGlyph: this.parseUShort(),
				classes: this.parseUShortList()
			};
			if (2 === t) return {
				format: 2,
				ranges: this.parseRecordList({
					start: N.uShort,
					end: N.uShort,
					classId: N.uShort
				})
			};
			throw new Error("0x" + e.toString(16) + ": ClassDef format must be 1 or 2.")
		}, N.list = function(e, t) {
			return function() {
				return this.parseList(e, t)
			}
		}, N.recordList = function(e, t) {
			return function() {
				return this.parseRecordList(e, t)
			}
		}, N.pointer = function(e) {
			return function() {
				return this.parsePointer(e)
			}
		}, N.tag = N.prototype.parseTag, N["byte"] = N.prototype.parseByte, N.uShort = N.offset16 = N.prototype.parseUShort,
		N.uShortList = N.prototype.parseUShortList, N.struct = N.prototype.parseStruct, N.coverage = N.prototype.parseCoverage,
		N.classDef = N.prototype.parseClassDef;
	var Ui = {
		reserved: N.uShort,
		reqFeatureIndex: N.uShort,
		featureIndexes: N.uShortList
	};
	N.prototype.parseScriptList = function() {
		return this.parsePointer(N.recordList({
			tag: N.tag,
			script: N.pointer({
				defaultLangSys: N.pointer(Ui),
				langSysRecords: N.recordList({
					tag: N.tag,
					langSys: N.pointer(Ui)
				})
			})
		}))
	}, N.prototype.parseFeatureList = function() {
		return this.parsePointer(N.recordList({
			tag: N.tag,
			feature: N.pointer({
				featureParams: N.offset16,
				lookupListIndexes: N.uShortList
			})
		}))
	}, N.prototype.parseLookupList = function(e) {
		return this.parsePointer(N.list(N.pointer(function() {
			var t = this.parseUShort();
			Ti.argument(t >= 1 && 8 >= t, "GSUB lookup type " + t + " unknown.");
			var n = this.parseUShort(),
				r = 16 & n;
			return {
				lookupType: t,
				lookupFlag: n,
				subtables: this.parseList(N.pointer(e[t])),
				markFilteringSet: r ? this.parseUShort() : void 0
			}
		})))
	};
	var ji = {
			getByte: A,
			getCard8: A,
			getUShort: I,
			getCard16: I,
			getShort: M,
			getULong: L,
			getFixed: P,
			getTag: F,
			getOffset: U,
			getBytes: j,
			bytesToString: B,
			Parser: N
		},
		Bi = {
			parse: G,
			make: Y
		},
		Ni = [".notdef", "space", "exclam", "quotedbl", "numbersign", "dollar", "percent", "ampersand", "quoteright",
			"parenleft", "parenright", "asterisk", "plus", "comma", "hyphen", "period", "slash", "zero", "one", "two", "three",
			"four", "five", "six", "seven", "eight", "nine", "colon", "semicolon", "less", "equal", "greater", "question", "at",
			"A", "B", "C", "D", "E", "F", "G", "H", "I", "J", "K", "L", "M", "N", "O", "P", "Q", "R", "S", "T", "U", "V", "W",
			"X", "Y", "Z", "bracketleft", "backslash", "bracketright", "asciicircum", "underscore", "quoteleft", "a", "b", "c",
			"d", "e", "f", "g", "h", "i", "j", "k", "l", "m", "n", "o", "p", "q", "r", "s", "t", "u", "v", "w", "x", "y", "z",
			"braceleft", "bar", "braceright", "asciitilde", "exclamdown", "cent", "sterling", "fraction", "yen", "florin",
			"section", "currency", "quotesingle", "quotedblleft", "guillemotleft", "guilsinglleft", "guilsinglright", "fi",
			"fl", "endash", "dagger", "daggerdbl", "periodcentered", "paragraph", "bullet", "quotesinglbase", "quotedblbase",
			"quotedblright", "guillemotright", "ellipsis", "perthousand", "questiondown", "grave", "acute", "circumflex",
			"tilde", "macron", "breve", "dotaccent", "dieresis", "ring", "cedilla", "hungarumlaut", "ogonek", "caron", "emdash",
			"AE", "ordfeminine", "Lslash", "Oslash", "OE", "ordmasculine", "ae", "dotlessi", "lslash", "oslash", "oe",
			"germandbls", "onesuperior", "logicalnot", "mu", "trademark", "Eth", "onehalf", "plusminus", "Thorn", "onequarter",
			"divide", "brokenbar", "degree", "thorn", "threequarters", "twosuperior", "registered", "minus", "eth", "multiply",
			"threesuperior", "copyright", "Aacute", "Acircumflex", "Adieresis", "Agrave", "Aring", "Atilde", "Ccedilla",
			"Eacute", "Ecircumflex", "Edieresis", "Egrave", "Iacute", "Icircumflex", "Idieresis", "Igrave", "Ntilde", "Oacute",
			"Ocircumflex", "Odieresis", "Ograve", "Otilde", "Scaron", "Uacute", "Ucircumflex", "Udieresis", "Ugrave", "Yacute",
			"Ydieresis", "Zcaron", "aacute", "acircumflex", "adieresis", "agrave", "aring", "atilde", "ccedilla", "eacute",
			"ecircumflex", "edieresis", "egrave", "iacute", "icircumflex", "idieresis", "igrave", "ntilde", "oacute",
			"ocircumflex", "odieresis", "ograve", "otilde", "scaron", "uacute", "ucircumflex", "udieresis", "ugrave", "yacute",
			"ydieresis", "zcaron", "exclamsmall", "Hungarumlautsmall", "dollaroldstyle", "dollarsuperior", "ampersandsmall",
			"Acutesmall", "parenleftsuperior", "parenrightsuperior", "266 ff", "onedotenleader", "zerooldstyle", "oneoldstyle",
			"twooldstyle", "threeoldstyle", "fouroldstyle", "fiveoldstyle", "sixoldstyle", "sevenoldstyle", "eightoldstyle",
			"nineoldstyle", "commasuperior", "threequartersemdash", "periodsuperior", "questionsmall", "asuperior", "bsuperior",
			"centsuperior", "dsuperior", "esuperior", "isuperior", "lsuperior", "msuperior", "nsuperior", "osuperior",
			"rsuperior", "ssuperior", "tsuperior", "ff", "ffi", "ffl", "parenleftinferior", "parenrightinferior",
			"Circumflexsmall", "hyphensuperior", "Gravesmall", "Asmall", "Bsmall", "Csmall", "Dsmall", "Esmall", "Fsmall",
			"Gsmall", "Hsmall", "Ismall", "Jsmall", "Ksmall", "Lsmall", "Msmall", "Nsmall", "Osmall", "Psmall", "Qsmall",
			"Rsmall", "Ssmall", "Tsmall", "Usmall", "Vsmall", "Wsmall", "Xsmall", "Ysmall", "Zsmall", "colonmonetary",
			"onefitted", "rupiah", "Tildesmall", "exclamdownsmall", "centoldstyle", "Lslashsmall", "Scaronsmall", "Zcaronsmall",
			"Dieresissmall", "Brevesmall", "Caronsmall", "Dotaccentsmall", "Macronsmall", "figuredash", "hypheninferior",
			"Ogoneksmall", "Ringsmall", "Cedillasmall", "questiondownsmall", "oneeighth", "threeeighths", "fiveeighths",
			"seveneighths", "onethird", "twothirds", "zerosuperior", "foursuperior", "fivesuperior", "sixsuperior",
			"sevensuperior", "eightsuperior", "ninesuperior", "zeroinferior", "oneinferior", "twoinferior", "threeinferior",
			"fourinferior", "fiveinferior", "sixinferior", "seveninferior", "eightinferior", "nineinferior", "centinferior",
			"dollarinferior", "periodinferior", "commainferior", "Agravesmall", "Aacutesmall", "Acircumflexsmall",
			"Atildesmall", "Adieresissmall", "Aringsmall", "AEsmall", "Ccedillasmall", "Egravesmall", "Eacutesmall",
			"Ecircumflexsmall", "Edieresissmall", "Igravesmall", "Iacutesmall", "Icircumflexsmall", "Idieresissmall",
			"Ethsmall", "Ntildesmall", "Ogravesmall", "Oacutesmall", "Ocircumflexsmall", "Otildesmall", "Odieresissmall",
			"OEsmall", "Oslashsmall", "Ugravesmall", "Uacutesmall", "Ucircumflexsmall", "Udieresissmall", "Yacutesmall",
			"Thornsmall", "Ydieresissmall", "001.000", "001.001", "001.002", "001.003", "Black", "Bold", "Book", "Light",
			"Medium", "Regular", "Roman", "Semibold"
		],
		zi = ["", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "",
			"", "", "", "", "space", "exclam", "quotedbl", "numbersign", "dollar", "percent", "ampersand", "quoteright",
			"parenleft", "parenright", "asterisk", "plus", "comma", "hyphen", "period", "slash", "zero", "one", "two", "three",
			"four", "five", "six", "seven", "eight", "nine", "colon", "semicolon", "less", "equal", "greater", "question", "at",
			"A", "B", "C", "D", "E", "F", "G", "H", "I", "J", "K", "L", "M", "N", "O", "P", "Q", "R", "S", "T", "U", "V", "W",
			"X", "Y", "Z", "bracketleft", "backslash", "bracketright", "asciicircum", "underscore", "quoteleft", "a", "b", "c",
			"d", "e", "f", "g", "h", "i", "j", "k", "l", "m", "n", "o", "p", "q", "r", "s", "t", "u", "v", "w", "x", "y", "z",
			"braceleft", "bar", "braceright", "asciitilde", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "",
			"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "exclamdown", "cent", "sterling", "fraction",
			"yen", "florin", "section", "currency", "quotesingle", "quotedblleft", "guillemotleft", "guilsinglleft",
			"guilsinglright", "fi", "fl", "", "endash", "dagger", "daggerdbl", "periodcentered", "", "paragraph", "bullet",
			"quotesinglbase", "quotedblbase", "quotedblright", "guillemotright", "ellipsis", "perthousand", "", "questiondown",
			"", "grave", "acute", "circumflex", "tilde", "macron", "breve", "dotaccent", "dieresis", "", "ring", "cedilla", "",
			"hungarumlaut", "ogonek", "caron", "emdash", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "AE",
			"", "ordfeminine", "", "", "", "", "Lslash", "Oslash", "OE", "ordmasculine", "", "", "", "", "", "ae", "", "", "",
			"dotlessi", "", "", "lslash", "oslash", "oe", "germandbls"
		],
		Hi = ["", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "",
			"", "", "", "", "space", "exclamsmall", "Hungarumlautsmall", "", "dollaroldstyle", "dollarsuperior",
			"ampersandsmall", "Acutesmall", "parenleftsuperior", "parenrightsuperior", "twodotenleader", "onedotenleader",
			"comma", "hyphen", "period", "fraction", "zerooldstyle", "oneoldstyle", "twooldstyle", "threeoldstyle",
			"fouroldstyle", "fiveoldstyle", "sixoldstyle", "sevenoldstyle", "eightoldstyle", "nineoldstyle", "colon",
			"semicolon", "commasuperior", "threequartersemdash", "periodsuperior", "questionsmall", "", "asuperior",
			"bsuperior", "centsuperior", "dsuperior", "esuperior", "", "", "isuperior", "", "", "lsuperior", "msuperior",
			"nsuperior", "osuperior", "", "", "rsuperior", "ssuperior", "tsuperior", "", "ff", "fi", "fl", "ffi", "ffl",
			"parenleftinferior", "", "parenrightinferior", "Circumflexsmall", "hyphensuperior", "Gravesmall", "Asmall",
			"Bsmall", "Csmall", "Dsmall", "Esmall", "Fsmall", "Gsmall", "Hsmall", "Ismall", "Jsmall", "Ksmall", "Lsmall",
			"Msmall", "Nsmall", "Osmall", "Psmall", "Qsmall", "Rsmall", "Ssmall", "Tsmall", "Usmall", "Vsmall", "Wsmall",
			"Xsmall", "Ysmall", "Zsmall", "colonmonetary", "onefitted", "rupiah", "Tildesmall", "", "", "", "", "", "", "", "",
			"", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "",
			"exclamdownsmall", "centoldstyle", "Lslashsmall", "", "", "Scaronsmall", "Zcaronsmall", "Dieresissmall",
			"Brevesmall", "Caronsmall", "", "Dotaccentsmall", "", "", "Macronsmall", "", "", "figuredash", "hypheninferior", "",
			"", "Ogoneksmall", "Ringsmall", "Cedillasmall", "", "", "", "onequarter", "onehalf", "threequarters",
			"questiondownsmall", "oneeighth", "threeeighths", "fiveeighths", "seveneighths", "onethird", "twothirds", "", "",
			"zerosuperior", "onesuperior", "twosuperior", "threesuperior", "foursuperior", "fivesuperior", "sixsuperior",
			"sevensuperior", "eightsuperior", "ninesuperior", "zeroinferior", "oneinferior", "twoinferior", "threeinferior",
			"fourinferior", "fiveinferior", "sixinferior", "seveninferior", "eightinferior", "nineinferior", "centinferior",
			"dollarinferior", "periodinferior", "commainferior", "Agravesmall", "Aacutesmall", "Acircumflexsmall",
			"Atildesmall", "Adieresissmall", "Aringsmall", "AEsmall", "Ccedillasmall", "Egravesmall", "Eacutesmall",
			"Ecircumflexsmall", "Edieresissmall", "Igravesmall", "Iacutesmall", "Icircumflexsmall", "Idieresissmall",
			"Ethsmall", "Ntildesmall", "Ogravesmall", "Oacutesmall", "Ocircumflexsmall", "Otildesmall", "Odieresissmall",
			"OEsmall", "Oslashsmall", "Ugravesmall", "Uacutesmall", "Ucircumflexsmall", "Udieresissmall", "Yacutesmall",
			"Thornsmall", "Ydieresissmall"
		],
		Gi = [".notdef", ".null", "nonmarkingreturn", "space", "exclam", "quotedbl", "numbersign", "dollar", "percent",
			"ampersand", "quotesingle", "parenleft", "parenright", "asterisk", "plus", "comma", "hyphen", "period", "slash",
			"zero", "one", "two", "three", "four", "five", "six", "seven", "eight", "nine", "colon", "semicolon", "less",
			"equal", "greater", "question", "at", "A", "B", "C", "D", "E", "F", "G", "H", "I", "J", "K", "L", "M", "N", "O",
			"P", "Q", "R", "S", "T", "U", "V", "W", "X", "Y", "Z", "bracketleft", "backslash", "bracketright", "asciicircum",
			"underscore", "grave", "a", "b", "c", "d", "e", "f", "g", "h", "i", "j", "k", "l", "m", "n", "o", "p", "q", "r",
			"s", "t", "u", "v", "w", "x", "y", "z", "braceleft", "bar", "braceright", "asciitilde", "Adieresis", "Aring",
			"Ccedilla", "Eacute", "Ntilde", "Odieresis", "Udieresis", "aacute", "agrave", "acircumflex", "adieresis", "atilde",
			"aring", "ccedilla", "eacute", "egrave", "ecircumflex", "edieresis", "iacute", "igrave", "icircumflex", "idieresis",
			"ntilde", "oacute", "ograve", "ocircumflex", "odieresis", "otilde", "uacute", "ugrave", "ucircumflex", "udieresis",
			"dagger", "degree", "cent", "sterling", "section", "bullet", "paragraph", "germandbls", "registered", "copyright",
			"trademark", "acute", "dieresis", "notequal", "AE", "Oslash", "infinity", "plusminus", "lessequal", "greaterequal",
			"yen", "mu", "partialdiff", "summation", "product", "pi", "integral", "ordfeminine", "ordmasculine", "Omega", "ae",
			"oslash", "questiondown", "exclamdown", "logicalnot", "radical", "florin", "approxequal", "Delta", "guillemotleft",
			"guillemotright", "ellipsis", "nonbreakingspace", "Agrave", "Atilde", "Otilde", "OE", "oe", "endash", "emdash",
			"quotedblleft", "quotedblright", "quoteleft", "quoteright", "divide", "lozenge", "ydieresis", "Ydieresis",
			"fraction", "currency", "guilsinglleft", "guilsinglright", "fi", "fl", "daggerdbl", "periodcentered",
			"quotesinglbase", "quotedblbase", "perthousand", "Acircumflex", "Ecircumflex", "Aacute", "Edieresis", "Egrave",
			"Iacute", "Icircumflex", "Idieresis", "Igrave", "Oacute", "Ocircumflex", "apple", "Ograve", "Uacute", "Ucircumflex",
			"Ugrave", "dotlessi", "circumflex", "tilde", "macron", "breve", "dotaccent", "ring", "cedilla", "hungarumlaut",
			"ogonek", "caron", "Lslash", "lslash", "Scaron", "scaron", "Zcaron", "zcaron", "brokenbar", "Eth", "eth", "Yacute",
			"yacute", "Thorn", "thorn", "minus", "multiply", "onesuperior", "twosuperior", "threesuperior", "onehalf",
			"onequarter", "threequarters", "franc", "Gbreve", "gbreve", "Idotaccent", "Scedilla", "scedilla", "Cacute",
			"cacute", "Ccaron", "ccaron", "dcroat"
		];
	q.prototype.charToGlyphIndex = function(e) {
		var t = e.charCodeAt(0),
			n = this.font.glyphs;
		if (n)
			for (var r = 0; r < n.length; r += 1)
				for (var i = n.get(r), o = 0; o < i.unicodes.length; o += 1)
					if (i.unicodes[o] === t) return r;
		return null
	}, V.prototype.charToGlyphIndex = function(e) {
		return this.cmap.glyphIndexMap[e.charCodeAt(0)] || 0
	}, K.prototype.charToGlyphIndex = function(e) {
		var t = e.charCodeAt(0),
			n = this.encoding[t];
		return this.charset.indexOf(n)
	}, $.prototype.nameToGlyphIndex = function(e) {
		return this.names.indexOf(e)
	}, $.prototype.glyphIndexToName = function(e) {
		return this.names[e]
	};
	var Xi = {
			line: Q
		},
		Wi = {
			getPath: re,
			parse: oe
		};
	se.prototype.bindConstructorValues = function(e) {
		this.index = e.index || 0, this.name = e.name || null, this.unicode = e.unicode || void 0, this.unicodes = e.unicodes ||
			void 0 !== e.unicode ? [e.unicode] : [], e.xMin && (this.xMin = e.xMin), e.yMin && (this.yMin = e.yMin), e.xMax &&
			(this.xMax = e.xMax), e.yMax && (this.yMax = e.yMax), e.advanceWidth && (this.advanceWidth = e.advanceWidth),
			Object.defineProperty(this, "path", ae(this, e.path))
	}, se.prototype.addUnicode = function(e) {
		0 === this.unicodes.length && (this.unicode = e), this.unicodes.push(e)
	}, se.prototype.getBoundingBox = function() {
		return this.path.getBoundingBox()
	}, se.prototype.getPath = function(e, t, n, r, i) {
		e = void 0 !== e ? e : 0, t = void 0 !== t ? t : 0, n = void 0 !== n ? n : 72;
		var o, a;
		r || (r = {});
		var s = r.xScale,
			l = r.yScale;
		if (r.hinting && i && i.hinting && (a = this.path && i.hinting.exec(this, n)), a) o = Wi.getPath(a).commands, e =
			Math.round(e), t = Math.round(t), s = l = 1;
		else {
			o = this.path.commands;
			var c = 1 / this.path.unitsPerEm * n;
			void 0 === s && (s = c), void 0 === l && (l = c)
		}
		for (var u = new g, h = 0; h < o.length; h += 1) {
			var f = o[h];
			"M" === f.type ? u.moveTo(e + f.x * s, t + -f.y * l) : "L" === f.type ? u.lineTo(e + f.x * s, t + -f.y * l) : "Q" ===
				f.type ? u.quadraticCurveTo(e + f.x1 * s, t + -f.y1 * l, e + f.x * s, t + -f.y * l) : "C" === f.type ? u.curveTo(
					e + f.x1 * s, t + -f.y1 * l, e + f.x2 * s, t + -f.y2 * l, e + f.x * s, t + -f.y * l) : "Z" === f.type && u.closePath()
		}
		return u
	}, se.prototype.getContours = function() {
		var e = this;
		if (void 0 === this.points) return [];
		for (var t = [], n = [], r = 0; r < this.points.length; r += 1) {
			var i = e.points[r];
			n.push(i), i.lastPointOfContour && (t.push(n), n = [])
		}
		return Ti.argument(0 === n.length, "There are still points left in the current contour."), t
	}, se.prototype.getMetrics = function() {
		for (var e = this.path.commands, t = [], n = [], r = 0; r < e.length; r += 1) {
			var i = e[r];
			"Z" !== i.type && (t.push(i.x), n.push(i.y)), ("Q" === i.type || "C" === i.type) && (t.push(i.x1), n.push(i.y1)),
				"C" === i.type && (t.push(i.x2), n.push(i.y2))
		}
		var o = {
			xMin: Math.min.apply(null, t),
			yMin: Math.min.apply(null, n),
			xMax: Math.max.apply(null, t),
			yMax: Math.max.apply(null, n),
			leftSideBearing: this.leftSideBearing
		};
		return isFinite(o.xMin) || (o.xMin = 0), isFinite(o.xMax) || (o.xMax = this.advanceWidth), isFinite(o.yMin) || (o.yMin =
				0), isFinite(o.yMax) || (o.yMax = 0), o.rightSideBearing = this.advanceWidth - o.leftSideBearing - (o.xMax - o.xMin),
			o
	}, se.prototype.draw = function(e, t, n, r, i) {
		this.getPath(t, n, r, i).draw(e)
	}, se.prototype.drawPoints = function(e, t, n, r) {
		function i(t, n, r, i) {
			var o = 2 * Math.PI;
			e.beginPath();
			for (var a = 0; a < t.length; a += 1) e.moveTo(n + t[a].x * i, r + t[a].y * i), e.arc(n + t[a].x * i, r + t[a].y *
				i, 2, 0, o, !1);
			e.closePath(), e.fill()
		}
		t = void 0 !== t ? t : 0, n = void 0 !== n ? n : 0, r = void 0 !== r ? r : 24;
		for (var o = 1 / this.path.unitsPerEm * r, a = [], s = [], l = this.path, c = 0; c < l.commands.length; c += 1) {
			var u = l.commands[c];
			void 0 !== u.x && a.push({
				x: u.x,
				y: -u.y
			}), void 0 !== u.x1 && s.push({
				x: u.x1,
				y: -u.y1
			}), void 0 !== u.x2 && s.push({
				x: u.x2,
				y: -u.y2
			})
		}
		e.fillStyle = "blue", i(a, t, n, o), e.fillStyle = "red", i(s, t, n, o)
	}, se.prototype.drawMetrics = function(e, t, n, r) {
		var i;
		t = void 0 !== t ? t : 0, n = void 0 !== n ? n : 0, r = void 0 !== r ? r : 24, i = 1 / this.path.unitsPerEm * r, e.lineWidth =
			1, e.strokeStyle = "black", Xi.line(e, t, -1e4, t, 1e4), Xi.line(e, -1e4, n, 1e4, n);
		var o = this.xMin || 0,
			a = this.yMin || 0,
			s = this.xMax || 0,
			l = this.yMax || 0,
			c = this.advanceWidth || 0;
		e.strokeStyle = "blue", Xi.line(e, t + o * i, -1e4, t + o * i, 1e4), Xi.line(e, t + s * i, -1e4, t + s * i, 1e4),
			Xi.line(e, -1e4, n + -a * i, 1e4, n + -a * i), Xi.line(e, -1e4, n + -l * i, 1e4, n + -l * i), e.strokeStyle =
			"green", Xi.line(e, t + c * i, -1e4, t + c * i, 1e4)
	}, ce.prototype.get = function(e) {
		return "function" == typeof this.glyphs[e] && (this.glyphs[e] = this.glyphs[e]()), this.glyphs[e]
	}, ce.prototype.push = function(e, t) {
		this.glyphs[e] = t, this.length++
	};
	var Yi = {
			GlyphSet: ce,
			glyphLoader: ue,
			ttfGlyphLoader: he,
			cffGlyphLoader: fe
		},
		qi = [{
			name: "version",
			op: 0,
			type: "SID"
		}, {
			name: "notice",
			op: 1,
			type: "SID"
		}, {
			name: "copyright",
			op: 1200,
			type: "SID"
		}, {
			name: "fullName",
			op: 2,
			type: "SID"
		}, {
			name: "familyName",
			op: 3,
			type: "SID"
		}, {
			name: "weight",
			op: 4,
			type: "SID"
		}, {
			name: "isFixedPitch",
			op: 1201,
			type: "number",
			value: 0
		}, {
			name: "italicAngle",
			op: 1202,
			type: "number",
			value: 0
		}, {
			name: "underlinePosition",
			op: 1203,
			type: "number",
			value: -100
		}, {
			name: "underlineThickness",
			op: 1204,
			type: "number",
			value: 50
		}, {
			name: "paintType",
			op: 1205,
			type: "number",
			value: 0
		}, {
			name: "charstringType",
			op: 1206,
			type: "number",
			value: 2
		}, {
			name: "fontMatrix",
			op: 1207,
			type: ["real", "real", "real", "real", "real", "real"],
			value: [.001, 0, 0, .001, 0, 0]
		}, {
			name: "uniqueId",
			op: 13,
			type: "number"
		}, {
			name: "fontBBox",
			op: 5,
			type: ["number", "number", "number", "number"],
			value: [0, 0, 0, 0]
		}, {
			name: "strokeWidth",
			op: 1208,
			type: "number",
			value: 0
		}, {
			name: "xuid",
			op: 14,
			type: [],
			value: null
		}, {
			name: "charset",
			op: 15,
			type: "offset",
			value: 0
		}, {
			name: "encoding",
			op: 16,
			type: "offset",
			value: 0
		}, {
			name: "charStrings",
			op: 17,
			type: "offset",
			value: 0
		}, {
			name: "private",
			op: 18,
			type: ["number", "offset"],
			value: [0, 0]
		}, {
			name: "ros",
			op: 1230,
			type: ["SID", "SID", "number"]
		}, {
			name: "cidFontVersion",
			op: 1231,
			type: "number",
			value: 0
		}, {
			name: "cidFontRevision",
			op: 1232,
			type: "number",
			value: 0
		}, {
			name: "cidFontType",
			op: 1233,
			type: "number",
			value: 0
		}, {
			name: "cidCount",
			op: 1234,
			type: "number",
			value: 8720
		}, {
			name: "uidBase",
			op: 1235,
			type: "number"
		}, {
			name: "fdArray",
			op: 1236,
			type: "offset"
		}, {
			name: "fdSelect",
			op: 1237,
			type: "offset"
		}, {
			name: "fontName",
			op: 1238,
			type: "SID"
		}],
		Vi = [{
			name: "subrs",
			op: 19,
			type: "offset",
			value: 0
		}, {
			name: "defaultWidthX",
			op: 20,
			type: "number",
			value: 0
		}, {
			name: "nominalWidthX",
			op: 21,
			type: "number",
			value: 0
		}],
		Ki = {
			parse: De,
			make: Ge
		},
		$i = {
			parse: Xe,
			make: We
		},
		Zi = {
			parse: Ye,
			make: qe
		},
		Qi = {
			parse: Ve,
			make: Ke
		},
		Ji = {
			make: $e,
			parse: Ze
		},
		eo = {
			parse: Qe,
			make: Je
		},
		to = ["copyright", "fontFamily", "fontSubfamily", "uniqueID", "fullName", "version", "postScriptName", "trademark",
			"manufacturer", "designer", "description", "manufacturerURL", "designerURL", "license", "licenseURL", "reserved",
			"preferredFamily", "preferredSubfamily", "compatibleFullName", "sampleText", "postScriptFindFontName", "wwsFamily",
			"wwsSubfamily"
		],
		no = {
			0: "en",
			1: "fr",
			2: "de",
			3: "it",
			4: "nl",
			5: "sv",
			6: "es",
			7: "da",
			8: "pt",
			9: "no",
			10: "he",
			11: "ja",
			12: "ar",
			13: "fi",
			14: "el",
			15: "is",
			16: "mt",
			17: "tr",
			18: "hr",
			19: "zh-Hant",
			20: "ur",
			21: "hi",
			22: "th",
			23: "ko",
			24: "lt",
			25: "pl",
			26: "hu",
			27: "es",
			28: "lv",
			29: "se",
			30: "fo",
			31: "fa",
			32: "ru",
			33: "zh",
			34: "nl-BE",
			35: "ga",
			36: "sq",
			37: "ro",
			38: "cz",
			39: "sk",
			40: "si",
			41: "yi",
			42: "sr",
			43: "mk",
			44: "bg",
			45: "uk",
			46: "be",
			47: "uz",
			48: "kk",
			49: "az-Cyrl",
			50: "az-Arab",
			51: "hy",
			52: "ka",
			53: "mo",
			54: "ky",
			55: "tg",
			56: "tk",
			57: "mn-CN",
			58: "mn",
			59: "ps",
			60: "ks",
			61: "ku",
			62: "sd",
			63: "bo",
			64: "ne",
			65: "sa",
			66: "mr",
			67: "bn",
			68: "as",
			69: "gu",
			70: "pa",
			71: "or",
			72: "ml",
			73: "kn",
			74: "ta",
			75: "te",
			76: "si",
			77: "my",
			78: "km",
			79: "lo",
			80: "vi",
			81: "id",
			82: "tl",
			83: "ms",
			84: "ms-Arab",
			85: "am",
			86: "ti",
			87: "om",
			88: "so",
			89: "sw",
			90: "rw",
			91: "rn",
			92: "ny",
			93: "mg",
			94: "eo",
			128: "cy",
			129: "eu",
			130: "ca",
			131: "la",
			132: "qu",
			133: "gn",
			134: "ay",
			135: "tt",
			136: "ug",
			137: "dz",
			138: "jv",
			139: "su",
			140: "gl",
			141: "af",
			142: "br",
			143: "iu",
			144: "gd",
			145: "gv",
			146: "ga",
			147: "to",
			148: "el-polyton",
			149: "kl",
			150: "az",
			151: "nn"
		},
		ro = {
			0: 0,
			1: 0,
			2: 0,
			3: 0,
			4: 0,
			5: 0,
			6: 0,
			7: 0,
			8: 0,
			9: 0,
			10: 5,
			11: 1,
			12: 4,
			13: 0,
			14: 6,
			15: 0,
			16: 0,
			17: 0,
			18: 0,
			19: 2,
			20: 4,
			21: 9,
			22: 21,
			23: 3,
			24: 29,
			25: 29,
			26: 29,
			27: 29,
			28: 29,
			29: 0,
			30: 0,
			31: 4,
			32: 7,
			33: 25,
			34: 0,
			35: 0,
			36: 0,
			37: 0,
			38: 29,
			39: 29,
			40: 0,
			41: 5,
			42: 7,
			43: 7,
			44: 7,
			45: 7,
			46: 7,
			47: 7,
			48: 7,
			49: 7,
			50: 4,
			51: 24,
			52: 23,
			53: 7,
			54: 7,
			55: 7,
			56: 7,
			57: 27,
			58: 7,
			59: 4,
			60: 4,
			61: 4,
			62: 4,
			63: 26,
			64: 9,
			65: 9,
			66: 9,
			67: 13,
			68: 13,
			69: 11,
			70: 10,
			71: 12,
			72: 17,
			73: 16,
			74: 14,
			75: 15,
			76: 18,
			77: 19,
			78: 20,
			79: 22,
			80: 30,
			81: 0,
			82: 0,
			83: 0,
			84: 4,
			85: 28,
			86: 28,
			87: 28,
			88: 0,
			89: 0,
			90: 0,
			91: 0,
			92: 0,
			93: 0,
			94: 0,
			128: 0,
			129: 0,
			130: 0,
			131: 0,
			132: 0,
			133: 0,
			134: 0,
			135: 7,
			136: 4,
			137: 26,
			138: 0,
			139: 0,
			140: 0,
			141: 0,
			142: 0,
			143: 28,
			144: 0,
			145: 0,
			146: 0,
			147: 0,
			148: 6,
			149: 0,
			150: 0,
			151: 0
		},
		io = {
			1078: "af",
			1052: "sq",
			1156: "gsw",
			1118: "am",
			5121: "ar-DZ",
			15361: "ar-BH",
			3073: "ar",
			2049: "ar-IQ",
			11265: "ar-JO",
			13313: "ar-KW",
			12289: "ar-LB",
			4097: "ar-LY",
			6145: "ary",
			8193: "ar-OM",
			16385: "ar-QA",
			1025: "ar-SA",
			10241: "ar-SY",
			7169: "aeb",
			14337: "ar-AE",
			9217: "ar-YE",
			1067: "hy",
			1101: "as",
			2092: "az-Cyrl",
			1068: "az",
			1133: "ba",
			1069: "eu",
			1059: "be",
			2117: "bn",
			1093: "bn-IN",
			8218: "bs-Cyrl",
			5146: "bs",
			1150: "br",
			1026: "bg",
			1027: "ca",
			3076: "zh-HK",
			5124: "zh-MO",
			2052: "zh",
			4100: "zh-SG",
			1028: "zh-TW",
			1155: "co",
			1050: "hr",
			4122: "hr-BA",
			1029: "cs",
			1030: "da",
			1164: "prs",
			1125: "dv",
			2067: "nl-BE",
			1043: "nl",
			3081: "en-AU",
			10249: "en-BZ",
			4105: "en-CA",
			9225: "en-029",
			16393: "en-IN",
			6153: "en-IE",
			8201: "en-JM",
			17417: "en-MY",
			5129: "en-NZ",
			13321: "en-PH",
			18441: "en-SG",
			7177: "en-ZA",
			11273: "en-TT",
			2057: "en-GB",
			1033: "en",
			12297: "en-ZW",
			1061: "et",
			1080: "fo",
			1124: "fil",
			1035: "fi",
			2060: "fr-BE",
			3084: "fr-CA",
			1036: "fr",
			5132: "fr-LU",
			6156: "fr-MC",
			4108: "fr-CH",
			1122: "fy",
			1110: "gl",
			1079: "ka",
			3079: "de-AT",
			1031: "de",
			5127: "de-LI",
			4103: "de-LU",
			2055: "de-CH",
			1032: "el",
			1135: "kl",
			1095: "gu",
			1128: "ha",
			1037: "he",
			1081: "hi",
			1038: "hu",
			1039: "is",
			1136: "ig",
			1057: "id",
			1117: "iu",
			2141: "iu-Latn",
			2108: "ga",
			1076: "xh",
			1077: "zu",
			1040: "it",
			2064: "it-CH",
			1041: "ja",
			1099: "kn",
			1087: "kk",
			1107: "km",
			1158: "quc",
			1159: "rw",
			1089: "sw",
			1111: "kok",
			1042: "ko",
			1088: "ky",
			1108: "lo",
			1062: "lv",
			1063: "lt",
			2094: "dsb",
			1134: "lb",
			1071: "mk",
			2110: "ms-BN",
			1086: "ms",
			1100: "ml",
			1082: "mt",
			1153: "mi",
			1146: "arn",
			1102: "mr",
			1148: "moh",
			1104: "mn",
			2128: "mn-CN",
			1121: "ne",
			1044: "nb",
			2068: "nn",
			1154: "oc",
			1096: "or",
			1123: "ps",
			1045: "pl",
			1046: "pt",
			2070: "pt-PT",
			1094: "pa",
			1131: "qu-BO",
			2155: "qu-EC",
			3179: "qu",
			1048: "ro",
			1047: "rm",
			1049: "ru",
			9275: "smn",
			4155: "smj-NO",
			5179: "smj",
			3131: "se-FI",
			1083: "se",
			2107: "se-SE",
			8251: "sms",
			6203: "sma-NO",
			7227: "sms",
			1103: "sa",
			7194: "sr-Cyrl-BA",
			3098: "sr",
			6170: "sr-Latn-BA",
			2074: "sr-Latn",
			1132: "nso",
			1074: "tn",
			1115: "si",
			1051: "sk",
			1060: "sl",
			11274: "es-AR",
			16394: "es-BO",
			13322: "es-CL",
			9226: "es-CO",
			5130: "es-CR",
			7178: "es-DO",
			12298: "es-EC",
			17418: "es-SV",
			4106: "es-GT",
			18442: "es-HN",
			2058: "es-MX",
			19466: "es-NI",
			6154: "es-PA",
			15370: "es-PY",
			10250: "es-PE",
			20490: "es-PR",
			3082: "es",
			1034: "es",
			21514: "es-US",
			14346: "es-UY",
			8202: "es-VE",
			2077: "sv-FI",
			1053: "sv",
			1114: "syr",
			1064: "tg",
			2143: "tzm",
			1097: "ta",
			1092: "tt",
			1098: "te",
			1054: "th",
			1105: "bo",
			1055: "tr",
			1090: "tk",
			1152: "ug",
			1058: "uk",
			1070: "hsb",
			1056: "ur",
			2115: "uz-Cyrl",
			1091: "uz",
			1066: "vi",
			1106: "cy",
			1160: "wo",
			1157: "sah",
			1144: "ii",
			1130: "yo"
		},
		oo = "utf-16",
		ao = {
			0: "macintosh",
			1: "x-mac-japanese",
			2: "x-mac-chinesetrad",
			3: "x-mac-korean",
			6: "x-mac-greek",
			7: "x-mac-cyrillic",
			9: "x-mac-devanagai",
			10: "x-mac-gurmukhi",
			11: "x-mac-gujarati",
			12: "x-mac-oriya",
			13: "x-mac-bengali",
			14: "x-mac-tamil",
			15: "x-mac-telugu",
			16: "x-mac-kannada",
			17: "x-mac-malayalam",
			18: "x-mac-sinhalese",
			19: "x-mac-burmese",
			20: "x-mac-khmer",
			21: "x-mac-thai",
			22: "x-mac-lao",
			23: "x-mac-georgian",
			24: "x-mac-armenian",
			25: "x-mac-chinesesimp",
			26: "x-mac-tibetan",
			27: "x-mac-mongolian",
			28: "x-mac-ethiopic",
			29: "x-mac-ce",
			30: "x-mac-vietnamese",
			31: "x-mac-extarabic"
		},
		so = {
			15: "x-mac-icelandic",
			17: "x-mac-turkish",
			18: "x-mac-croatian",
			24: "x-mac-ce",
			25: "x-mac-ce",
			26: "x-mac-ce",
			27: "x-mac-ce",
			28: "x-mac-ce",
			30: "x-mac-icelandic",
			37: "x-mac-romanian",
			38: "x-mac-ce",
			39: "x-mac-ce",
			40: "x-mac-ce",
			143: "x-mac-inuit",
			146: "x-mac-gaelic"
		},
		lo = {
			parse: nt,
			make: st
		},
		co = [{
			begin: 0,
			end: 127
		}, {
			begin: 128,
			end: 255
		}, {
			begin: 256,
			end: 383
		}, {
			begin: 384,
			end: 591
		}, {
			begin: 592,
			end: 687
		}, {
			begin: 688,
			end: 767
		}, {
			begin: 768,
			end: 879
		}, {
			begin: 880,
			end: 1023
		}, {
			begin: 11392,
			end: 11519
		}, {
			begin: 1024,
			end: 1279
		}, {
			begin: 1328,
			end: 1423
		}, {
			begin: 1424,
			end: 1535
		}, {
			begin: 42240,
			end: 42559
		}, {
			begin: 1536,
			end: 1791
		}, {
			begin: 1984,
			end: 2047
		}, {
			begin: 2304,
			end: 2431
		}, {
			begin: 2432,
			end: 2559
		}, {
			begin: 2560,
			end: 2687
		}, {
			begin: 2688,
			end: 2815
		}, {
			begin: 2816,
			end: 2943
		}, {
			begin: 2944,
			end: 3071
		}, {
			begin: 3072,
			end: 3199
		}, {
			begin: 3200,
			end: 3327
		}, {
			begin: 3328,
			end: 3455
		}, {
			begin: 3584,
			end: 3711
		}, {
			begin: 3712,
			end: 3839
		}, {
			begin: 4256,
			end: 4351
		}, {
			begin: 6912,
			end: 7039
		}, {
			begin: 4352,
			end: 4607
		}, {
			begin: 7680,
			end: 7935
		}, {
			begin: 7936,
			end: 8191
		}, {
			begin: 8192,
			end: 8303
		}, {
			begin: 8304,
			end: 8351
		}, {
			begin: 8352,
			end: 8399
		}, {
			begin: 8400,
			end: 8447
		}, {
			begin: 8448,
			end: 8527
		}, {
			begin: 8528,
			end: 8591
		}, {
			begin: 8592,
			end: 8703
		}, {
			begin: 8704,
			end: 8959
		}, {
			begin: 8960,
			end: 9215
		}, {
			begin: 9216,
			end: 9279
		}, {
			begin: 9280,
			end: 9311
		}, {
			begin: 9312,
			end: 9471
		}, {
			begin: 9472,
			end: 9599
		}, {
			begin: 9600,
			end: 9631
		}, {
			begin: 9632,
			end: 9727
		}, {
			begin: 9728,
			end: 9983
		}, {
			begin: 9984,
			end: 10175
		}, {
			begin: 12288,
			end: 12351
		}, {
			begin: 12352,
			end: 12447
		}, {
			begin: 12448,
			end: 12543
		}, {
			begin: 12544,
			end: 12591
		}, {
			begin: 12592,
			end: 12687
		}, {
			begin: 43072,
			end: 43135
		}, {
			begin: 12800,
			end: 13055
		}, {
			begin: 13056,
			end: 13311
		}, {
			begin: 44032,
			end: 55215
		}, {
			begin: 55296,
			end: 57343
		}, {
			begin: 67840,
			end: 67871
		}, {
			begin: 19968,
			end: 40959
		}, {
			begin: 57344,
			end: 63743
		}, {
			begin: 12736,
			end: 12783
		}, {
			begin: 64256,
			end: 64335
		}, {
			begin: 64336,
			end: 65023
		}, {
			begin: 65056,
			end: 65071
		}, {
			begin: 65040,
			end: 65055
		}, {
			begin: 65104,
			end: 65135
		}, {
			begin: 65136,
			end: 65279
		}, {
			begin: 65280,
			end: 65519
		}, {
			begin: 65520,
			end: 65535
		}, {
			begin: 3840,
			end: 4095
		}, {
			begin: 1792,
			end: 1871
		}, {
			begin: 1920,
			end: 1983
		}, {
			begin: 3456,
			end: 3583
		}, {
			begin: 4096,
			end: 4255
		}, {
			begin: 4608,
			end: 4991
		}, {
			begin: 5024,
			end: 5119
		}, {
			begin: 5120,
			end: 5759
		}, {
			begin: 5760,
			end: 5791
		}, {
			begin: 5792,
			end: 5887
		}, {
			begin: 6016,
			end: 6143
		}, {
			begin: 6144,
			end: 6319
		}, {
			begin: 10240,
			end: 10495
		}, {
			begin: 40960,
			end: 42127
		}, {
			begin: 5888,
			end: 5919
		}, {
			begin: 66304,
			end: 66351
		}, {
			begin: 66352,
			end: 66383
		}, {
			begin: 66560,
			end: 66639
		}, {
			begin: 118784,
			end: 119039
		}, {
			begin: 119808,
			end: 120831
		}, {
			begin: 1044480,
			end: 1048573
		}, {
			begin: 65024,
			end: 65039
		}, {
			begin: 917504,
			end: 917631
		}, {
			begin: 6400,
			end: 6479
		}, {
			begin: 6480,
			end: 6527
		}, {
			begin: 6528,
			end: 6623
		}, {
			begin: 6656,
			end: 6687
		}, {
			begin: 11264,
			end: 11359
		}, {
			begin: 11568,
			end: 11647
		}, {
			begin: 19904,
			end: 19967
		}, {
			begin: 43008,
			end: 43055
		}, {
			begin: 65536,
			end: 65663
		}, {
			begin: 65856,
			end: 65935
		}, {
			begin: 66432,
			end: 66463
		}, {
			begin: 66464,
			end: 66527
		}, {
			begin: 66640,
			end: 66687
		}, {
			begin: 66688,
			end: 66735
		}, {
			begin: 67584,
			end: 67647
		}, {
			begin: 68096,
			end: 68191
		}, {
			begin: 119552,
			end: 119647
		}, {
			begin: 73728,
			end: 74751
		}, {
			begin: 119648,
			end: 119679
		}, {
			begin: 7040,
			end: 7103
		}, {
			begin: 7168,
			end: 7247
		}, {
			begin: 7248,
			end: 7295
		}, {
			begin: 43136,
			end: 43231
		}, {
			begin: 43264,
			end: 43311
		}, {
			begin: 43312,
			end: 43359
		}, {
			begin: 43520,
			end: 43615
		}, {
			begin: 65936,
			end: 65999
		}, {
			begin: 66e3,
			end: 66047
		}, {
			begin: 66208,
			end: 66271
		}, {
			begin: 127024,
			end: 127135
		}],
		uo = {
			parse: ct,
			make: ut,
			unicodeRanges: co,
			getUnicodeRange: lt
		},
		ho = {
			parse: ht,
			make: ft
		},
		fo = new Array(9);
	fo[1] = function() {
		var e = this.offset + this.relativeOffset,
			t = this.parseUShort();
		return 1 === t ? {
			substFormat: 1,
			coverage: this.parsePointer(N.coverage),
			deltaGlyphId: this.parseUShort()
		} : 2 === t ? {
			substFormat: 2,
			coverage: this.parsePointer(N.coverage),
			substitute: this.parseOffset16List()
		} : void Ti.assert(!1, "0x" + e.toString(16) + ": lookup type 1 format must be 1 or 2.")
	}, fo[2] = function() {
		var e = this.parseUShort();
		return Ti.argument(1 === e, "GSUB Multiple Substitution Subtable identifier-format must be 1"), {
			substFormat: e,
			coverage: this.parsePointer(N.coverage),
			sequences: this.parseListOfLists()
		}
	}, fo[3] = function() {
		var e = this.parseUShort();
		return Ti.argument(1 === e, "GSUB Alternate Substitution Subtable identifier-format must be 1"), {
			substFormat: e,
			coverage: this.parsePointer(N.coverage),
			alternateSets: this.parseListOfLists()
		}
	}, fo[4] = function() {
		var e = this.parseUShort();
		return Ti.argument(1 === e, "GSUB ligature table identifier-format must be 1"), {
			substFormat: e,
			coverage: this.parsePointer(N.coverage),
			ligatureSets: this.parseListOfLists(function() {
				return {
					ligGlyph: this.parseUShort(),
					components: this.parseUShortList(this.parseUShort() - 1)
				}
			})
		}
	};
	var po = {
		sequenceIndex: N.uShort,
		lookupListIndex: N.uShort
	};
	fo[5] = function() {
		var e = this.offset + this.relativeOffset,
			t = this.parseUShort();
		if (1 === t) return {
			substFormat: t,
			coverage: this.parsePointer(N.coverage),
			ruleSets: this.parseListOfLists(function() {
				var e = this.parseUShort(),
					t = this.parseUShort();
				return {
					input: this.parseUShortList(e - 1),
					lookupRecords: this.parseRecordList(t, po)
				}
			})
		};
		if (2 === t) return {
			substFormat: t,
			coverage: this.parsePointer(N.coverage),
			classDef: this.parsePointer(N.classDef),
			classSets: this.parseListOfLists(function() {
				var e = this.parseUShort(),
					t = this.parseUShort();
				return {
					classes: this.parseUShortList(e - 1),
					lookupRecords: this.parseRecordList(t, po)
				}
			})
		};
		if (3 === t) {
			var n = this.parseUShort(),
				r = this.parseUShort();
			return {
				substFormat: t,
				coverages: this.parseList(n, N.pointer(N.coverage)),
				lookupRecords: this.parseRecordList(r, po)
			}
		}
		Ti.assert(!1, "0x" + e.toString(16) + ": lookup type 5 format must be 1, 2 or 3.")
	}, fo[6] = function() {
		var e = this.offset + this.relativeOffset,
			t = this.parseUShort();
		return 1 === t ? {
			substFormat: 1,
			coverage: this.parsePointer(N.coverage),
			chainRuleSets: this.parseListOfLists(function() {
				return {
					backtrack: this.parseUShortList(),
					input: this.parseUShortList(this.parseShort() - 1),
					lookahead: this.parseUShortList(),
					lookupRecords: this.parseRecordList(po)
				}
			})
		} : 2 === t ? {
			substFormat: 2,
			coverage: this.parsePointer(N.coverage),
			backtrackClassDef: this.parsePointer(N.classDef),
			inputClassDef: this.parsePointer(N.classDef),
			lookaheadClassDef: this.parsePointer(N.classDef),
			chainClassSet: this.parseListOfLists(function() {
				return {
					backtrack: this.parseUShortList(),
					input: this.parseUShortList(this.parseShort() - 1),
					lookahead: this.parseUShortList(),
					lookupRecords: this.parseRecordList(po)
				}
			})
		} : 3 === t ? {
			substFormat: 3,
			backtrackCoverage: this.parseList(N.pointer(N.coverage)),
			inputCoverage: this.parseList(N.pointer(N.coverage)),
			lookaheadCoverage: this.parseList(N.pointer(N.coverage)),
			lookupRecords: this.parseRecordList(po)
		} : void Ti.assert(!1, "0x" + e.toString(16) + ": lookup type 6 format must be 1, 2 or 3.")
	}, fo[7] = function() {
		var e = this.parseUShort();
		Ti.argument(1 === e, "GSUB Extension Substitution subtable identifier-format must be 1");
		var t = this.parseUShort(),
			n = new N(this.data, this.offset + this.parseULong());
		return {
			substFormat: 1,
			lookupType: t,
			extension: fo[t].call(n)
		}
	}, fo[8] = function() {
		var e = this.parseUShort();
		return Ti.argument(1 === e,
			"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"), {
			substFormat: e,
			coverage: this.parsePointer(N.coverage),
			backtrackCoverage: this.parseList(N.pointer(N.coverage)),
			lookaheadCoverage: this.parseList(N.pointer(N.coverage)),
			substitutes: this.parseUShortList()
		}
	};
	var go = new Array(9);
	go[1] = function(e) {
		return 1 === e.substFormat ? new Pi.Table("substitutionTable", [{
			name: "substFormat",
			type: "USHORT",
			value: 1
		}, {
			name: "coverage",
			type: "TABLE",
			value: new Pi.Coverage(e.coverage)
		}, {
			name: "deltaGlyphID",
			type: "USHORT",
			value: e.deltaGlyphId
		}]) : new Pi.Table("substitutionTable", [{
			name: "substFormat",
			type: "USHORT",
			value: 2
		}, {
			name: "coverage",
			type: "TABLE",
			value: new Pi.Coverage(e.coverage)
		}].concat(Pi.ushortList("substitute", e.substitute)))
	}, go[3] = function(e) {
		return Ti.assert(1 === e.substFormat, "Lookup type 3 substFormat must be 1."), new Pi.Table("substitutionTable", [{
			name: "substFormat",
			type: "USHORT",
			value: 1
		}, {
			name: "coverage",
			type: "TABLE",
			value: new Pi.Coverage(e.coverage)
		}].concat(Pi.tableList("altSet", e.alternateSets, function(e) {
			return new Pi.Table("alternateSetTable", Pi.ushortList("alternate", e))
		})))
	}, go[4] = function(e) {
		return Ti.assert(1 === e.substFormat, "Lookup type 4 substFormat must be 1."), new Pi.Table("substitutionTable", [{
			name: "substFormat",
			type: "USHORT",
			value: 1
		}, {
			name: "coverage",
			type: "TABLE",
			value: new Pi.Coverage(e.coverage)
		}].concat(Pi.tableList("ligSet", e.ligatureSets, function(e) {
			return new Pi.Table("ligatureSetTable", Pi.tableList("ligature", e, function(e) {
				return new Pi.Table("ligatureTable", [{
					name: "ligGlyph",
					type: "USHORT",
					value: e.ligGlyph
				}].concat(Pi.ushortList("component", e.components, e.components.length + 1)))
			}))
		})))
	};
	var mo = {
			parse: dt,
			make: pt
		},
		vo = {
			parse: gt,
			make: mt
		},
		yo = {
			make: xt,
			fontToTable: _t,
			computeCheckSum: yt
		};
	Et.prototype = {
		searchTag: Tt,
		binSearch: Ct,
		getTable: function(e) {
			var t = this.font.tables[this.tableName];
			return !t && e && (t = this.font.tables[this.tableName] = this.createDefaultTable()), t
		},
		getScriptNames: function() {
			var e = this.getTable();
			return e ? e.scripts.map(function(e) {
				return e.tag
			}) : []
		},
		getDefaultScriptName: function() {
			var e = this.getTable();
			if (e) {
				for (var t = !1, n = 0; n < e.scripts.length; n++) {
					var r = e.scripts[n].tag;
					if ("DFLT" === r) return r;
					"latn" === r && (t = !0)
				}
				return t ? "latn" : void 0
			}
		},
		getScriptTable: function(e, t) {
			var n = this.getTable(t);
			if (n) {
				e = e || "DFLT";
				var r = n.scripts,
					i = Tt(n.scripts, e);
				if (i >= 0) return r[i].script;
				if (t) {
					var o = {
						tag: e,
						script: {
							defaultLangSys: {
								reserved: 0,
								reqFeatureIndex: 65535,
								featureIndexes: []
							},
							langSysRecords: []
						}
					};
					return r.splice(-1 - i, 0, o), o.script
				}
			}
		},
		getLangSysTable: function(e, t, n) {
			var r = this.getScriptTable(e, n);
			if (r) {
				if (!t || "dflt" === t || "DFLT" === t) return r.defaultLangSys;
				var i = Tt(r.langSysRecords, t);
				if (i >= 0) return r.langSysRecords[i].langSys;
				if (n) {
					var o = {
						tag: t,
						langSys: {
							reserved: 0,
							reqFeatureIndex: 65535,
							featureIndexes: []
						}
					};
					return r.langSysRecords.splice(-1 - i, 0, o), o.langSys
				}
			}
		},
		getFeatureTable: function(e, t, n, r) {
			var i = this.getLangSysTable(e, t, r);
			if (i) {
				for (var o, a = i.featureIndexes, s = this.font.tables[this.tableName].features, l = 0; l < a.length; l++)
					if (o = s[a[l]], o.tag === n) return o.feature;
				if (r) {
					var c = s.length;
					return Ti.assert(0 === c || n >= s[c - 1].tag, "Features must be added in alphabetical order."), o = {
						tag: n,
						feature: {
							params: 0,
							lookupListIndexes: []
						}
					}, s.push(o), a.push(c), o.feature
				}
			}
		},
		getLookupTables: function(e, t, n, r, i) {
			var o = this.getFeatureTable(e, t, n, i),
				a = [];
			if (o) {
				for (var s, l = o.lookupListIndexes, c = this.font.tables[this.tableName].lookups, u = 0; u < l.length; u++) s =
					c[l[u]], s.lookupType === r && a.push(s);
				if (0 === a.length && i) {
					s = {
						lookupType: r,
						lookupFlag: 0,
						subtables: [],
						markFilteringSet: void 0
					};
					var h = c.length;
					return c.push(s), l.push(h), [s]
				}
			}
			return a
		},
		expandCoverage: function(e) {
			if (1 === e.format) return e.glyphs;
			for (var t = [], n = e.ranges, r = 0; r < n.length; r++)
				for (var i = n[r], o = i.start, a = i.end, s = o; a >= s; s++) t.push(s);
			return t
		}
	}, Ot.prototype = Et.prototype, Ot.prototype.createDefaultTable = function() {
		return {
			version: 1,
			scripts: [{
				tag: "DFLT",
				script: {
					defaultLangSys: {
						reserved: 0,
						reqFeatureIndex: 65535,
						featureIndexes: []
					},
					langSysRecords: []
				}
			}],
			features: [],
			lookups: []
		}
	}, Ot.prototype.getSingle = function(e, t, n) {
		for (var r = this, i = [], o = this.getLookupTables(t, n, e, 1), a = 0; a < o.length; a++)
			for (var s = o[a].subtables, l = 0; l < s.length; l++) {
				var c = s[l],
					u = r.expandCoverage(c.coverage),
					h = void 0;
				if (1 === c.substFormat) {
					var f = c.deltaGlyphId;
					for (h = 0; h < u.length; h++) {
						var d = u[h];
						i.push({
							sub: d,
							by: d + f
						})
					}
				} else {
					var p = c.substitute;
					for (h = 0; h < u.length; h++) i.push({
						sub: u[h],
						by: p[h]
					})
				}
			}
		return i
	}, Ot.prototype.getAlternates = function(e, t, n) {
		for (var r = this, i = [], o = this.getLookupTables(t, n, e, 3), a = 0; a < o.length; a++)
			for (var s = o[a].subtables, l = 0; l < s.length; l++)
				for (var c = s[l], u = r.expandCoverage(c.coverage), h = c.alternateSets, f = 0; f < u.length; f++) i.push({
					sub: u[f],
					by: h[f]
				});
		return i
	}, Ot.prototype.getLigatures = function(e, t, n) {
		for (var r = this, i = [], o = this.getLookupTables(t, n, e, 4), a = 0; a < o.length; a++)
			for (var s = o[a].subtables, l = 0; l < s.length; l++)
				for (var c = s[l], u = r.expandCoverage(c.coverage), h = c.ligatureSets, f = 0; f < u.length; f++)
					for (var d = u[f], p = h[f], g = 0; g < p.length; g++) {
						var m = p[g];
						i.push({
							sub: [d].concat(m.components),
							by: m.ligGlyph
						})
					}
		return i
	}, Ot.prototype.addSingle = function(e, t, n, r) {
		var i = this.getLookupTables(n, r, e, 1, !0)[0],
			o = Rt(i, 2, {
				substFormat: 2,
				coverage: {
					format: 1,
					glyphs: []
				},
				substitute: []
			});
		Ti.assert(1 === o.coverage.format, "Ligature: unable to modify coverage table format " + o.coverage.format);
		var a = t.sub,
			s = this.binSearch(o.coverage.glyphs, a);
		0 > s && (s = -1 - s, o.coverage.glyphs.splice(s, 0, a), o.substitute.splice(s, 0, 0)), o.substitute[s] = t.by
	}, Ot.prototype.addAlternate = function(e, t, n, r) {
		var i = this.getLookupTables(n, r, e, 3, !0)[0],
			o = Rt(i, 1, {
				substFormat: 1,
				coverage: {
					format: 1,
					glyphs: []
				},
				alternateSets: []
			});
		Ti.assert(1 === o.coverage.format, "Ligature: unable to modify coverage table format " + o.coverage.format);
		var a = t.sub,
			s = this.binSearch(o.coverage.glyphs, a);
		0 > s && (s = -1 - s, o.coverage.glyphs.splice(s, 0, a), o.alternateSets.splice(s, 0, 0)), o.alternateSets[s] = t.by
	}, Ot.prototype.addLigature = function(e, t, n, r) {
		var i = this.getLookupTables(n, r, e, 4, !0)[0],
			o = i.subtables[0];
		o || (o = {
			substFormat: 1,
			coverage: {
				format: 1,
				glyphs: []
			},
			ligatureSets: []
		}, i.subtables[0] = o), Ti.assert(1 === o.coverage.format, "Ligature: unable to modify coverage table format " + o
			.coverage.format);
		var a = t.sub[0],
			s = t.sub.slice(1),
			l = {
				ligGlyph: t.by,
				components: s
			},
			c = this.binSearch(o.coverage.glyphs, a);
		if (c >= 0) {
			for (var u = o.ligatureSets[c], h = 0; h < u.length; h++)
				if (kt(u[h].components, s)) return;
			u.push(l)
		} else c = -1 - c, o.coverage.glyphs.splice(c, 0, a), o.ligatureSets.splice(c, 0, [l])
	}, Ot.prototype.getFeature = function(e, t, n) {
		if (/ss\d\d/.test(e)) return this.getSingle(e, t, n);
		switch (e) {
			case "aalt":
			case "salt":
				return this.getSingle(e, t, n).concat(this.getAlternates(e, t, n));
			case "dlig":
			case "liga":
			case "rlig":
				return this.getLigatures(e, t, n)
		}
	}, Ot.prototype.add = function(e, t, n, r) {
		if (/ss\d\d/.test(e)) return this.addSingle(e, t, n, r);
		switch (e) {
			case "aalt":
			case "salt":
				return "number" == typeof t.by ? this.addSingle(e, t, n, r) : this.addAlternate(e, t, n, r);
			case "dlig":
			case "liga":
			case "rlig":
				return this.addLigature(e, t, n, r)
		}
	};
	var bo, xo, wo, So, _o = function(e) {
			var t = this.srPeriod,
				n = this.srPhase,
				r = this.srThreshold,
				i = 1;
			return 0 > e && (e = -e, i = -1), e += r - n, e = Math.trunc(e / t) * t, e += n, i > 0 && 0 > e ? n : 0 > i && e >
				0 ? -n : e * i
		},
		To = {
			x: 1,
			y: 0,
			axis: "x",
			distance: function(e, t, n, r) {
				return (n ? e.xo : e.x) - (r ? t.xo : t.x)
			},
			interpolate: function(e, t, n, r) {
				var i, o, a, s, l, c, u;
				return r && r !== this ? (i = r.distance(e, t, !0, !0), o = r.distance(e, n, !0, !0), l = r.distance(t, t, !1, !0),
					c = r.distance(n, n, !1, !0), a = Math.abs(i), s = Math.abs(o), u = a + s, 0 === u ? void To.setRelative(e, e,
						(l + c) / 2, r, !0) : void To.setRelative(e, e, (l * s + c * a) / u, r, !0)) : (i = e.xo - t.xo, o = e.xo - n.xo,
					l = t.x - t.xo, c = n.x - n.xo, a = Math.abs(i), s = Math.abs(o), u = a + s, 0 === u ? void(e.x = e.xo + (l + c) /
						2) : void(e.x = e.xo + (l * s + c * a) / u))
			},
			normalSlope: Number.NEGATIVE_INFINITY,
			setRelative: function(e, t, n, r, i) {
				if (!r || r === this) return void(e.x = (i ? t.xo : t.x) + n);
				var o = i ? t.xo : t.x,
					a = i ? t.yo : t.y,
					s = o + n * r.x,
					l = a + n * r.y;
				e.x = s + (e.y - l) / r.normalSlope
			},
			slope: 0,
			touch: function(e) {
				e.xTouched = !0
			},
			touched: function(e) {
				return e.xTouched
			},
			untouch: function(e) {
				e.xTouched = !1
			}
		},
		Co = {
			x: 0,
			y: 1,
			axis: "y",
			distance: function(e, t, n, r) {
				return (n ? e.yo : e.y) - (r ? t.yo : t.y)
			},
			interpolate: function(e, t, n, r) {
				var i, o, a, s, l, c, u;
				return r && r !== this ? (i = r.distance(e, t, !0, !0), o = r.distance(e, n, !0, !0), l = r.distance(t, t, !1, !0),
					c = r.distance(n, n, !1, !0), a = Math.abs(i), s = Math.abs(o), u = a + s, 0 === u ? void Co.setRelative(e, e,
						(l + c) / 2, r, !0) : void Co.setRelative(e, e, (l * s + c * a) / u, r, !0)) : (i = e.yo - t.yo, o = e.yo - n.yo,
					l = t.y - t.yo, c = n.y - n.yo, a = Math.abs(i), s = Math.abs(o), u = a + s, 0 === u ? void(e.y = e.yo + (l + c) /
						2) : void(e.y = e.yo + (l * s + c * a) / u))
			},
			normalSlope: 0,
			setRelative: function(e, t, n, r, i) {
				if (!r || r === this) return void(e.y = (i ? t.yo : t.y) + n);
				var o = i ? t.xo : t.x,
					a = i ? t.yo : t.y,
					s = o + n * r.x,
					l = a + n * r.y;
				e.y = l + r.normalSlope * (e.x - s)
			},
			slope: Number.POSITIVE_INFINITY,
			touch: function(e) {
				e.yTouched = !0
			},
			touched: function(e) {
				return e.yTouched
			},
			untouch: function(e) {
				e.yTouched = !1
			}
		};
	Object.freeze(To), Object.freeze(Co), zt.prototype.distance = function(e, t, n, r) {
		return this.x * To.distance(e, t, n, r) + this.y * Co.distance(e, t, n, r)
	}, zt.prototype.interpolate = function(e, t, n, r) {
		var i, o, a, s, l, c, u;
		return a = r.distance(e, t, !0, !0), s = r.distance(e, n, !0, !0), i = r.distance(t, t, !1, !0), o = r.distance(n,
				n, !1, !0), l = Math.abs(a), c = Math.abs(s), u = l + c, 0 === u ? void this.setRelative(e, e, (i + o) / 2, r, !0) :
			void this.setRelative(e, e, (i * c + o * l) / u, r, !0)
	}, zt.prototype.setRelative = function(e, t, n, r, i) {
		r = r || this;
		var o = i ? t.xo : t.x,
			a = i ? t.yo : t.y,
			s = o + n * r.x,
			l = a + n * r.y,
			c = r.normalSlope,
			u = this.slope,
			h = e.x,
			f = e.y;
		e.x = (u * h - c * s + l - f) / (u - c), e.y = u * (e.x - h) + f
	}, zt.prototype.touch = function(e) {
		e.xTouched = !0, e.yTouched = !0
	}, Gt.prototype.nextTouched = function(e) {
		for (var t = this.nextPointOnContour; !e.touched(t) && t !== this;) t = t.nextPointOnContour;
		return t
	}, Gt.prototype.prevTouched = function(e) {
		for (var t = this.prevPointOnContour; !e.touched(t) && t !== this;) t = t.prevPointOnContour;
		return t
	};
	var Eo = Object.freeze(new Gt(0, 0)),
		Oo = {
			cvCutIn: 17 / 16,
			deltaBase: 9,
			deltaShift: .125,
			loop: 1,
			minDis: 1,
			autoFlip: !0
		};
	Lt.prototype.exec = function(t, n) {
		if ("number" != typeof n) throw new Error("Point size is not a number!");
		if (!(this._errorState > 2)) {
			var r = this.font,
				i = this._prepState;
			if (!i || i.ppem !== n) {
				var o = this._fpgmState;
				if (!o) {
					Xt.prototype = Oo, o = this._fpgmState = new Xt("fpgm", r.tables.fpgm), o.funcs = [], o.font = r, e.DEBUG && (
						console.log("---EXEC FPGM---"), o.step = -1);
					try {
						xo(o)
					} catch (a) {
						return console.log("Hinting error in FPGM:" + a), void(this._errorState = 3)
					}
				}
				Xt.prototype = o, i = this._prepState = new Xt("prep", r.tables.prep), i.ppem = n;
				var s = r.tables.cvt;
				if (s)
					for (var l = i.cvt = new Array(s.length), c = n / r.unitsPerEm, u = 0; u < s.length; u++) l[u] = s[u] * c;
				else i.cvt = [];
				e.DEBUG && (console.log("---EXEC PREP---"), i.step = -1);
				try {
					xo(i)
				} catch (a) {
					this._errorState < 2 && console.log("Hinting error in PREP:" + a), this._errorState = 2
				}
			}
			if (!(this._errorState > 1)) try {
				return wo(t, i)
			} catch (a) {
				return this._errorState < 1 && (console.log("Hinting error:" + a), console.log(
					"Note: further hinting errors are silenced")), void(this._errorState = 1)
			}
		}
	}, wo = function(t, n) {
		var r, i, o, a = n.ppem / n.font.unitsPerEm,
			s = a,
			l = t.components;
		if (Xt.prototype = n, l) {
			var c = n.font;
			i = [], r = [];
			for (var u = 0; u < l.length; u++) {
				var h = l[u],
					f = c.glyphs.get(h.glyphIndex);
				o = new Xt("glyf", f.instructions), e.DEBUG && (console.log("---EXEC COMP " + u + "---"), o.step = -1), So(f, o,
					a, s);
				for (var d = Math.round(h.dx * a), p = Math.round(h.dy * s), g = o.gZone, m = o.contours, v = 0; v < g.length; v++) {
					var y = g[v];
					y.xTouched = y.yTouched = !1, y.xo = y.x = y.x + d, y.yo = y.y = y.y + p
				}
				var b = i.length;
				i.push.apply(i, g);
				for (var x = 0; x < m.length; x++) r.push(m[x] + b)
			}
			t.instructions && !o.inhibitGridFit && (o = new Xt("glyf", t.instructions), o.gZone = o.z0 = o.z1 = o.z2 = i, o.contours =
				r, i.push(new Gt(0, 0), new Gt(Math.round(t.advanceWidth * a), 0)), e.DEBUG && (console.log(
					"---EXEC COMPOSITE---"), o.step = -1), xo(o), i.length -= 2)
		} else o = new Xt("glyf", t.instructions), e.DEBUG && (console.log("---EXEC GLYPH---"), o.step = -1), So(t, o, a, s),
			i = o.gZone;
		return i
	}, So = function(t, n, r, i) {
		for (var o, a = t.points || [], s = a.length, l = n.gZone = n.z0 = n.z1 = n.z2 = [], c = n.contours = [], u = 0; s >
			u; u++) o = a[u], l[u] = new Gt(o.x * r, o.y * i, o.lastPointOfContour, o.onCurve);
		for (var h, f, d = 0; s > d; d++) o = l[d], h || (h = o, c.push(d)), o.lastPointOfContour ? (o.nextPointOnContour =
			h, h.prevPointOnContour = o, h = void 0) : (f = l[d + 1], o.nextPointOnContour = f, f.prevPointOnContour = o);
		if (!n.inhibitGridFit && (l.push(new Gt(0, 0), new Gt(Math.round(t.advanceWidth * r), 0)), xo(n), l.length -= 2, e.DEBUG)) {
			console.log("FINISHED GLYPH", n.stack);
			for (var p = 0; s > p; p++) console.log(p, l[p].x, l[p].y)
		}
	}, xo = function(t) {
		var n = t.prog;
		if (n) {
			var r, i = n.length;
			for (t.ip = 0; t.ip < i; t.ip++) {
				if (e.DEBUG && t.step++, r = bo[n[t.ip]], !r) throw new Error("unknown instruction: 0x" + Number(n[t.ip]).toString(
					16));
				r(t)
			}
		}
	}, bo = [qt.bind(void 0, Co), qt.bind(void 0, To), Vt.bind(void 0, Co), Vt.bind(void 0, To), Kt.bind(void 0, Co), Kt
		.bind(void 0, To), $t.bind(void 0, 0), $t.bind(void 0, 1), Zt.bind(void 0, 0), Zt.bind(void 0, 1), Qt, Jt, en, tn,
		nn, rn, on, an, sn, ln, cn, un, hn, fn, dn, pn, gn, mn, vn, yn, void 0, void 0, bn, xn, wn, Sn, _n, En, On, void 0,
		void 0, void 0, Tn, Cn, kn, void 0, Rn.bind(void 0, 0), Rn.bind(void 0, 1), Dn.bind(void 0, Co), Dn.bind(void 0, To),
		An.bind(void 0, 0), An.bind(void 0, 1), In.bind(void 0, 0), In.bind(void 0, 1), Mn.bind(void 0, 0), Mn.bind(void 0,
			1), Ln, Pn, Fn.bind(void 0, 0), Fn.bind(void 0, 1), Un, jn, Bn.bind(void 0, 0), Bn.bind(void 0, 1), Nn, zn, Hn, Gn,
		Xn, Wn, Yn.bind(void 0, 0), Yn.bind(void 0, 1), void 0, qn.bind(void 0, 0), qn.bind(void 0, 1), Vn, void 0, Kn,
		void 0, void 0, $n, Zn, Qn, Jn, er, tr, nr, rr, ir, or, ar, sr, lr, cr.bind(void 0, 1), ur, hr, fr, dr, pr, gr, mr,
		vr, yr, br, xr.bind(void 0, 0), xr.bind(void 0, 1), xr.bind(void 0, 2), xr.bind(void 0, 3), void 0, void 0, void 0,
		void 0, wr, cr.bind(void 0, 2), cr.bind(void 0, 3), Sr.bind(void 0, 1), Sr.bind(void 0, 2), Sr.bind(void 0, 3), _r,
		Tr, void 0, void 0, Cr, void 0, Er, Or, xn, xn, void 0, void 0, void 0, void 0, void 0, kr, Rr.bind(void 0, 0), Rr.bind(
			void 0, 1), Dr, void 0, Ar, Ir, Mr, Lr, Pr, void 0, void 0, void 0, void 0, void 0, void 0, void 0, void 0, void 0,
		void 0, void 0, void 0, void 0, void 0, void 0, void 0, void 0, void 0, void 0, void 0, void 0, void 0, void 0,
		void 0, void 0, void 0, void 0, void 0, void 0, void 0, void 0, void 0, void 0, Fr.bind(void 0, 1), Fr.bind(void 0,
			2), Fr.bind(void 0, 3), Fr.bind(void 0, 4), Fr.bind(void 0, 5), Fr.bind(void 0, 6), Fr.bind(void 0, 7), Fr.bind(
			void 0, 8), Ur.bind(void 0, 1), Ur.bind(void 0, 2), Ur.bind(void 0, 3), Ur.bind(void 0, 4), Ur.bind(void 0, 5), Ur
		.bind(void 0, 6), Ur.bind(void 0, 7), Ur.bind(void 0, 8), jr.bind(void 0, 0, 0, 0, 0, 0), jr.bind(void 0, 0, 0, 0,
			0, 1), jr.bind(void 0, 0, 0, 0, 0, 2), jr.bind(void 0, 0, 0, 0, 0, 3), jr.bind(void 0, 0, 0, 0, 1, 0), jr.bind(
			void 0, 0, 0, 0, 1, 1), jr.bind(void 0, 0, 0, 0, 1, 2), jr.bind(void 0, 0, 0, 0, 1, 3), jr.bind(void 0, 0, 0, 1, 0,
			0), jr.bind(void 0, 0, 0, 1, 0, 1), jr.bind(void 0, 0, 0, 1, 0, 2), jr.bind(void 0, 0, 0, 1, 0, 3), jr.bind(void 0,
			0, 0, 1, 1, 0), jr.bind(void 0, 0, 0, 1, 1, 1), jr.bind(void 0, 0, 0, 1, 1, 2), jr.bind(void 0, 0, 0, 1, 1, 3), jr
		.bind(void 0, 0, 1, 0, 0, 0), jr.bind(void 0, 0, 1, 0, 0, 1), jr.bind(void 0, 0, 1, 0, 0, 2), jr.bind(void 0, 0, 1,
			0, 0, 3), jr.bind(void 0, 0, 1, 0, 1, 0), jr.bind(void 0, 0, 1, 0, 1, 1), jr.bind(void 0, 0, 1, 0, 1, 2), jr.bind(
			void 0, 0, 1, 0, 1, 3), jr.bind(void 0, 0, 1, 1, 0, 0), jr.bind(void 0, 0, 1, 1, 0, 1), jr.bind(void 0, 0, 1, 1, 0,
			2), jr.bind(void 0, 0, 1, 1, 0, 3), jr.bind(void 0, 0, 1, 1, 1, 0), jr.bind(void 0, 0, 1, 1, 1, 1), jr.bind(void 0,
			0, 1, 1, 1, 2), jr.bind(void 0, 0, 1, 1, 1, 3), jr.bind(void 0, 1, 0, 0, 0, 0), jr.bind(void 0, 1, 0, 0, 0, 1), jr
		.bind(void 0, 1, 0, 0, 0, 2), jr.bind(void 0, 1, 0, 0, 0, 3), jr.bind(void 0, 1, 0, 0, 1, 0), jr.bind(void 0, 1, 0,
			0, 1, 1), jr.bind(void 0, 1, 0, 0, 1, 2), jr.bind(void 0, 1, 0, 0, 1, 3), jr.bind(void 0, 1, 0, 1, 0, 0), jr.bind(
			void 0, 1, 0, 1, 0, 1), jr.bind(void 0, 1, 0, 1, 0, 2), jr.bind(void 0, 1, 0, 1, 0, 3), jr.bind(void 0, 1, 0, 1, 1,
			0), jr.bind(void 0, 1, 0, 1, 1, 1), jr.bind(void 0, 1, 0, 1, 1, 2), jr.bind(void 0, 1, 0, 1, 1, 3), jr.bind(void 0,
			1, 1, 0, 0, 0), jr.bind(void 0, 1, 1, 0, 0, 1), jr.bind(void 0, 1, 1, 0, 0, 2), jr.bind(void 0, 1, 1, 0, 0, 3), jr
		.bind(void 0, 1, 1, 0, 1, 0), jr.bind(void 0, 1, 1, 0, 1, 1), jr.bind(void 0, 1, 1, 0, 1, 2), jr.bind(void 0, 1, 1,
			0, 1, 3), jr.bind(void 0, 1, 1, 1, 0, 0), jr.bind(void 0, 1, 1, 1, 0, 1), jr.bind(void 0, 1, 1, 1, 0, 2), jr.bind(
			void 0, 1, 1, 1, 0, 3), jr.bind(void 0, 1, 1, 1, 1, 0), jr.bind(void 0, 1, 1, 1, 1, 1), jr.bind(void 0, 1, 1, 1, 1,
			2), jr.bind(void 0, 1, 1, 1, 1, 3)
	], Br.prototype.hasChar = function(e) {
		return null !== this.encoding.charToGlyphIndex(e)
	}, Br.prototype.charToGlyphIndex = function(e) {
		return this.encoding.charToGlyphIndex(e)
	}, Br.prototype.charToGlyph = function(e) {
		var t = this.charToGlyphIndex(e),
			n = this.glyphs.get(t);
		return n || (n = this.glyphs.get(0)), n
	}, Br.prototype.stringToGlyphs = function(e, t) {
		var n = this;
		t = t || this.defaultRenderOptions;
		for (var r = [], i = 0; i < e.length; i += 1) {
			var o = e[i];
			r.push(n.charToGlyphIndex(o))
		}
		var a = r.length;
		if (t.features) {
			var s = t.script || this.substitution.getDefaultScriptName(),
				l = [];
			t.features.liga && (l = l.concat(this.substitution.getFeature("liga", s, t.language))), t.features.rlig && (l = l.concat(
				this.substitution.getFeature("rlig", s, t.language)));
			for (var c = 0; a > c; c += 1)
				for (var u = 0; u < l.length; u++) {
					for (var h = l[u], f = h.sub, d = f.length, p = 0; d > p && f[p] === r[c + p];) p++;
					p === d && (r.splice(c, d, h.by), a = a - d + 1)
				}
		}
		for (var g = new Array(a), m = this.glyphs.get(0), v = 0; a > v; v += 1) g[v] = n.glyphs.get(r[v]) || m;
		return g
	}, Br.prototype.nameToGlyphIndex = function(e) {
		return this.glyphNames.nameToGlyphIndex(e)
	}, Br.prototype.nameToGlyph = function(e) {
		var t = this.nameToGlyphIndex(e),
			n = this.glyphs.get(t);
		return n || (n = this.glyphs.get(0)), n
	}, Br.prototype.glyphIndexToName = function(e) {
		return this.glyphNames.glyphIndexToName ? this.glyphNames.glyphIndexToName(e) : ""
	}, Br.prototype.getKerningValue = function(e, t) {
		e = e.index || e, t = t.index || t;
		var n = this.getGposKerningValue;
		return n ? n(e, t) : this.kerningPairs[e + "," + t] || 0
	}, Br.prototype.defaultRenderOptions = {
		kerning: !0,
		features: {
			liga: !0,
			rlig: !0
		}
	}, Br.prototype.forEachGlyph = function(e, t, n, r, i, o) {
		var a = this;
		t = void 0 !== t ? t : 0, n = void 0 !== n ? n : 0, r = void 0 !== r ? r : 72, i = i || this.defaultRenderOptions;
		for (var s = 1 / this.unitsPerEm * r, l = this.stringToGlyphs(e, i), c = 0; c < l.length; c += 1) {
			var u = l[c];
			if (o.call(a, u, t, n, r, i), u.advanceWidth && (t += u.advanceWidth * s), i.kerning && c < l.length - 1) {
				var h = a.getKerningValue(u, l[c + 1]);
				t += h * s
			}
			i.letterSpacing ? t += i.letterSpacing * r : i.tracking && (t += i.tracking / 1e3 * r)
		}
		return t
	}, Br.prototype.getPath = function(e, t, n, r, i) {
		var o = new g;
		return this.forEachGlyph(e, t, n, r, i, function(e, t, n, r) {
			var a = e.getPath(t, n, r, i, this);
			o.extend(a)
		}), o
	}, Br.prototype.getPaths = function(e, t, n, r, i) {
		var o = [];
		return this.forEachGlyph(e, t, n, r, i, function(e, t, n, r) {
			var a = e.getPath(t, n, r, i, this);
			o.push(a)
		}), o
	}, Br.prototype.getAdvanceWidth = function(e, t, n) {
		return this.forEachGlyph(e, 0, 0, t, n, function() {})
	}, Br.prototype.draw = function(e, t, n, r, i, o) {
		this.getPath(t, n, r, i, o).draw(e)
	}, Br.prototype.drawPoints = function(e, t, n, r, i, o) {
		this.forEachGlyph(t, n, r, i, o, function(t, n, r, i) {
			t.drawPoints(e, n, r, i)
		})
	}, Br.prototype.drawMetrics = function(e, t, n, r, i, o) {
		this.forEachGlyph(t, n, r, i, o, function(t, n, r, i) {
			t.drawMetrics(e, n, r, i)
		})
	}, Br.prototype.getEnglishName = function(e) {
		var t = this.names[e];
		return t ? t.en : void 0
	}, Br.prototype.validate = function() {
		function e(e, t) {
			e || n.push(t)
		}

		function t(t) {
			var n = r.getEnglishName(t);
			e(n && n.trim().length > 0, "No English " + t + " specified.")
		}
		var n = [],
			r = this;
		t("fontFamily"), t("weightName"), t("manufacturer"), t("copyright"), t("version"), e(this.unitsPerEm > 0,
			"No unitsPerEm specified.")
	}, Br.prototype.toTables = function() {
		return yo.fontToTable(this)
	}, Br.prototype.toBuffer = function() {
		return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."), this.toArrayBuffer()
	}, Br.prototype.toArrayBuffer = function() {
		for (var e = this.toTables(), t = e.encode(), n = new ArrayBuffer(t.length), r = new Uint8Array(n), i = 0; i < t.length; i++)
			r[i] = t[i];
		return n
	}, Br.prototype.download = function(e) {
		var t = this.getEnglishName("fontFamily"),
			n = this.getEnglishName("fontSubfamily");
		e = e || t.replace(/\s/g, "") + "-" + n + ".otf";
		var r = this.toArrayBuffer();
		if (Dt()) window.requestFileSystem = window.requestFileSystem || window.webkitRequestFileSystem, window.requestFileSystem(
			window.TEMPORARY, r.byteLength,
			function(t) {
				t.root.getFile(e, {
					create: !0
				}, function(e) {
					e.createWriter(function(t) {
						var n = new DataView(r),
							i = new Blob([n], {
								type: "font/opentype"
							});
						t.write(i), t.addEventListener("writeend", function() {
							location.href = e.toURL()
						}, !1)
					})
				})
			},
			function(e) {
				throw new Error(e.name + ": " + e.message)
			});
		else {
			var i = require("fs"),
				o = It(r);
			i.writeFileSync(e, o)
		}
	}, Br.prototype.fsSelectionValues = {
		ITALIC: 1,
		UNDERSCORE: 2,
		NEGATIVE: 4,
		OUTLINED: 8,
		STRIKEOUT: 16,
		BOLD: 32,
		REGULAR: 64,
		USER_TYPO_METRICS: 128,
		WWS: 256,
		OBLIQUE: 512
	}, Br.prototype.usWidthClasses = {
		ULTRA_CONDENSED: 1,
		EXTRA_CONDENSED: 2,
		CONDENSED: 3,
		SEMI_CONDENSED: 4,
		MEDIUM: 5,
		SEMI_EXPANDED: 6,
		EXPANDED: 7,
		EXTRA_EXPANDED: 8,
		ULTRA_EXPANDED: 9
	}, Br.prototype.usWeightClasses = {
		THIN: 100,
		EXTRA_LIGHT: 200,
		LIGHT: 300,
		NORMAL: 400,
		MEDIUM: 500,
		SEMI_BOLD: 600,
		BOLD: 700,
		EXTRA_BOLD: 800,
		BLACK: 900
	};
	var ko = {
			make: Wr,
			parse: Yr
		},
		Ro = {
			parse: Qr
		},
		Do = {
			parse: ti
		},
		Ao = {
			parse: ni
		};
	e.Font = Br, e.Glyph = se, e.Path = g, e.BoundingBox = p, e._parse = ji, e.parse = li, e.load = ci, e.loadSync = ui,
		Object.defineProperty(e, "__esModule", {
			value: !0
		})
}),
function() {
	var e, t, n, r, i, o, a, s, l, c, u, h, f, d, p, g, m, v, y, b, x, w, S, _, T, C, E, O, k, R = [].slice,
		D = [].indexOf || function(e) {
			for (var t = 0, n = this.length; n > t; t++)
				if (t in this && this[t] === e) return t;
			return -1
		};
	return null == window.Dropbox && (window.Dropbox = {}), null == Dropbox.baseUrl && (Dropbox.baseUrl =
			"https://www.dropbox.com"), null == Dropbox.blockBaseUrl && (Dropbox.blockBaseUrl = "https://dl.dropbox.com"),
		Dropbox.addListener = function(e, t, n) {
			e.addEventListener ? e.addEventListener(t, n, !1) : e.attachEvent("on" + t, function(e) {
				return e.preventDefault = function() {
					return this.returnValue = !1
				}, n(e)
			})
		}, Dropbox.removeListener = function(e, t, n) {
			e.removeEventListener ? e.removeEventListener(t, n, !1) : e.detachEvent("on" + t, n)
		}, i = function(e) {
			var t, n;
			return n = encodeURIComponent(Dropbox.VERSION), t = -1 === e.indexOf("?") ? "?" : "&", "" + e + t + "version=" + n
		}, a = function(e, t) {
			var n, r, o, a, s, l, c, u, h;
			return l = encodeURIComponent(window.location.protocol + "//" + window.location.host), n = encodeURIComponent(
					Dropbox.appKey), a = encodeURIComponent(e.linkType || ""), u = encodeURIComponent(e._trigger || "js"), s = Boolean(
					e.multiselect), r = encodeURIComponent((null != (c = e.extensions) && "function" == typeof c.join ? c.join(" ") :
					void 0) || ""), o = Boolean(e.folderselect), t = Boolean(t), h = Dropbox.baseUrl + "/chooser?origin=" + l +
				"&app_key=" + n + "&link_type=" + a, h += "&trigger=" + u + "&multiselect=" + s + "&extensions=" + r +
				"&folderselect=" + o + "&iframe=" + t, i(h)
		}, O = function() {
			var e, t, n;
			return t = encodeURIComponent(window.location.protocol + "//" + window.location.host), e = encodeURIComponent(
				Dropbox.appKey), n = Dropbox.baseUrl + "/saver?origin=" + t + "&app_key=" + e, i(n)
		}, x = 1, g = function(e, t) {
			var n, r, o, a;
			if (n = encodeURIComponent(Dropbox.appKey), a = Dropbox.baseUrl + "/dropins/job_status?job=" + t + "&app_key=" + n,
				a = i(a), o = function(t) {
					var n;
					"COMPLETE" === t.status ? ("function" == typeof e.progress && e.progress(1),
							"function" == typeof e.success && e.success()) : "PENDING" === (n = t.status) || "DOWNLOADING" === n ? (null !=
							t.progress && "function" == typeof e.progress && e.progress(t.progress / 100), setTimeout(r, 1500)) : "FAILED" ===
						t.status && "function" == typeof e.error && e.error(t.error)
				}, "withCredentials" in new XMLHttpRequest) r = function() {
				var t;
				return t = new XMLHttpRequest, t.onload = function() {
					return o(JSON.parse(t.responseText))
				}, t.onerror = function() {
					return "function" == typeof e.error ? e.error() : void 0
				}, t.open("GET", a, !0), t.send()
			};
			else if (Dropbox.disableJSONP) {
				if ("undefined" == typeof XDomainRequest || null === XDomainRequest || "https:" !== document.location.protocol)
					throw new Error("Unable to find suitable means of cross domain communication");
				r = function() {
					var t;
					return t = new XDomainRequest, t.onload = function() {
						return o(JSON.parse(t.responseText))
					}, t.onerror = function() {
						return "function" == typeof e.error ? e.error() : void 0
					}, t.open("get", a), t.send()
				}
			} else r = function() {
				var t, n, r;
				return t = "DropboxJsonpCallback" + x++, n = !1, window[t] = function(e) {
					return n = !0, o(e)
				}, r = document.createElement("script"), r.src = a + "&callback=" + t, r.onreadystatechange = function() {
					var t;
					return "loaded" === r.readyState ? (n || "function" == typeof e.error && e.error(), null != (t = r.parentNode) ?
						t.removeChild(r) : void 0) : void 0
				}, document.getElementsByTagName("head")[0].appendChild(r)
			};
			return "function" == typeof e.progress && e.progress(0), r()
		}, m = function(e, t, n) {
			var r, i, o, a, s, l;
			switch (i = JSON.parse(e.data), o = "undefined" != typeof v && null !== v && n._popup ? v.contentWindow : e.source,
				i.method) {
				case "origin_request":
					e.source.postMessage(JSON.stringify({
						method: "origin"
					}), Dropbox.baseUrl);
					break;
				case "ready":
					null != n.files && (n._fetch_url_on_save ? (l = function() {
						var e, t, r, i;
						for (r = n.files, i = [], e = 0, t = r.length; t > e; e++) a = r[e], i.push({
							filename: a.filename
						});
						return i
					}(), s = JSON.stringify({
						method: "files_with_callback",
						params: l
					})) : s = JSON.stringify({
						method: "files",
						params: n.files
					}), o.postMessage(s, Dropbox.baseUrl)), "function" == typeof n.ready && n.ready();
					break;
				case "files_selected":
				case "files_saved":
					"function" == typeof t && t(), "function" == typeof n.success && n.success(i.params);
					break;
				case "progress":
					"function" == typeof n.progress && n.progress(i.params);
					break;
				case "close_dialog":
					"function" == typeof t && t(), "function" == typeof n.cancel && n.cancel();
					break;
				case "web_session_error":
					"function" == typeof t && t(), "function" == typeof n.webSessionFailure && n.webSessionFailure();
					break;
				case "web_session_unlinked":
					"function" == typeof t && t(), "function" == typeof n.webSessionUnlinked && n.webSessionUnlinked();
					break;
				case "resize":
					"function" == typeof n.resize && n.resize(i.params);
					break;
				case "error":
					"function" == typeof t && t(), "function" == typeof n.error && n.error(i.params);
					break;
				case "job_id":
					"function" == typeof t && t(), g(n, i.params);
					break;
				case "save_callback":
					r = function(e) {
						if (null == e) throw new Error("Please supply {urls: [...]} to success callback");
						if (null != e.url && null != e.urls) throw new Error("Do not pass both url and urls to the save callback");
						if (null != e.url && (e.urls = [e.url]), null == e.urls) throw new Error(
							"Please supply {urls: [...]} to success callback");
						i = {
							method: "continue_saving",
							params: {
								download_urls: e.urls
							}
						}, o.postMessage(JSON.stringify(i), Dropbox.baseUrl)
					}, f(n, i.params, r);
					break;
				case "_debug_log":
					"undefined" != typeof console && null !== console && console.log(i.params.msg)
			}
		}, f = function(e, t, n) {
			var r;
			e._fetch_url_on_save && (r = e.fetch_urls_fn, "function" != typeof r && "function" == typeof e.error && e.error(
				"Something went wrong, file url callback not provided."), r(n, t))
		}, v = null, l = function() {
			/\bTrident\b/.test(navigator.userAgent) && null != document.body && null == v && (v = document.createElement(
				"iframe"), v.setAttribute("id", "dropbox_xcomm"), v.setAttribute("src", Dropbox.baseUrl +
				"/static/api/1/xcomm.html"), v.style.display = "none", document.body.appendChild(v))
		}, Dropbox.createChooserWidget = function(e) {
			var t;
			return t = c(a(e, !0)), t._handler = function(n) {
				n.source === t.contentWindow && n.origin === Dropbox.baseUrl && m(n, null, e)
			}, Dropbox.addListener(window, "message", t._handler), t
		}, Dropbox.cleanupWidget = function(e) {
			if (!e._handler) throw new Error("Invalid widget!");
			Dropbox.removeListener(window, "message", e._handler), delete e._handler
		}, T = function(e, t) {
			var n, r;
			return n = (window.screenX || window.screenLeft) + ((window.outerWidth || document.documentElement.offsetWidth) - e) /
				2, r = (window.screenY || window.screenTop) + ((window.outerHeight || document.documentElement.offsetHeight) - t) /
				2, "width=" + e + ",height=" + t + ",left=" + n + ",top=" + r
		}, Dropbox._dropinsjs_loaded ? void("undefined" != typeof console && null !== console && "function" == typeof console
			.warn && console.warn("dropins.js included more than once")) : (Dropbox._dropinsjs_loaded = !0, null == Dropbox.appKey &&
			(Dropbox.appKey = null != (C = document.getElementById("dropboxjs")) ? C.getAttribute("data-app-key") : void 0), r =
			function(e) {
				return e
			}, e = "https://www.dropbox.com/developers/dropins/chooser/js", n = ["text", "documents", "images", "video", "audio"],
			Dropbox.init = function(e) {
				null != e.translation_function && (r = e.translation_function), null != e.appKey && (Dropbox.appKey = e.appKey)
			}, c = function(e) {
				var t;
				return t = document.createElement("iframe"), t.src = e, t.style.display = "block", t.style.backgroundColor =
					"white", t.style.border = "none", t
			}, _ = function(e) {
				var t, n, r, i, o, a, s, l, c;
				if ("string" == typeof e[0]) c = e.shift(), n = "string" == typeof e[0] ? e.shift() : p(c), a = e.shift() || {}, a.files = [{
					url: c,
					filename: n
				}];
				else {
					if (a = e.shift(), null == a) throw new Error("Missing arguments. See documentation.");
					if ((null != (s = a.files) ? !s.length : !0) && "function" != typeof a.files) throw new Error(
						"Missing files. See documentation.");
					if (null != a.fetch_urls_fn) {
						if ("function" != typeof a.fetch_urls_fn) throw new Error(
							"fetch_urls_fn must be a function if supplied.  See documentation.");
						a._fetch_url_on_save = !0
					}
					for (l = a.files, r = i = 0, o = l.length; o > i; r = ++i) {
						if (t = l[r], "function" == typeof t.url && (a._fetch_url_on_save = !0, a.fetch_urls_fn = t.url, t.url = null, r >
								0)) throw new Error("Old style url as callback is only supported for single files.");
						t.filename || (t.filename = p(t.url))
					}
				}
				return a
			}, Dropbox.save = function() {
				var e, t, n, i, o, a, s;
				if (e = 1 <= arguments.length ? R.call(arguments, 0) : [], a = _(e), !Dropbox.isBrowserSupported()) return void alert(
					r("Your browser does not support the Dropbox Saver"));
				if (a._popup = !0, "object" != typeof a.files || !a.files.length) throw new Error(
					"The object passed in must have a 'files' property that contains a list of objects. See documentation.");
				for (s = a.files, i = 0, o = s.length; o > i; i++)
					if (n = s[i], a._fetch_url_on_save) {
						if (a.fetch_urls_fn) {
							if (null != n.url) throw new Error(
								"You passed in a 'fetch_urls_fn' option to specify the file URLs.  Don't include individual URLs in each file objects."
							)
						} else if ("function" != typeof n.url) throw new Error(
							"File urls should be all urls, or a single file with function. See documentation.")
					} else if ("string" != typeof n.url) throw new Error(
					"File urls to download incorrectly configured. Each file must have a url. See documentation.");
				return t = T(352, 237), S(O(), t, a)
			}, S = function(e, t, n) {
				var r, i, o, a, s;
				if (r = function() {
						a.closed || a.close(), Dropbox.removeListener(window, "message", i), clearInterval(s)
					}, i = function(e) {
						e.source !== a && e.source !== (null != v ? v.contentWindow : void 0) || m(e, r, n)
					}, o = function() {
						(function() {
							try {
								return a.closed
							} catch (e) {}
						})() && (r(), "function" == typeof n.cancel && n.cancel())
					}, a = window.open(e, "dropbox", t + ",resizable=yes,location=yes"), !a) throw new Error(
					"Failed to open a popup window. Dropbox.choose and Dropbox.save should only be called from within a user-triggered event handler such as a tap or click event."
				);
				return a.focus(), s = setInterval(o, 100), Dropbox.addListener(window, "message", i), a
			}, k = function(t) {
				var r, i, o, a, s;
				if (null == t.success && "undefined" != typeof console && null !== console && "function" == typeof console.warn &&
					console.warn("You must provide a success callback to the Chooser to see the files that the user selects"), i =
					function() {
						return "undefined" != typeof console && null !== console && "function" == typeof console.warn && console.warn(
								"The provided list of extensions or file types is not valid. See Chooser documentation: " + e), "undefined" !=
							typeof console && null !== console && "function" == typeof console.warn && console.warn(
								"Available file types are: " + n.join(", ")), delete t.extensions
					}, null != t.extensions && null != Array.isArray)
					if (Array.isArray(t.extensions))
						for (s = t.extensions, o = 0, a = s.length; a > o; o++) r = s[o], !r.match(/^\.[\.\w$#&+@!()\-'`_~]+$/) && D.call(
							n, r) < 0 && i();
					else i();
				return t
			}, o = function(e) {
				var t, n, i, o, s, l;
				return Dropbox.isBrowserSupported() ? (l = 640, i = 552, void(e.iframe ? (s = c(a(e, !0)), s.style.width = l + "px",
					s.style.height = i + "px", s.style.margin = "125px auto 0 auto", s.style.border = "1px solid #ACACAC", s.style.boxShadow =
					"rgba(0, 0, 0, .2) 0px 4px 16px", o = document.createElement("div"), o.style.position = "fixed", o.style.left =
					o.style.right = o.style.top = o.style.bottom = "0", o.style.zIndex = "1000", o.style.backgroundColor =
					"rgba(160, 160, 160, 0.2)", o.appendChild(s), document.body.appendChild(o), n = function(t) {
						t.source === s.contentWindow && m(t, function() {
							document.body.removeChild(o), Dropbox.removeListener(window, "message", n)
						}, e)
					}, Dropbox.addListener(window, "message", n)) : (t = T(l, i), S(a(e), t, e)))) : void alert(r(
					"Your browser does not support the Dropbox Chooser"))
			}, Dropbox.choose = function(e) {
				null == e && (e = {}), e = k(e), o(e)
			}, Dropbox.isBrowserSupported = function() {
				var e;
				return e = b(), Dropbox.isBrowserSupported = function() {
					return e
				}, e
			}, b = function() {
				var e, t, n, r;
				for (r = [/IEMobile\/(7|8|9|10)\./, /BB10;/, /CriOS/], t = 0, n = r.length; n > t; t++)
					if (e = r[t], e.test(navigator.userAgent)) return !1;
				return "undefined" != typeof JSON && null !== JSON && null != window.postMessage && null != window.addEventListener
			}, d = function(e) {
				return e.replace(/\/+$/g, "").split("/").pop()
			}, p = function(e) {
				var t;
				return t = document.createElement("a"), t.href = e, d(t.pathname)
			}, s = function(e, t) {
				var n;
				return null != t ? t.innerHTML = "" : (t = document.createElement("a"), t.href = "#"), t.className +=
					" dropbox-dropin-btn", Dropbox.isBrowserSupported() ? t.className += " dropbox-dropin-default" : t.className +=
					" dropbox-dropin-disabled", n = document.createElement("span"), n.className = "dropin-btn-status", t.appendChild(n),
					e = document.createTextNode(e), t.appendChild(e), t
			}, Dropbox.createChooseButton = function(e) {
				var t;
				return null == e && (e = {}), e = k(e), t = s(r("Choose from Dropbox")), Dropbox.addListener(t, "click", function(n) {
					n.preventDefault(), o({
						success: function(n) {
							t.className = "dropbox-dropin-btn dropbox-dropin-success", "function" == typeof e.success && e.success(n)
						},
						cancel: e.cancel,
						linkType: e.linkType,
						multiselect: e.multiselect,
						folderselect: e.folderselect,
						extensions: e.extensions,
						iframe: e.iframe,
						_trigger: "button"
					})
				}), t
			}, Dropbox.createSaveButton = function() {
				var e, t, n;
				return e = 1 <= arguments.length ? R.call(arguments, 0) : [], n = _(e), t = e.shift(), t = s(r("Save to Dropbox"),
					t), Dropbox.addListener(t, "click", function(e) {
					var r;
					return e.preventDefault(), t.className.indexOf("dropbox-dropin-error") >= 0 || t.className.indexOf(
						"dropbox-dropin-default") >= 0 || t.className.indexOf("dropbox-dropin-disabled") >= 0 ? (r = ("function" ==
						typeof n.files ? n.files() : void 0) || n.files, (null != r ? r.length : void 0) ? void Dropbox.save({
						files: r,
						success: function() {
							t.className = "dropbox-dropin-btn dropbox-dropin-success", "function" == typeof n.success && n.success()
						},
						progress: function(e) {
							t.className = "dropbox-dropin-btn dropbox-dropin-progress", "function" == typeof n.progress && n.progress(
								e)
						},
						cancel: function() {
							"function" == typeof n.cancel && n.cancel()
						},
						error: function(e) {
							t.className = "dropbox-dropin-btn dropbox-dropin-error", "function" == typeof n.error && n.error(e)
						}
					}) : (t.className = "dropbox-dropin-btn dropbox-dropin-error", void("function" == typeof n.error && n.error(
						"Missing files")))) : void 0
				}), t
			}, w = function(e, t) {
				return "background: " + e + ";\nbackground: -moz-linear-gradient(top, " + e + " 0%, " + t +
					" 100%);\nbackground: -webkit-linear-gradient(top, " + e + " 0%, " + t +
					" 100%);\nbackground: linear-gradient(to bottom, " + e + " 0%, " + t +
					" 100%);\nfilter: progid:DXImageTransform.Microsoft.gradient(startColorstr='" + e + "', endColorstr='" + t +
					"',GradientType=0);"
			}, u = document.createElement("style"), u.type = "text/css", h =
			'@-webkit-keyframes rotate {\n  from  { -webkit-transform: rotate(0deg); }\n  to   { -webkit-transform: rotate(360deg); }\n}\n\n@keyframes rotate {\n  from  { transform: rotate(0deg); }\n  to   { transform: rotate(360deg); }\n}\n\n.dropbox-dropin-btn, .dropbox-dropin-btn:link, .dropbox-dropin-btn:hover {\n  display: inline-block;\n  height: 14px;\n  font-family: "Lucida Grande", "Segoe UI", "Tahoma", "Helvetica Neue", "Helvetica", sans-serif;\n  font-size: 11px;\n  font-weight: 600;\n  color: #636363;\n  text-decoration: none;\n  padding: 1px 7px 5px 3px;\n  border: 1px solid #ebebeb;\n  border-radius: 2px;\n  border-bottom-color: #d4d4d4;\n  ' +
			w("#fcfcfc", "#f5f5f5") +
			"\n}\n\n.dropbox-dropin-default:hover, .dropbox-dropin-error:hover {\n  border-color: #dedede;\n  border-bottom-color: #cacaca;\n  " +
			w("#fdfdfd", "#f5f5f5") +
			"\n}\n\n.dropbox-dropin-default:active, .dropbox-dropin-error:active {\n  border-color: #d1d1d1;\n  box-shadow: inset 0 1px 1px rgba(0,0,0,0.1);\n}\n\n.dropbox-dropin-btn .dropin-btn-status {\n  display: inline-block;\n  width: 15px;\n  height: 14px;\n  vertical-align: bottom;\n  margin: 0 5px 0 2px;\n  background: transparent url('" +
			Dropbox.baseUrl +
			"/static/images/widgets/dbx-saver-status.png') no-repeat;\n  position: relative;\n  top: 2px;\n}\n\n.dropbox-dropin-default .dropin-btn-status {\n  background-position: 0px 0px;\n}\n\n.dropbox-dropin-progress .dropin-btn-status {\n  width: 18px;\n  margin: 0 4px 0 0;\n  background: url('" +
			Dropbox.baseUrl +
			"/static/images/widgets/dbx-progress.png') no-repeat center center;\n  -webkit-animation-name: rotate;\n  -webkit-animation-duration: 1.7s;\n  -webkit-animation-iteration-count: infinite;\n  -webkit-animation-timing-function: linear;\n  animation-name: rotate;\n  animation-duration: 1.7s;\n  animation-iteration-count: infinite;\n  animation-timing-function: linear;\n}\n\n.dropbox-dropin-success .dropin-btn-status {\n  background-position: -15px 0px;\n}\n\n.dropbox-dropin-disabled {\n  background: #e0e0e0;\n  border: 1px #dadada solid;\n  border-bottom: 1px solid #ccc;\n  box-shadow: none;\n}\n\n.dropbox-dropin-disabled .dropin-btn-status {\n  background-position: -30px 0px;\n}\n\n.dropbox-dropin-error .dropin-btn-status {\n  background-position: -45px 0px;\n}\n\n@media only screen and (-webkit-min-device-pixel-ratio: 1.4) {\n  .dropbox-dropin-btn .dropin-btn-status {\n    background-image: url('" +
			Dropbox.baseUrl +
			"/static/images/widgets/dbx-saver-status-2x.png');\n    background-size: 60px 14px;\n    -webkit-background-size: 60px 14px;\n  }\n\n  .dropbox-dropin-progress .dropin-btn-status {\n    background: url('" +
			Dropbox.baseUrl +
			"/static/images/widgets/dbx-progress-2x.png') no-repeat center center;\n    background-size: 20px 20px;\n    -webkit-background-size: 20px 20px;\n  }\n}\n\n.dropbox-saver:hover, .dropbox-chooser:hover {\n  text-decoration: none;\n  cursor: pointer;\n}\n\n.dropbox-chooser, .dropbox-dropin-btn {\n  line-height: 11px !important;\n  text-decoration: none !important;\n  box-sizing: content-box !important;\n  -webkit-box-sizing: content-box !important;\n  -moz-box-sizing: content-box !important;\n}\n",
			u.styleSheet ? u.styleSheet.cssText = h : u.textContent = h, document.getElementsByTagName("head")[0].appendChild(u),
			setTimeout(l, 0), t = function() {
				document.removeEventListener ? document.removeEventListener("DOMContentLoaded", t, !1) : document.detachEvent &&
					document.detachEvent("onreadystatechange", t), l(), y()
			}, "interactive" === (E = document.readyState) || "complete" === E ? setTimeout(t, 0) : document.addEventListener ?
			document.addEventListener("DOMContentLoaded", t, !1) : document.attachEvent("onreadystatechange", t), Dropbox.VERSION =
			"2", void(y = function() {
				var e, t, n, r;
				for (r = document.getElementsByTagName("a"), t = 0, n = r.length; n > t; t++) e = r[t], D.call((e.getAttribute(
					"class") || "").split(" "), "dropbox-saver") >= 0 && ! function(e) {
					Dropbox.createSaveButton({
						files: function() {
							return [{
								url: e.getAttribute("data-url") || e.href,
								filename: e.getAttribute("data-filename") || d(e.pathname)
							}]
						}
					}, e)
				}(e)
			}))
}.call(this), define("dropbox", function() {}),
	function(e, t) {
		"object" == typeof exports && "undefined" != typeof module ? module.exports = t() : "function" == typeof define &&
			define.amd ? define("react", t) : e.React = t()
	}(this, function() {
		function e(e) {
			for (var t = arguments.length - 1, n = "Minified React error #" + e +
					"; visit http://facebook.github.io/react/docs/error-decoder.html?invariant=" + e, r = 0; t > r; r++) n +=
				"&args[]=" + encodeURIComponent(arguments[r + 1]);
			throw t = Error(n +
					" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."),
				t.name = "Invariant Violation", t.framesToPop = 1, t
		}

		function t(e) {
			return function() {
				return e
			}
		}

		function n(e, t, n) {
			this.props = e, this.context = t, this.refs = E, this.updater = n || R
		}

		function r(e, t, n) {
			this.props = e, this.context = t, this.refs = E, this.updater = n || R
		}

		function i() {}

		function o(e, t, n) {
			this.props = e, this.context = t, this.refs = E, this.updater = n || R
		}

		function a(e, t, n) {
			var r, i = {},
				o = null,
				a = null;
			if (null != t)
				for (r in void 0 !== t.ref && (a = t.ref), void 0 !== t.key && (o = "" + t.key), t) A.call(t, r) && !I.hasOwnProperty(
					r) && (i[r] = t[r]);
			var s = arguments.length - 2;
			if (1 === s) i.children = n;
			else if (s > 1) {
				for (var l = Array(s), c = 0; s > c; c++) l[c] = arguments[c + 2];
				i.children = l
			}
			if (e && e.defaultProps)
				for (r in s = e.defaultProps) void 0 === i[r] && (i[r] = s[r]);
			return {
				$$typeof: w,
				type: e,
				key: o,
				ref: a,
				props: i,
				_owner: D.current
			}
		}

		function s(e) {
			return "object" == typeof e && null !== e && e.$$typeof === w
		}

		function l(e) {
			var t = {
				"=": "=0",
				":": "=2"
			};
			return "$" + ("" + e).replace(/[=:]/g, function(e) {
				return t[e]
			})
		}

		function c(e, t, n, r) {
			if (L.length) {
				var i = L.pop();
				return i.result = e, i.keyPrefix = t, i.func = n, i.context = r, i.count = 0, i
			}
			return {
				result: e,
				keyPrefix: t,
				func: n,
				context: r,
				count: 0
			}
		}

		function u(e) {
			e.result = null, e.keyPrefix = null, e.func = null, e.context = null, e.count = 0, 10 > L.length && L.push(e)
		}

		function h(t, n, r, i) {
			var o = typeof t;
			("undefined" === o || "boolean" === o) && (t = null);
			var a = !1;
			if (null === t) a = !0;
			else switch (o) {
				case "string":
				case "number":
					a = !0;
					break;
				case "object":
					switch (t.$$typeof) {
						case w:
						case S:
						case _:
						case T:
							a = !0
					}
			}
			if (a) return r(i, t, "" === n ? "." + f(t, 0) : n), 1;
			if (a = 0, n = "" === n ? "." : n + ":", Array.isArray(t))
				for (var s = 0; s < t.length; s++) {
					o = t[s];
					var l = n + f(o, s);
					a += h(o, l, r, i)
				} else if (null === t || "undefined" == typeof t ? l = null : (l = C && t[C] || t["@@iterator"], l = "function" ==
						typeof l ? l : null), "function" == typeof l)
					for (t = l.call(t), s = 0; !(o = t.next()).done;) o = o.value, l = n + f(o, s++), a += h(o, l, r, i);
				else "object" === o && (r = "" + t, e("31", "[object Object]" === r ? "object with keys {" + Object.keys(t).join(
					", ") + "}" : r, ""));
			return a
		}

		function f(e, t) {
			return "object" == typeof e && null !== e && null != e.key ? l(e.key) : t.toString(36)
		}

		function d(e, t, n) {
			e.func.call(e.context, t, e.count++)
		}

		function p(e, t, n) {
			var r = e.result,
				i = e.keyPrefix;
			e = e.func.call(e.context, t, e.count++), Array.isArray(e) ? g(e, r, n, k.thatReturnsArgument) : null != e && (s(e) &&
				(t = i + (!e.key || t && t.key === e.key ? "" : ("" + e.key).replace(M, "$&/") + "/") + n, e = {
					$$typeof: w,
					type: e.type,
					key: t,
					ref: e.ref,
					props: e.props,
					_owner: e._owner
				}), r.push(e))
		}

		function g(e, t, n, r, i) {
			var o = "";
			null != n && (o = ("" + n).replace(M, "$&/") + "/"), t = c(t, o, r, i), null == e || h(e, "", p, t), u(t)
		}
		var m = Object.getOwnPropertySymbols,
			v = Object.prototype.hasOwnProperty,
			y = Object.prototype.propertyIsEnumerable,
			b = function() {
				try {
					if (!Object.assign) return !1;
					var e = new String("abc");
					if (e[5] = "de", "5" === Object.getOwnPropertyNames(e)[0]) return !1;
					var t = {};
					for (e = 0; 10 > e; e++) t["_" + String.fromCharCode(e)] = e;
					if ("0123456789" !== Object.getOwnPropertyNames(t).map(function(e) {
							return t[e]
						}).join("")) return !1;
					var n = {};
					return "abcdefghijklmnopqrst".split("").forEach(function(e) {
						n[e] = e
					}), "abcdefghijklmnopqrst" !== Object.keys(Object.assign({}, n)).join("") ? !1 : !0
				} catch (r) {
					return !1
				}
			}() ? Object.assign : function(e, t) {
				if (null === e || void 0 === e) throw new TypeError("Object.assign cannot be called with null or undefined");
				for (var n, r = Object(e), i = 1; i < arguments.length; i++) {
					var o = Object(arguments[i]);
					for (var a in o) v.call(o, a) && (r[a] = o[a]);
					if (m) {
						n = m(o);
						for (var s = 0; s < n.length; s++) y.call(o, n[s]) && (r[n[s]] = o[n[s]])
					}
				}
				return r
			},
			x = "function" == typeof Symbol && Symbol["for"],
			w = x ? Symbol["for"]("react.element") : 60103,
			S = x ? Symbol["for"]("react.call") : 60104,
			_ = x ? Symbol["for"]("react.return") : 60105,
			T = x ? Symbol["for"]("react.portal") : 60106;
		x = x ? Symbol["for"]("react.fragment") : 60107;
		var C = "function" == typeof Symbol && Symbol.iterator,
			E = {},
			O = function() {};
		O.thatReturns = t, O.thatReturnsFalse = t(!1), O.thatReturnsTrue = t(!0), O.thatReturnsNull = t(null), O.thatReturnsThis =
			function() {
				return this
			}, O.thatReturnsArgument = function(e) {
				return e
			};
		var k = O,
			R = {
				isMounted: function(e) {
					return !1
				},
				enqueueForceUpdate: function(e, t, n) {},
				enqueueReplaceState: function(e, t, n, r) {},
				enqueueSetState: function(e, t, n, r) {}
			};
		n.prototype.isReactComponent = {}, n.prototype.setState = function(t, n) {
				"object" != typeof t && "function" != typeof t && null != t ? e("85") : void 0, this.updater.enqueueSetState(this,
					t, n, "setState")
			}, n.prototype.forceUpdate = function(e) {
				this.updater.enqueueForceUpdate(this, e, "forceUpdate")
			}, i.prototype = n.prototype, O = r.prototype = new i, O.constructor = r, b(O, n.prototype), O.isPureReactComponent = !
			0, O = o.prototype = new i, O.constructor = o, b(O, n.prototype), O.unstable_isAsyncReactComponent = !0, O.render =
			function() {
				return this.props.children
			};
		var D = {
				current: null
			},
			A = Object.prototype.hasOwnProperty,
			I = {
				key: !0,
				ref: !0,
				__self: !0,
				__source: !0
			},
			M = /\/+/g,
			L = [];
		return x = {
			Children: {
				map: function(e, t, n) {
					if (null == e) return e;
					var r = [];
					return g(e, r, null, t, n), r
				},
				forEach: function(e, t, n) {
					return null == e ? e : (t = c(null, null, t, n), null == e || h(e, "", d, t), void u(t))
				},
				count: function(e, t) {
					return null == e ? 0 : h(e, "", k.thatReturnsNull, null)
				},
				toArray: function(e) {
					var t = [];
					return g(e, t, null, k.thatReturnsArgument), t
				},
				only: function(t) {
					return s(t) ? void 0 : e("143"), t
				}
			},
			Component: n,
			PureComponent: r,
			unstable_AsyncComponent: o,
			Fragment: x,
			createElement: a,
			cloneElement: function(e, t, n) {
				var r = b({}, e.props),
					i = e.key,
					o = e.ref,
					a = e._owner;
				if (null != t) {
					if (void 0 !== t.ref && (o = t.ref, a = D.current), void 0 !== t.key && (i = "" + t.key), e.type && e.type.defaultProps)
						var s = e.type.defaultProps;
					for (l in t) A.call(t, l) && !I.hasOwnProperty(l) && (r[l] = void 0 === t[l] && void 0 !== s ? s[l] : t[l])
				}
				var l = arguments.length - 2;
				if (1 === l) r.children = n;
				else if (l > 1) {
					s = Array(l);
					for (var c = 0; l > c; c++) s[c] = arguments[c + 2];
					r.children = s
				}
				return {
					$$typeof: w,
					type: e.type,
					key: i,
					ref: o,
					props: r,
					_owner: a
				}
			},
			createFactory: function(e) {
				var t = a.bind(null, e);
				return t.type = e, t
			},
			isValidElement: s,
			version: "16.2.0",
			__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED: {
				ReactCurrentOwner: D,
				assign: b
			}
		}, x = (O = Object.freeze({
			"default": x
		})) && x || O, x["default"] ? x["default"] : x
	}),
	function(e, t) {
		"object" == typeof exports && "undefined" != typeof module ? module.exports = t(require("react")) : "function" ==
			typeof define && define.amd ? define("reactDOM", ["react"], t) : e.ReactDOM = t(e.React)
	}(this, function(e) {
		function t(e) {
			for (var t = arguments.length - 1, n = "Minified React error #" + e +
					"; visit http://facebook.github.io/react/docs/error-decoder.html?invariant=" + e, r = 0; t > r; r++) n +=
				"&args[]=" + encodeURIComponent(arguments[r + 1]);
			throw t = Error(n +
					" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."),
				t.name = "Invariant Violation", t.framesToPop = 1, t
		}

		function n(e, t) {
			return (e & t) === t
		}

		function r(e, t) {
			if (rn.hasOwnProperty(e) || 2 < e.length && ("o" === e[0] || "O" === e[0]) && ("n" === e[1] || "N" === e[1])) return !
				1;
			if (null === t) return !0;
			switch (typeof t) {
				case "boolean":
					return rn.hasOwnProperty(e) ? e = !0 : (t = i(e)) ? e = t.hasBooleanValue || t.hasStringBooleanValue || t.hasOverloadedBooleanValue :
						(e = e.toLowerCase().slice(0, 5), e = "data-" === e || "aria-" === e), e;
				case "undefined":
				case "number":
				case "string":
				case "object":
					return !0;
				default:
					return !1
			}
		}

		function i(e) {
			return an.hasOwnProperty(e) ? an[e] : null
		}

		function o() {
			if (Sn)
				for (var e in _n) {
					var n = _n[e],
						r = Sn.indexOf(e);
					if (r > -1 ? void 0 : t("96", e), !Tn[r]) {
						n.extractEvents ? void 0 : t("97", e), Tn[r] = n, r = n.eventTypes;
						for (var i in r) {
							var o = void 0,
								s = r[i],
								l = n,
								c = i;
							Cn.hasOwnProperty(c) ? t("99", c) : void 0, Cn[c] = s;
							var u = s.phasedRegistrationNames;
							if (u) {
								for (o in u) u.hasOwnProperty(o) && a(u[o], l, c);
								o = !0
							} else s.registrationName ? (a(s.registrationName, l, c), o = !0) : o = !1;
							o ? void 0 : t("98", i, e)
						}
					}
				}
		}

		function a(e, n, r) {
			En[e] ? t("100", e) : void 0, En[e] = n, On[e] = n.eventTypes[r].dependencies
		}

		function s(e) {
			Sn ? t("101") : void 0, Sn = Array.prototype.slice.call(e), o()
		}

		function l(e) {
			var n, r = !1;
			for (n in e)
				if (e.hasOwnProperty(n)) {
					var i = e[n];
					_n.hasOwnProperty(n) && _n[n] === i || (_n[n] ? t("102", n) : void 0, _n[n] = i, r = !0)
				} r && o()
		}

		function c(e) {
			return function() {
				return e
			}
		}

		function u(e, t, n, r) {
			t = e.type || "unknown-event", e.currentTarget = Mn(r), bn.invokeGuardedCallbackAndCatchFirstError(t, n, void 0, e),
				e.currentTarget = null
		}

		function h(e, n) {
			return null == n ? t("30") : void 0, null == e ? n : Array.isArray(e) ? Array.isArray(n) ? (e.push.apply(e, n), e) :
				(e.push(n), e) : Array.isArray(n) ? [e].concat(n) : [e, n]
		}

		function f(e, t, n) {
			Array.isArray(e) ? e.forEach(t, n) : e && t.call(n, e)
		}

		function d(e, n) {
			var r = e.stateNode;
			if (!r) return null;
			var i = An(r);
			if (!i) return null;
			r = i[n];
			e: switch (n) {
				case "onClick":
				case "onClickCapture":
				case "onDoubleClick":
				case "onDoubleClickCapture":
				case "onMouseDown":
				case "onMouseDownCapture":
				case "onMouseMove":
				case "onMouseMoveCapture":
				case "onMouseUp":
				case "onMouseUpCapture":
					(i = !i.disabled) || (e = e.type, i = !("button" === e || "input" === e || "select" === e || "textarea" === e)),
					e = !i;
					break e;
				default:
					e = !1
			}
			return e ? null : (r && "function" != typeof r ? t("231", n, typeof r) : void 0, r)
		}

		function p(e, t, n, r) {
			for (var i, o = 0; o < Tn.length; o++) {
				var a = Tn[o];
				a && (a = a.extractEvents(e, t, n, r)) && (i = h(i, a))
			}
			return i
		}

		function g(e) {
			e && (Ln = h(Ln, e))
		}

		function m(e) {
			var n = Ln;
			Ln = null, n && (e ? f(n, Fn) : f(n, Un), Ln ? t("95") : void 0, bn.rethrowCaughtError())
		}

		function v(e) {
			if (e[zn]) return e[zn];
			for (var t = []; !e[zn];) {
				if (t.push(e), !e.parentNode) return null;
				e = e.parentNode
			}
			var n = void 0,
				r = e[zn];
			if (5 === r.tag || 6 === r.tag) return r;
			for (; e && (r = e[zn]); e = t.pop()) n = r;
			return n
		}

		function y(e) {
			return 5 === e.tag || 6 === e.tag ? e.stateNode : void t("33")
		}

		function b(e) {
			return e[Hn] || null
		}

		function x(e) {
			do e = e["return"]; while (e && 5 !== e.tag);
			return e ? e : null
		}

		function w(e, t, n) {
			for (var r = []; e;) r.push(e), e = x(e);
			for (e = r.length; 0 < e--;) t(r[e], "captured", n);
			for (e = 0; e < r.length; e++) t(r[e], "bubbled", n)
		}

		function S(e, t, n) {
			(t = d(e, n.dispatchConfig.phasedRegistrationNames[t])) && (n._dispatchListeners = h(n._dispatchListeners, t), n._dispatchInstances =
				h(n._dispatchInstances, e))
		}

		function _(e) {
			e && e.dispatchConfig.phasedRegistrationNames && w(e._targetInst, S, e)
		}

		function T(e) {
			if (e && e.dispatchConfig.phasedRegistrationNames) {
				var t = e._targetInst;
				t = t ? x(t) : null, w(t, S, e)
			}
		}

		function C(e, t, n) {
			e && n && n.dispatchConfig.registrationName && (t = d(e, n.dispatchConfig.registrationName)) && (n._dispatchListeners =
				h(n._dispatchListeners, t), n._dispatchInstances = h(n._dispatchInstances, e))
		}

		function E(e) {
			e && e.dispatchConfig.registrationName && C(e._targetInst, null, e)
		}

		function O(e) {
			f(e, _)
		}

		function k(e, t, n, r) {
			if (n && r) e: {
				for (var i = n, o = r, a = 0, s = i; s; s = x(s)) a++;s = 0;
				for (var l = o; l; l = x(l)) s++;
				for (; a - s > 0;) i = x(i),
				a--;
				for (; s - a > 0;) o = x(o),
				s--;
				for (; a--;) {
					if (i === o || i === o.alternate) break e;
					i = x(i), o = x(o)
				}
				i = null
			}
			else i = null;
			for (o = i, i = []; n && n !== o && (a = n.alternate, null === a || a !== o);) i.push(n), n = x(n);
			for (n = []; r && r !== o && (a = r.alternate, null === a || a !== o);) n.push(r), r = x(r);
			for (r = 0; r < i.length; r++) C(i[r], "bubbled", e);
			for (e = n.length; 0 < e--;) C(n[e], "captured", t)
		}

		function R() {
			return !qn && Yn.canUseDOM && (qn = "textContent" in document.documentElement ? "textContent" : "innerText"), qn
		}

		function D() {
			if (Vn._fallbackText) return Vn._fallbackText;
			var e, t, n = Vn._startText,
				r = n.length,
				i = A(),
				o = i.length;
			for (e = 0; r > e && n[e] === i[e]; e++);
			var a = r - e;
			for (t = 1; a >= t && n[r - t] === i[o - t]; t++);
			return Vn._fallbackText = i.slice(e, t > 1 ? 1 - t : void 0), Vn._fallbackText
		}

		function A() {
			return "value" in Vn._root ? Vn._root.value : Vn._root[R()]
		}

		function I(e, t, n, r) {
			this.dispatchConfig = e, this._targetInst = t, this.nativeEvent = n, e = this.constructor.Interface;
			for (var i in e) e.hasOwnProperty(i) && ((t = e[i]) ? this[i] = t(n) : "target" === i ? this.target = r : this[i] =
				n[i]);
			return this.isDefaultPrevented = (null != n.defaultPrevented ? n.defaultPrevented : !1 === n.returnValue) ? Dn.thatReturnsTrue :
				Dn.thatReturnsFalse, this.isPropagationStopped = Dn.thatReturnsFalse, this
		}

		function M(e, t, n, r) {
			if (this.eventPool.length) {
				var i = this.eventPool.pop();
				return this.call(i, e, t, n, r), i
			}
			return new this(e, t, n, r)
		}

		function L(e) {
			e instanceof this ? void 0 : t("223"), e.destructor(), 10 > this.eventPool.length && this.eventPool.push(e)
		}

		function P(e) {
			e.eventPool = [], e.getPooled = M, e.release = L
		}

		function F(e, t, n, r) {
			return I.call(this, e, t, n, r)
		}

		function U(e, t, n, r) {
			return I.call(this, e, t, n, r)
		}

		function j() {
			var e = window.opera;
			return "object" == typeof e && "function" == typeof e.version && 12 >= parseInt(e.version(), 10)
		}

		function B(e, t) {
			switch (e) {
				case "topKeyUp":
					return -1 !== Qn.indexOf(t.keyCode);
				case "topKeyDown":
					return 229 !== t.keyCode;
				case "topKeyPress":
				case "topMouseDown":
				case "topBlur":
					return !0;
				default:
					return !1
			}
		}

		function N(e) {
			return e = e.detail, "object" == typeof e && "data" in e ? e.data : null
		}

		function z(e, t) {
			switch (e) {
				case "topCompositionEnd":
					return N(t);
				case "topKeyPress":
					return 32 !== t.which ? null : (ar = !0, ir);
				case "topTextInput":
					return e = t.data, e === ir && ar ? null : e;
				default:
					return null
			}
		}

		function H(e, t) {
			if (sr) return "topCompositionEnd" === e || !Jn && B(e, t) ? (e = D(), Vn._root = null, Vn._startText = null, Vn._fallbackText =
				null, sr = !1, e) : null;
			switch (e) {
				case "topPaste":
					return null;
				case "topKeyPress":
					if (!(t.ctrlKey || t.altKey || t.metaKey) || t.ctrlKey && t.altKey) {
						if (t["char"] && 1 < t["char"].length) return t["char"];
						if (t.which) return String.fromCharCode(t.which)
					}
					return null;
				case "topCompositionEnd":
					return rr ? null : t.data;
				default:
					return null
			}
		}

		function G(e) {
			if (e = In(e)) {
				cr && "function" == typeof cr.restoreControlledState ? void 0 : t("194");
				var n = An(e.stateNode);
				cr.restoreControlledState(e.stateNode, e.type, n)
			}
		}

		function X(e) {
			ur ? hr ? hr.push(e) : hr = [e] : ur = e
		}

		function W() {
			if (ur) {
				var e = ur,
					t = hr;
				if (hr = ur = null, G(e), t)
					for (e = 0; e < t.length; e++) G(t[e])
			}
		}

		function Y(e, t) {
			if (gr) return pr(e, t);
			gr = !0;
			try {
				return pr(e, t)
			} finally {
				gr = !1, W()
			}
		}

		function q(e) {
			var t = e && e.nodeName && e.nodeName.toLowerCase();
			return "input" === t ? !!mr[e.type] : "textarea" === t ? !0 : !1
		}

		function V(e) {
			return e = e.target || e.srcElement || window, e.correspondingUseElement && (e = e.correspondingUseElement), 3 ===
				e.nodeType ? e.parentNode : e
		}

		function K(e, t) {
			if (!Yn.canUseDOM || t && !("addEventListener" in document)) return !1;
			t = "on" + e;
			var n = t in document;
			return n || (n = document.createElement("div"), n.setAttribute(t, "return;"), n = "function" == typeof n[t]), !n &&
				tr && "wheel" === e && (n = document.implementation.hasFeature("Events.wheel", "3.0")), n
		}

		function $(e) {
			var t = e.type;
			return (e = e.nodeName) && "input" === e.toLowerCase() && ("checkbox" === t || "radio" === t)
		}

		function Z(e) {
			var t = $(e) ? "checked" : "value",
				n = Object.getOwnPropertyDescriptor(e.constructor.prototype, t),
				r = "" + e[t];
			return e.hasOwnProperty(t) || "function" != typeof n.get || "function" != typeof n.set ? void 0 : (Object.defineProperty(
				e, t, {
					enumerable: n.enumerable,
					configurable: !0,
					get: function() {
						return n.get.call(this)
					},
					set: function(e) {
						r = "" + e, n.set.call(this, e)
					}
				}), {
				getValue: function() {
					return r
				},
				setValue: function(e) {
					r = "" + e
				},
				stopTracking: function() {
					e._valueTracker = null, delete e[t]
				}
			})
		}

		function Q(e) {
			e._valueTracker || (e._valueTracker = Z(e))
		}

		function J(e) {
			if (!e) return !1;
			var t = e._valueTracker;
			if (!t) return !0;
			var n = t.getValue(),
				r = "";
			return e && (r = $(e) ? e.checked ? "true" : "false" : e.value), e = r, e !== n ? (t.setValue(e), !0) : !1
		}

		function ee(e, t, n) {
			return e = I.getPooled(vr.change, e, t, n), e.type = "change", X(n), O(e), e
		}

		function te(e) {
			g(e), m(!1)
		}

		function ne(e) {
			var t = y(e);
			return J(t) ? e : void 0
		}

		function re(e, t) {
			return "topChange" === e ? t : void 0
		}

		function ie() {
			yr && (yr.detachEvent("onpropertychange", oe), br = yr = null)
		}

		function oe(e) {
			"value" === e.propertyName && ne(br) && (e = ee(br, e, V(e)), Y(te, e))
		}

		function ae(e, t, n) {
			"topFocus" === e ? (ie(), yr = t, br = n, yr.attachEvent("onpropertychange", oe)) : "topBlur" === e && ie()
		}

		function se(e, t) {
			return "topSelectionChange" === e || "topKeyUp" === e || "topKeyDown" === e ? ne(br) : void 0
		}

		function le(e, t) {
			return "topClick" === e ? ne(t) : void 0
		}

		function ce(e, t) {
			return "topInput" === e || "topChange" === e ? ne(t) : void 0
		}

		function ue(e, t, n, r) {
			return I.call(this, e, t, n, r)
		}

		function he(e) {
			var t = this.nativeEvent;
			return t.getModifierState ? t.getModifierState(e) : (e = Sr[e]) ? !!t[e] : !1
		}

		function fe(e) {
			return he
		}

		function de(e, t, n, r) {
			return I.call(this, e, t, n, r)
		}

		function pe(e) {
			return e = e.type, "string" == typeof e ? e : "function" == typeof e ? e.displayName || e.name : null
		}

		function ge(e) {
			var t = e;
			if (e.alternate)
				for (; t["return"];) t = t["return"];
			else {
				if (0 !== (2 & t.effectTag)) return 1;
				for (; t["return"];)
					if (t = t["return"], 0 !== (2 & t.effectTag)) return 1
			}
			return 3 === t.tag ? 2 : 3
		}

		function me(e) {
			return (e = e._reactInternalFiber) ? 2 === ge(e) : !1
		}

		function ve(e) {
			2 !== ge(e) ? t("188") : void 0
		}

		function ye(e) {
			var n = e.alternate;
			if (!n) return n = ge(e), 3 === n ? t("188") : void 0, 1 === n ? null : e;
			for (var r = e, i = n;;) {
				var o = r["return"],
					a = o ? o.alternate : null;
				if (!o || !a) break;
				if (o.child === a.child) {
					for (var s = o.child; s;) {
						if (s === r) return ve(o), e;
						if (s === i) return ve(o), n;
						s = s.sibling
					}
					t("188")
				}
				if (r["return"] !== i["return"]) r = o, i = a;
				else {
					s = !1;
					for (var l = o.child; l;) {
						if (l === r) {
							s = !0, r = o, i = a;
							break
						}
						if (l === i) {
							s = !0, i = o, r = a;
							break
						}
						l = l.sibling
					}
					if (!s) {
						for (l = a.child; l;) {
							if (l === r) {
								s = !0, r = a, i = o;
								break
							}
							if (l === i) {
								s = !0, i = a, r = o;
								break
							}
							l = l.sibling
						}
						s ? void 0 : t("189")
					}
				}
				r.alternate !== i ? t("190") : void 0
			}
			return 3 !== r.tag ? t("188") : void 0, r.stateNode.current === r ? e : n
		}

		function be(e) {
			if (e = ye(e), !e) return null;
			for (var t = e;;) {
				if (5 === t.tag || 6 === t.tag) return t;
				if (t.child) t.child["return"] = t, t = t.child;
				else {
					if (t === e) break;
					for (; !t.sibling;) {
						if (!t["return"] || t["return"] === e) return null;
						t = t["return"]
					}
					t.sibling["return"] = t["return"], t = t.sibling
				}
			}
			return null
		}

		function xe(e) {
			if (e = ye(e), !e) return null;
			for (var t = e;;) {
				if (5 === t.tag || 6 === t.tag) return t;
				if (t.child && 4 !== t.tag) t.child["return"] = t, t = t.child;
				else {
					if (t === e) break;
					for (; !t.sibling;) {
						if (!t["return"] || t["return"] === e) return null;
						t = t["return"]
					}
					t.sibling["return"] = t["return"], t = t.sibling
				}
			}
			return null
		}

		function we(e) {
			var t = e.targetInst;
			do {
				if (!t) {
					e.ancestors.push(t);
					break
				}
				var n;
				for (n = t; n["return"];) n = n["return"];
				if (n = 3 !== n.tag ? null : n.stateNode.containerInfo, !n) break;
				e.ancestors.push(t), t = v(n)
			} while (t);
			for (n = 0; n < e.ancestors.length; n++) t = e.ancestors[n], Rr(e.topLevelType, t, e.nativeEvent, V(e.nativeEvent))
		}

		function Se(e) {
			kr = !!e
		}

		function _e(e, t, n) {
			return n ? Er.listen(n, t, Ce.bind(null, e)) : null
		}

		function Te(e, t, n) {
			return n ? Er.capture(n, t, Ce.bind(null, e)) : null
		}

		function Ce(e, t) {
			if (kr) {
				var n = V(t);
				if (n = v(n), null === n || "number" != typeof n.tag || 2 === ge(n) || (n = null), Or.length) {
					var r = Or.pop();
					r.topLevelType = e, r.nativeEvent = t, r.targetInst = n, e = r
				} else e = {
					topLevelType: e,
					nativeEvent: t,
					targetInst: n,
					ancestors: []
				};
				try {
					Y(we, e)
				} finally {
					e.topLevelType = null, e.nativeEvent = null, e.targetInst = null, e.ancestors.length = 0, 10 > Or.length && Or.push(
						e)
				}
			}
		}

		function Ee(e, t) {
			var n = {};
			return n[e.toLowerCase()] = t.toLowerCase(), n["Webkit" + e] = "webkit" + t, n["Moz" + e] = "moz" + t, n["ms" + e] =
				"MS" + t, n["O" + e] = "o" + t.toLowerCase(), n
		}

		function Oe(e) {
			if (Ir[e]) return Ir[e];
			if (!Ar[e]) return e;
			var t, n = Ar[e];
			for (t in n)
				if (n.hasOwnProperty(t) && t in Mr) return Ir[e] = n[t];
			return ""
		}

		function ke(e) {
			return Object.prototype.hasOwnProperty.call(e, Ur) || (e[Ur] = Fr++, Pr[e[Ur]] = {}), Pr[e[Ur]]
		}

		function Re(e, t) {
			return e === t ? 0 !== e || 0 !== t || 1 / e === 1 / t : e !== e && t !== t
		}

		function De(e, t) {
			return e && t ? e === t ? !0 : zr(e) ? !1 : zr(t) ? De(e, t.parentNode) : "contains" in e ? e.contains(t) : e.compareDocumentPosition ?
				!!(16 & e.compareDocumentPosition(t)) : !1 : !1
		}

		function Ae(e) {
			for (; e && e.firstChild;) e = e.firstChild;
			return e
		}

		function Ie(e, t) {
			var n = Ae(e);
			e = 0;
			for (var r; n;) {
				if (3 === n.nodeType) {
					if (r = e + n.textContent.length, t >= e && r >= t) return {
						node: n,
						offset: t - e
					};
					e = r
				}
				e: {
					for (; n;) {
						if (n.nextSibling) {
							n = n.nextSibling;
							break e
						}
						n = n.parentNode
					}
					n = void 0
				}
				n = Ae(n)
			}
		}

		function Me(e) {
			var t = e && e.nodeName && e.nodeName.toLowerCase();
			return t && ("input" === t && "text" === e.type || "textarea" === t || "true" === e.contentEditable)
		}

		function Le(e, t) {
			if (qr || null == Xr || Xr !== jr()) return null;
			var n = Xr;
			return "selectionStart" in n && Me(n) ? n = {
				start: n.selectionStart,
				end: n.selectionEnd
			} : window.getSelection ? (n = window.getSelection(), n = {
				anchorNode: n.anchorNode,
				anchorOffset: n.anchorOffset,
				focusNode: n.focusNode,
				focusOffset: n.focusOffset
			}) : n = void 0, Yr && Nr(Yr, n) ? null : (Yr = n, e = I.getPooled(Gr.select, Wr, e, t), e.type = "select", e.target =
				Xr, O(e), e)
		}

		function Pe(e, t, n, r) {
			return I.call(this, e, t, n, r)
		}

		function Fe(e, t, n, r) {
			return I.call(this, e, t, n, r)
		}

		function Ue(e, t, n, r) {
			return I.call(this, e, t, n, r)
		}

		function je(e) {
			var t = e.keyCode;
			return "charCode" in e ? (e = e.charCode, 0 === e && 13 === t && (e = 13)) : e = t, e >= 32 || 13 === e ? e : 0
		}

		function Be(e, t, n, r) {
			return I.call(this, e, t, n, r)
		}

		function Ne(e, t, n, r) {
			return I.call(this, e, t, n, r)
		}

		function ze(e, t, n, r) {
			return I.call(this, e, t, n, r)
		}

		function He(e, t, n, r) {
			return I.call(this, e, t, n, r)
		}

		function Ge(e, t, n, r) {
			return I.call(this, e, t, n, r)
		}

		function Xe(e, t) {
			0 > ni || (e.current = ti[ni], ti[ni] = null, ni--)
		}

		function We(e, t, n) {
			ni++, ti[ni] = e.current, e.current = t
		}

		function Ye(e) {
			return Ve(e) ? oi : ri.current
		}

		function qe(e, t) {
			var n = e.type.contextTypes;
			if (!n) return ei;
			var r = e.stateNode;
			if (r && r.__reactInternalMemoizedUnmaskedChildContext === t) return r.__reactInternalMemoizedMaskedChildContext;
			var i, o = {};
			for (i in n) o[i] = t[i];
			return r && (e = e.stateNode, e.__reactInternalMemoizedUnmaskedChildContext = t, e.__reactInternalMemoizedMaskedChildContext =
				o), o
		}

		function Ve(e) {
			return 2 === e.tag && null != e.type.childContextTypes
		}

		function Ke(e) {
			Ve(e) && (Xe(ii, e), Xe(ri, e))
		}

		function $e(e, n, r) {
			null != ri.cursor ? t("168") : void 0, We(ri, n, e), We(ii, r, e)
		}

		function Ze(e, n) {
			var r = e.stateNode,
				i = e.type.childContextTypes;
			if ("function" != typeof r.getChildContext) return n;
			r = r.getChildContext();
			for (var o in r) o in i ? void 0 : t("108", pe(e) || "Unknown", o);
			return Kn({}, n, r)
		}

		function Qe(e) {
			if (!Ve(e)) return !1;
			var t = e.stateNode;
			return t = t && t.__reactInternalMemoizedMergedChildContext || ei, oi = ri.current, We(ri, t, e), We(ii, ii.current,
				e), !0
		}

		function Je(e, n) {
			var r = e.stateNode;
			if (r ? void 0 : t("169"), n) {
				var i = Ze(e, oi);
				r.__reactInternalMemoizedMergedChildContext = i, Xe(ii, e), Xe(ri, e), We(ri, i, e)
			} else Xe(ii, e);
			We(ii, n, e)
		}

		function et(e, t, n) {
			this.tag = e, this.key = t, this.stateNode = this.type = null, this.sibling = this.child = this["return"] = null,
				this.index = 0, this.memoizedState = this.updateQueue = this.memoizedProps = this.pendingProps = this.ref = null,
				this.internalContextTag = n, this.effectTag = 0, this.lastEffect = this.firstEffect = this.nextEffect = null, this
				.expirationTime = 0, this.alternate = null
		}

		function tt(e, t, n) {
			var r = e.alternate;
			return null === r ? (r = new et(e.tag, e.key, e.internalContextTag), r.type = e.type, r.stateNode = e.stateNode, r.alternate =
					e, e.alternate = r) : (r.effectTag = 0, r.nextEffect = null, r.firstEffect = null, r.lastEffect = null), r.expirationTime =
				n, r.pendingProps = t, r.child = e.child, r.memoizedProps = e.memoizedProps, r.memoizedState = e.memoizedState, r.updateQueue =
				e.updateQueue, r.sibling = e.sibling, r.index = e.index, r.ref = e.ref, r
		}

		function nt(e, n, r) {
			var i = void 0,
				o = e.type,
				a = e.key;
			return "function" == typeof o ? (i = o.prototype && o.prototype.isReactComponent ? new et(2, a, n) : new et(0, a, n),
				i.type = o, i.pendingProps = e.props) : "string" == typeof o ? (i = new et(5, a, n), i.type = o, i.pendingProps =
				e.props) : "object" == typeof o && null !== o && "number" == typeof o.tag ? (i = o, i.pendingProps = e.props) : t(
				"130", null == o ? o : typeof o, ""), i.expirationTime = r, i
		}

		function rt(e, t, n, r) {
			return t = new et(10, r, t), t.pendingProps = e, t.expirationTime = n, t
		}

		function it(e, t, n) {
			return t = new et(6, null, t), t.pendingProps = e, t.expirationTime = n, t
		}

		function ot(e, t, n) {
			return t = new et(7, e.key, t), t.type = e.handler, t.pendingProps = e, t.expirationTime = n, t
		}

		function at(e, t, n) {
			return e = new et(9, null, t), e.expirationTime = n, e
		}

		function st(e, t, n) {
			return t = new et(4, e.key, t), t.pendingProps = e.children || [], t.expirationTime = n, t.stateNode = {
				containerInfo: e.containerInfo,
				pendingChildren: null,
				implementation: e.implementation
			}, t
		}

		function lt(e) {
			return function(t) {
				try {
					return e(t)
				} catch (n) {}
			}
		}

		function ct(e) {
			if ("undefined" == typeof __REACT_DEVTOOLS_GLOBAL_HOOK__) return !1;
			var t = __REACT_DEVTOOLS_GLOBAL_HOOK__;
			if (t.isDisabled || !t.supportsFiber) return !0;
			try {
				var n = t.inject(e);
				ai = lt(function(e) {
					return t.onCommitFiberRoot(n, e)
				}), si = lt(function(e) {
					return t.onCommitFiberUnmount(n, e)
				})
			} catch (r) {}
			return !0
		}

		function ut(e) {
			"function" == typeof ai && ai(e)
		}

		function ht(e) {
			"function" == typeof si && si(e)
		}

		function ft(e) {
			return {
				baseState: e,
				expirationTime: 0,
				first: null,
				last: null,
				callbackList: null,
				hasForceUpdate: !1,
				isInitialized: !1
			}
		}

		function dt(e, t) {
			null === e.last ? e.first = e.last = t : (e.last.next = t, e.last = t), (0 === e.expirationTime || e.expirationTime >
				t.expirationTime) && (e.expirationTime = t.expirationTime)
		}

		function pt(e, t) {
			var n = e.alternate,
				r = e.updateQueue;
			null === r && (r = e.updateQueue = ft(null)), null !== n ? (e = n.updateQueue, null === e && (e = n.updateQueue =
				ft(null))) : e = null, e = e !== r ? e : null, null === e ? dt(r, t) : null === r.last || null === e.last ? (dt(r,
				t), dt(e, t)) : (dt(r, t), e.last = t)
		}

		function gt(e, t, n, r) {
			return e = e.partialState, "function" == typeof e ? e.call(t, n, r) : e
		}

		function mt(e, t, n, r, i, o) {
			null !== e && e.updateQueue === n && (n = t.updateQueue = {
				baseState: n.baseState,
				expirationTime: n.expirationTime,
				first: n.first,
				last: n.last,
				isInitialized: n.isInitialized,
				callbackList: null,
				hasForceUpdate: !1
			}), n.expirationTime = 0, n.isInitialized ? e = n.baseState : (e = n.baseState = t.memoizedState, n.isInitialized = !
				0);
			for (var a = !0, s = n.first, l = !1; null !== s;) {
				var c = s.expirationTime;
				if (c > o) {
					var u = n.expirationTime;
					(0 === u || u > c) && (n.expirationTime = c), l || (l = !0, n.baseState = e)
				} else l || (n.first = s.next, null === n.first && (n.last = null)), s.isReplace ? (e = gt(s, r, e, i), a = !0) :
					(c = gt(s, r, e, i)) && (e = a ? Kn({}, e, c) : Kn(e, c), a = !1), s.isForced && (n.hasForceUpdate = !0), null !==
					s.callback && (c = n.callbackList, null === c && (c = n.callbackList = []), c.push(s));
				s = s.next
			}
			return null !== n.callbackList ? t.effectTag |= 32 : null !== n.first || n.hasForceUpdate || (t.updateQueue = null),
				l || (n.baseState = e), e
		}

		function vt(e, n) {
			var r = e.callbackList;
			if (null !== r)
				for (e.callbackList = null, e = 0; e < r.length; e++) {
					var i = r[e],
						o = i.callback;
					i.callback = null, "function" != typeof o ? t("191", o) : void 0, o.call(n)
				}
		}

		function yt(e) {
			return null === e || "undefined" == typeof e ? null : (e = gi && e[gi] || e["@@iterator"], "function" == typeof e ?
				e : null)
		}

		function bt(e, n) {
			var r = n.ref;
			if (null !== r && "function" != typeof r) {
				if (n._owner) {
					n = n._owner;
					var i = void 0;
					n && (2 !== n.tag ? t("110") : void 0, i = n.stateNode), i ? void 0 : t("147", r);
					var o = "" + r;
					return null !== e && null !== e.ref && e.ref._stringRef === o ? e.ref : (e = function(e) {
						var t = i.refs === ei ? i.refs = {} : i.refs;
						null === e ? delete t[o] : t[o] = e
					}, e._stringRef = o, e)
				}
				"string" != typeof r ? t("148") : void 0, n._owner ? void 0 : t("149", r)
			}
			return r
		}

		function xt(e, n) {
			"textarea" !== e.type && t("31", "[object Object]" === Object.prototype.toString.call(n) ? "object with keys {" +
				Object.keys(n).join(", ") + "}" : n, "")
		}

		function wt(e) {
			function n(t, n) {
				if (e) {
					var r = t.lastEffect;
					null !== r ? (r.nextEffect = n, t.lastEffect = n) : t.firstEffect = t.lastEffect = n, n.nextEffect = null, n.effectTag =
						8
				}
			}

			function r(t, r) {
				if (!e) return null;
				for (; null !== r;) n(t, r), r = r.sibling;
				return null
			}

			function i(e, t) {
				for (e = new Map; null !== t;) null !== t.key ? e.set(t.key, t) : e.set(t.index, t), t = t.sibling;
				return e
			}

			function o(e, t, n) {
				return e = tt(e, t, n), e.index = 0, e.sibling = null, e
			}

			function a(t, n, r) {
				return t.index = r, e ? (r = t.alternate, null !== r ? (r = r.index, n > r ? (t.effectTag = 2, n) : r) : (t.effectTag =
					2, n)) : n
			}

			function s(t) {
				return e && null === t.alternate && (t.effectTag = 2), t
			}

			function l(e, t, n, r) {
				return null === t || 6 !== t.tag ? (t = it(n, e.internalContextTag, r), t["return"] = e, t) : (t = o(t, n, r), t[
					"return"] = e, t)
			}

			function c(e, t, n, r) {
				return null !== t && t.type === n.type ? (r = o(t, n.props, r), r.ref = bt(t, n), r["return"] = e, r) : (r = nt(n,
					e.internalContextTag, r), r.ref = bt(t, n), r["return"] = e, r)
			}

			function u(e, t, n, r) {
				return null === t || 7 !== t.tag ? (t = ot(n, e.internalContextTag, r), t["return"] = e, t) : (t = o(t, n, r), t[
					"return"] = e, t)
			}

			function h(e, t, n, r) {
				return null === t || 9 !== t.tag ? (t = at(n, e.internalContextTag, r), t.type = n.value, t["return"] = e, t) : (t =
					o(t, null, r), t.type = n.value, t["return"] = e, t)
			}

			function f(e, t, n, r) {
				return null === t || 4 !== t.tag || t.stateNode.containerInfo !== n.containerInfo || t.stateNode.implementation !==
					n.implementation ? (t = st(n, e.internalContextTag, r), t["return"] = e, t) : (t = o(t, n.children || [], r), t[
						"return"] = e, t)
			}

			function d(e, t, n, r, i) {
				return null === t || 10 !== t.tag ? (t = rt(n, e.internalContextTag, r, i), t["return"] = e, t) : (t = o(t, n, r),
					t["return"] = e, t)
			}

			function p(e, t, n) {
				if ("string" == typeof t || "number" == typeof t) return t = it("" + t, e.internalContextTag, n), t["return"] = e,
					t;
				if ("object" == typeof t && null !== t) {
					switch (t.$$typeof) {
						case ui:
							return t.type === pi ? (t = rt(t.props.children, e.internalContextTag, n, t.key), t["return"] = e, t) : (n = nt(
								t, e.internalContextTag, n), n.ref = bt(null, t), n["return"] = e, n);
						case hi:
							return t = ot(t, e.internalContextTag, n), t["return"] = e, t;
						case fi:
							return n = at(t, e.internalContextTag, n), n.type = t.value, n["return"] = e, n;
						case di:
							return t = st(t, e.internalContextTag, n), t["return"] = e, t
					}
					if (mi(t) || yt(t)) return t = rt(t, e.internalContextTag, n, null), t["return"] = e, t;
					xt(e, t)
				}
				return null
			}

			function g(e, t, n, r) {
				var i = null !== t ? t.key : null;
				if ("string" == typeof n || "number" == typeof n) return null !== i ? null : l(e, t, "" + n, r);
				if ("object" == typeof n && null !== n) {
					switch (n.$$typeof) {
						case ui:
							return n.key === i ? n.type === pi ? d(e, t, n.props.children, r, i) : c(e, t, n, r) : null;
						case hi:
							return n.key === i ? u(e, t, n, r) : null;
						case fi:
							return null === i ? h(e, t, n, r) : null;
						case di:
							return n.key === i ? f(e, t, n, r) : null
					}
					if (mi(n) || yt(n)) return null !== i ? null : d(e, t, n, r, null);
					xt(e, n)
				}
				return null
			}

			function m(e, t, n, r, i) {
				if ("string" == typeof r || "number" == typeof r) return e = e.get(n) || null, l(t, e, "" + r, i);
				if ("object" == typeof r && null !== r) {
					switch (r.$$typeof) {
						case ui:
							return e = e.get(null === r.key ? n : r.key) || null, r.type === pi ? d(t, e, r.props.children, i, r.key) : c(t,
								e, r, i);
						case hi:
							return e = e.get(null === r.key ? n : r.key) || null, u(t, e, r, i);
						case fi:
							return e = e.get(n) || null, h(t, e, r, i);
						case di:
							return e = e.get(null === r.key ? n : r.key) || null, f(t, e, r, i)
					}
					if (mi(r) || yt(r)) return e = e.get(n) || null, d(t, e, r, i, null);
					xt(t, r)
				}
				return null
			}

			function v(t, o, s, l) {
				for (var c = null, u = null, h = o, f = o = 0, d = null; null !== h && f < s.length; f++) {
					h.index > f ? (d = h, h = null) : d = h.sibling;
					var v = g(t, h, s[f], l);
					if (null === v) {
						null === h && (h = d);
						break
					}
					e && h && null === v.alternate && n(t, h), o = a(v, o, f), null === u ? c = v : u.sibling = v, u = v, h = d
				}
				if (f === s.length) return r(t, h), c;
				if (null === h) {
					for (; f < s.length; f++)(h = p(t, s[f], l)) && (o = a(h, o, f), null === u ? c = h : u.sibling = h, u = h);
					return c
				}
				for (h = i(t, h); f < s.length; f++)(d = m(h, t, f, s[f], l)) && (e && null !== d.alternate && h["delete"](null ===
					d.key ? f : d.key), o = a(d, o, f), null === u ? c = d : u.sibling = d, u = d);
				return e && h.forEach(function(e) {
					return n(t, e)
				}), c
			}

			function y(o, s, l, c) {
				var u = yt(l);
				"function" != typeof u ? t("150") : void 0, l = u.call(l), null == l ? t("151") : void 0;
				for (var h = u = null, f = s, d = s = 0, v = null, y = l.next(); null !== f && !y.done; d++, y = l.next()) {
					f.index > d ? (v = f, f = null) : v = f.sibling;
					var b = g(o, f, y.value, c);
					if (null === b) {
						f || (f = v);
						break
					}
					e && f && null === b.alternate && n(o, f), s = a(b, s, d), null === h ? u = b : h.sibling = b, h = b, f = v
				}
				if (y.done) return r(o, f), u;
				if (null === f) {
					for (; !y.done; d++, y = l.next()) y = p(o, y.value, c), null !== y && (s = a(y, s, d), null === h ? u = y : h.sibling =
						y, h = y);
					return u
				}
				for (f = i(o, f); !y.done; d++, y = l.next()) y = m(f, o, d, y.value, c), null !== y && (e && null !== y.alternate &&
					f["delete"](null === y.key ? d : y.key), s = a(y, s, d), null === h ? u = y : h.sibling = y, h = y);
				return e && f.forEach(function(e) {
					return n(o, e)
				}), u
			}
			return function(e, i, a, l) {
				"object" == typeof a && null !== a && a.type === pi && null === a.key && (a = a.props.children);
				var c = "object" == typeof a && null !== a;
				if (c) switch (a.$$typeof) {
					case ui:
						e: {
							var u = a.key;
							for (c = i; null !== c;) {
								if (c.key === u) {
									if (10 === c.tag ? a.type === pi : c.type === a.type) {
										r(e, c.sibling), i = o(c, a.type === pi ? a.props.children : a.props, l), i.ref = bt(c, a), i["return"] =
											e, e = i;
										break e
									}
									r(e, c);
									break
								}
								n(e, c), c = c.sibling
							}
							a.type === pi ? (i = rt(a.props.children, e.internalContextTag, l, a.key), i["return"] = e, e = i) : (l = nt(
								a, e.internalContextTag, l), l.ref = bt(i, a), l["return"] = e, e = l)
						}
						return s(e);
					case hi:
						e: {
							for (c = a.key; null !== i;) {
								if (i.key === c) {
									if (7 === i.tag) {
										r(e, i.sibling), i = o(i, a, l), i["return"] = e, e = i;
										break e
									}
									r(e, i);
									break
								}
								n(e, i), i = i.sibling
							}
							i = ot(a, e.internalContextTag, l),
							i["return"] = e,
							e = i
						}
						return s(e);
					case fi:
						e: {
							if (null !== i) {
								if (9 === i.tag) {
									r(e, i.sibling), i = o(i, null, l), i.type = a.value, i["return"] = e, e = i;
									break e
								}
								r(e, i)
							}
							i = at(a, e.internalContextTag, l),
							i.type = a.value,
							i["return"] = e,
							e = i
						}
						return s(e);
					case di:
						e: {
							for (c = a.key; null !== i;) {
								if (i.key === c) {
									if (4 === i.tag && i.stateNode.containerInfo === a.containerInfo && i.stateNode.implementation === a.implementation) {
										r(e, i.sibling), i = o(i, a.children || [], l), i["return"] = e, e = i;
										break e
									}
									r(e, i);
									break
								}
								n(e, i), i = i.sibling
							}
							i = st(a, e.internalContextTag, l),
							i["return"] = e,
							e = i
						}
						return s(e)
				}
				if ("string" == typeof a || "number" == typeof a) return a = "" + a, null !== i && 6 === i.tag ? (r(e, i.sibling),
					i = o(i, a, l)) : (r(e, i), i = it(a, e.internalContextTag, l)), i["return"] = e, e = i, s(e);
				if (mi(a)) return v(e, i, a, l);
				if (yt(a)) return y(e, i, a, l);
				if (c && xt(e, a), "undefined" == typeof a) switch (e.tag) {
					case 2:
					case 1:
						l = e.type, t("152", l.displayName || l.name || "Component")
				}
				return r(e, i)
			}
		}

		function St(e, t, n) {
			var r = 3 < arguments.length && void 0 !== arguments[3] ? arguments[3] : null;
			return {
				$$typeof: di,
				key: null == r ? null : "" + r,
				children: e,
				containerInfo: t,
				implementation: n
			}
		}

		function _t(e) {
			return Yi.hasOwnProperty(e) ? !0 : Wi.hasOwnProperty(e) ? !1 : Xi.test(e) ? Yi[e] = !0 : (Wi[e] = !0, !1)
		}

		function Tt(e, t, n) {
			var o = i(t);
			if (o && r(t, n)) {
				var a = o.mutationMethod;
				a ? a(e, n) : null == n || o.hasBooleanValue && !n || o.hasNumericValue && isNaN(n) || o.hasPositiveNumericValue &&
					1 > n || o.hasOverloadedBooleanValue && !1 === n ? Et(e, t) : o.mustUseProperty ? e[o.propertyName] = n : (t = o.attributeName,
						(a = o.attributeNamespace) ? e.setAttributeNS(a, t, "" + n) : o.hasBooleanValue || o.hasOverloadedBooleanValue &&
						!0 === n ? e.setAttribute(t, "") : e.setAttribute(t, "" + n))
			} else Ct(e, t, r(t, n) ? n : null)
		}

		function Ct(e, t, n) {
			_t(t) && (null == n ? e.removeAttribute(t) : e.setAttribute(t, "" + n))
		}

		function Et(e, t) {
			var n = i(t);
			n ? (t = n.mutationMethod) ? t(e, void 0) : n.mustUseProperty ? e[n.propertyName] = n.hasBooleanValue ? !1 : "" : e
				.removeAttribute(n.attributeName) : e.removeAttribute(t)
		}

		function Ot(e, t) {
			var n = t.value,
				r = t.checked;
			return Kn({
				type: void 0,
				step: void 0,
				min: void 0,
				max: void 0
			}, t, {
				defaultChecked: void 0,
				defaultValue: void 0,
				value: null != n ? n : e._wrapperState.initialValue,
				checked: null != r ? r : e._wrapperState.initialChecked
			})
		}

		function kt(e, t) {
			var n = t.defaultValue;
			e._wrapperState = {
				initialChecked: null != t.checked ? t.checked : t.defaultChecked,
				initialValue: null != t.value ? t.value : n,
				controlled: "checkbox" === t.type || "radio" === t.type ? null != t.checked : null != t.value
			}
		}

		function Rt(e, t) {
			t = t.checked, null != t && Tt(e, "checked", t)
		}

		function Dt(e, t) {
			Rt(e, t);
			var n = t.value;
			null != n ? 0 === n && "" === e.value ? e.value = "0" : "number" === t.type ? (t = parseFloat(e.value) || 0, (n !=
				t || n == t && e.value != n) && (e.value = "" + n)) : e.value !== "" + n && (e.value = "" + n) : (null == t.value &&
				null != t.defaultValue && e.defaultValue !== "" + t.defaultValue && (e.defaultValue = "" + t.defaultValue), null ==
				t.checked && null != t.defaultChecked && (e.defaultChecked = !!t.defaultChecked))
		}

		function At(e, t) {
			switch (t.type) {
				case "submit":
				case "reset":
					break;
				case "color":
				case "date":
				case "datetime":
				case "datetime-local":
				case "month":
				case "time":
				case "week":
					e.value = "", e.value = e.defaultValue;
					break;
				default:
					e.value = e.value
			}
			t = e.name, "" !== t && (e.name = ""), e.defaultChecked = !e.defaultChecked, e.defaultChecked = !e.defaultChecked,
				"" !== t && (e.name = t)
		}

		function It(t) {
			var n = "";
			return e.Children.forEach(t, function(e) {
				null == e || "string" != typeof e && "number" != typeof e || (n += e)
			}), n
		}

		function Mt(e, t) {
			return e = Kn({
				children: void 0
			}, t), (t = It(t.children)) && (e.children = t), e
		}

		function Lt(e, t, n, r) {
			if (e = e.options, t) {
				t = {};
				for (var i = 0; i < n.length; i++) t["$" + n[i]] = !0;
				for (n = 0; n < e.length; n++) i = t.hasOwnProperty("$" + e[n].value), e[n].selected !== i && (e[n].selected = i),
					i && r && (e[n].defaultSelected = !0)
			} else {
				for (n = "" + n, t = null, i = 0; i < e.length; i++) {
					if (e[i].value === n) return e[i].selected = !0, void(r && (e[i].defaultSelected = !0));
					null !== t || e[i].disabled || (t = e[i])
				}
				null !== t && (t.selected = !0)
			}
		}

		function Pt(e, t) {
			var n = t.value;
			e._wrapperState = {
				initialValue: null != n ? n : t.defaultValue,
				wasMultiple: !!t.multiple
			}
		}

		function Ft(e, n) {
			return null != n.dangerouslySetInnerHTML ? t("91") : void 0, Kn({}, n, {
				value: void 0,
				defaultValue: void 0,
				children: "" + e._wrapperState.initialValue
			})
		}

		function Ut(e, n) {
			var r = n.value;
			null == r && (r = n.defaultValue, n = n.children, null != n && (null != r ? t("92") : void 0, Array.isArray(n) && (
				1 >= n.length ? void 0 : t("93"), n = n[0]), r = "" + n), null == r && (r = "")), e._wrapperState = {
				initialValue: "" + r
			}
		}

		function jt(e, t) {
			var n = t.value;
			null != n && (n = "" + n, n !== e.value && (e.value = n), null == t.defaultValue && (e.defaultValue = n)), null !=
				t.defaultValue && (e.defaultValue = t.defaultValue)
		}

		function Bt(e) {
			switch (e) {
				case "svg":
					return "http://www.w3.org/2000/svg";
				case "math":
					return "http://www.w3.org/1998/Math/MathML";
				default:
					return "http://www.w3.org/1999/xhtml"
			}
		}

		function Nt(e, t) {
			return null == e || "http://www.w3.org/1999/xhtml" === e ? Bt(t) : "http://www.w3.org/2000/svg" === e &&
				"foreignObject" === t ? "http://www.w3.org/1999/xhtml" : e
		}

		function zt(e, t, n) {
			e = e.style;
			for (var r in t)
				if (t.hasOwnProperty(r)) {
					n = 0 === r.indexOf("--");
					var i = r,
						o = t[r];
					i = null == o || "boolean" == typeof o || "" === o ? "" : n || "number" != typeof o || 0 === o || $i.hasOwnProperty(
						i) && $i[i] ? ("" + o).trim() : o + "px", "float" === r && (r = "cssFloat"), n ? e.setProperty(r, i) : e[r] = i
				}
		}

		function Ht(e, n, r) {
			n && (Qi[e] && (null != n.children || null != n.dangerouslySetInnerHTML ? t("137", e, r()) : void 0), null != n.dangerouslySetInnerHTML &&
				(null != n.children ? t("60") : void 0, "object" == typeof n.dangerouslySetInnerHTML && "__html" in n.dangerouslySetInnerHTML ?
					void 0 : t("61")), null != n.style && "object" != typeof n.style ? t("62", r()) : void 0)
		}

		function Gt(e, t) {
			if (-1 === e.indexOf("-")) return "string" == typeof t.is;
			switch (e) {
				case "annotation-xml":
				case "color-profile":
				case "font-face":
				case "font-face-src":
				case "font-face-uri":
				case "font-face-format":
				case "font-face-name":
				case "missing-glyph":
					return !1;
				default:
					return !0
			}
		}

		function Xt(e, t) {
			e = 9 === e.nodeType || 11 === e.nodeType ? e : e.ownerDocument;
			var n = ke(e);
			t = On[t];
			for (var r = 0; r < t.length; r++) {
				var i = t[r];
				n.hasOwnProperty(i) && n[i] || ("topScroll" === i ? Te("topScroll", "scroll", e) : "topFocus" === i || "topBlur" ===
					i ? (Te("topFocus", "focus", e), Te("topBlur", "blur", e), n.topBlur = !0, n.topFocus = !0) : "topCancel" === i ?
					(K("cancel", !0) && Te("topCancel", "cancel", e), n.topCancel = !0) : "topClose" === i ? (K("close", !0) && Te(
						"topClose", "close", e), n.topClose = !0) : Lr.hasOwnProperty(i) && _e(i, Lr[i], e), n[i] = !0)
			}
		}

		function Wt(e, t, n, r) {
			return n = 9 === n.nodeType ? n : n.ownerDocument, "http://www.w3.org/1999/xhtml" === r && (r = Bt(e)),
				"http://www.w3.org/1999/xhtml" === r ? "script" === e ? (e = n.createElement("div"), e.innerHTML =
					"<script></script>", e = e.removeChild(e.firstChild)) : e = "string" == typeof t.is ? n.createElement(e, {
					is: t.is
				}) : n.createElement(e) : e = n.createElementNS(r, e), e
		}

		function Yt(e, t) {
			return (9 === t.nodeType ? t : t.ownerDocument).createTextNode(e)
		}

		function qt(e, t, n, r) {
			var i = Gt(t, n);
			switch (t) {
				case "iframe":
				case "object":
					_e("topLoad", "load", e);
					var o = n;
					break;
				case "video":
				case "audio":
					for (o in eo) eo.hasOwnProperty(o) && _e(o, eo[o], e);
					o = n;
					break;
				case "source":
					_e("topError", "error", e), o = n;
					break;
				case "img":
				case "image":
					_e("topError", "error", e), _e("topLoad", "load", e), o = n;
					break;
				case "form":
					_e("topReset", "reset", e), _e("topSubmit", "submit", e), o = n;
					break;
				case "details":
					_e("topToggle", "toggle", e), o = n;
					break;
				case "input":
					kt(e, n), o = Ot(e, n), _e("topInvalid", "invalid", e), Xt(r, "onChange");
					break;
				case "option":
					o = Mt(e, n);
					break;
				case "select":
					Pt(e, n), o = Kn({}, n, {
						value: void 0
					}), _e("topInvalid", "invalid", e), Xt(r, "onChange");
					break;
				case "textarea":
					Ut(e, n), o = Ft(e, n), _e("topInvalid", "invalid", e), Xt(r, "onChange");
					break;
				default:
					o = n
			}
			Ht(t, o, Ji);
			var a, s = o;
			for (a in s)
				if (s.hasOwnProperty(a)) {
					var l = s[a];
					"style" === a ? zt(e, l, Ji) : "dangerouslySetInnerHTML" === a ? (l = l ? l.__html : void 0, null != l && Vi(e, l)) :
						"children" === a ? "string" == typeof l ? ("textarea" !== t || "" !== l) && Ki(e, l) : "number" == typeof l &&
						Ki(e, "" + l) : "suppressContentEditableWarning" !== a && "suppressHydrationWarning" !== a && "autoFocus" !== a &&
						(En.hasOwnProperty(a) ? null != l && Xt(r, a) : i ? Ct(e, a, l) : null != l && Tt(e, a, l))
				} switch (t) {
				case "input":
					Q(e), At(e, n);
					break;
				case "textarea":
					Q(e), n = e.textContent, n === e._wrapperState.initialValue && (e.value = n);
					break;
				case "option":
					null != n.value && e.setAttribute("value", n.value);
					break;
				case "select":
					e.multiple = !!n.multiple, t = n.value, null != t ? Lt(e, !!n.multiple, t, !1) : null != n.defaultValue && Lt(e,
						!!n.multiple, n.defaultValue, !0);
					break;
				default:
					"function" == typeof o.onClick && (e.onclick = Dn)
			}
		}

		function Vt(e, t, n, r, i) {
			var o = null;
			switch (t) {
				case "input":
					n = Ot(e, n), r = Ot(e, r), o = [];
					break;
				case "option":
					n = Mt(e, n), r = Mt(e, r), o = [];
					break;
				case "select":
					n = Kn({}, n, {
						value: void 0
					}), r = Kn({}, r, {
						value: void 0
					}), o = [];
					break;
				case "textarea":
					n = Ft(e, n), r = Ft(e, r), o = [];
					break;
				default:
					"function" != typeof n.onClick && "function" == typeof r.onClick && (e.onclick = Dn)
			}
			Ht(t, r, Ji);
			var a, s;
			e = null;
			for (a in n)
				if (!r.hasOwnProperty(a) && n.hasOwnProperty(a) && null != n[a])
					if ("style" === a)
						for (s in t = n[a]) t.hasOwnProperty(s) && (e || (e = {}), e[s] = "");
					else "dangerouslySetInnerHTML" !== a && "children" !== a && "suppressContentEditableWarning" !== a &&
						"suppressHydrationWarning" !== a && "autoFocus" !== a && (En.hasOwnProperty(a) ? o || (o = []) : (o = o || []).push(
							a, null));
			for (a in r) {
				var l = r[a];
				if (t = null != n ? n[a] : void 0, r.hasOwnProperty(a) && l !== t && (null != l || null != t))
					if ("style" === a)
						if (t) {
							for (s in t) !t.hasOwnProperty(s) || l && l.hasOwnProperty(s) || (e || (e = {}), e[s] = "");
							for (s in l) l.hasOwnProperty(s) && t[s] !== l[s] && (e || (e = {}), e[s] = l[s])
						} else e || (o || (o = []), o.push(a, e)), e = l;
				else "dangerouslySetInnerHTML" === a ? (l = l ? l.__html : void 0, t = t ? t.__html : void 0, null != l && t !==
						l && (o = o || []).push(a, "" + l)) : "children" === a ? t === l || "string" != typeof l && "number" != typeof l ||
					(o = o || []).push(a, "" + l) : "suppressContentEditableWarning" !== a && "suppressHydrationWarning" !== a && (En
						.hasOwnProperty(a) ? (null != l && Xt(i, a), o || t === l || (o = [])) : (o = o || []).push(a, l))
			}
			return e && (o = o || []).push("style", e), o
		}

		function Kt(e, t, n, r, i) {
			"input" === n && "radio" === i.type && null != i.name && Rt(e, i), Gt(n, r), r = Gt(n, i);
			for (var o = 0; o < t.length; o += 2) {
				var a = t[o],
					s = t[o + 1];
				"style" === a ? zt(e, s, Ji) : "dangerouslySetInnerHTML" === a ? Vi(e, s) : "children" === a ? Ki(e, s) : r ? null !=
					s ? Ct(e, a, s) : e.removeAttribute(a) : null != s ? Tt(e, a, s) : Et(e, a)
			}
			switch (n) {
				case "input":
					Dt(e, i);
					break;
				case "textarea":
					jt(e, i);
					break;
				case "select":
					e._wrapperState.initialValue = void 0, t = e._wrapperState.wasMultiple, e._wrapperState.wasMultiple = !!i.multiple,
						n = i.value, null != n ? Lt(e, !!i.multiple, n, !1) : t !== !!i.multiple && (null != i.defaultValue ? Lt(e, !!i.multiple,
							i.defaultValue, !0) : Lt(e, !!i.multiple, i.multiple ? [] : "", !1))
			}
		}

		function $t(e, t, n, r, i) {
			switch (t) {
				case "iframe":
				case "object":
					_e("topLoad", "load", e);
					break;
				case "video":
				case "audio":
					for (var o in eo) eo.hasOwnProperty(o) && _e(o, eo[o], e);
					break;
				case "source":
					_e("topError", "error", e);
					break;
				case "img":
				case "image":
					_e("topError", "error", e), _e("topLoad", "load", e);
					break;
				case "form":
					_e("topReset", "reset", e), _e("topSubmit", "submit", e);
					break;
				case "details":
					_e("topToggle", "toggle", e);
					break;
				case "input":
					kt(e, n), _e("topInvalid", "invalid", e), Xt(i, "onChange");
					break;
				case "select":
					Pt(e, n), _e("topInvalid", "invalid", e), Xt(i, "onChange");
					break;
				case "textarea":
					Ut(e, n), _e("topInvalid", "invalid", e), Xt(i, "onChange")
			}
			Ht(t, n, Ji), r = null;
			for (var a in n) n.hasOwnProperty(a) && (o = n[a], "children" === a ? "string" == typeof o ? e.textContent !== o &&
				(r = ["children", o]) : "number" == typeof o && e.textContent !== "" + o && (r = ["children", "" + o]) : En.hasOwnProperty(
					a) && null != o && Xt(i, a));
			switch (t) {
				case "input":
					Q(e), At(e, n);
					break;
				case "textarea":
					Q(e), t = e.textContent, t === e._wrapperState.initialValue && (e.value = t);
					break;
				case "select":
				case "option":
					break;
				default:
					"function" == typeof n.onClick && (e.onclick = Dn)
			}
			return r
		}

		function Zt(e, t) {
			return e.nodeValue !== t
		}

		function Qt(e) {
			return !(!e || 1 !== e.nodeType && 9 !== e.nodeType && 11 !== e.nodeType && (8 !== e.nodeType ||
				" react-mount-point-unstable " !== e.nodeValue))
		}

		function Jt(e) {
			return e = e ? 9 === e.nodeType ? e.documentElement : e.firstChild : null, !(!e || 1 !== e.nodeType || !e.hasAttribute(
				"data-reactroot"))
		}

		function en(e, n, r, i, o) {
			Qt(r) ? void 0 : t("200");
			var a = r._reactRootContainer;
			if (a) io.updateContainer(n, a, e, o);
			else {
				if (i = i || Jt(r), !i)
					for (a = void 0; a = r.lastChild;) r.removeChild(a);
				var s = io.createContainer(r, i);
				a = r._reactRootContainer = s, io.unbatchedUpdates(function() {
					io.updateContainer(n, s, e, o)
				})
			}
			return io.getPublicRootInstance(a)
		}

		function tn(e, n) {
			var r = 2 < arguments.length && void 0 !== arguments[2] ? arguments[2] : null;
			return Qt(n) ? void 0 : t("200"), St(e, n, null, r)
		}

		function nn(e, t) {
			this._reactRootContainer = io.createContainer(e, t)
		}
		e ? void 0 : t("227");
		var rn = {
				children: !0,
				dangerouslySetInnerHTML: !0,
				defaultValue: !0,
				defaultChecked: !0,
				innerHTML: !0,
				suppressContentEditableWarning: !0,
				suppressHydrationWarning: !0,
				style: !0
			},
			on = {
				MUST_USE_PROPERTY: 1,
				HAS_BOOLEAN_VALUE: 4,
				HAS_NUMERIC_VALUE: 8,
				HAS_POSITIVE_NUMERIC_VALUE: 24,
				HAS_OVERLOADED_BOOLEAN_VALUE: 32,
				HAS_STRING_BOOLEAN_VALUE: 64,
				injectDOMPropertyConfig: function(e) {
					var r = on,
						i = e.Properties || {},
						o = e.DOMAttributeNamespaces || {},
						a = e.DOMAttributeNames || {};
					e = e.DOMMutationMethods || {};
					for (var s in i) {
						an.hasOwnProperty(s) ? t("48", s) : void 0;
						var l = s.toLowerCase(),
							c = i[s];
						l = {
								attributeName: l,
								attributeNamespace: null,
								propertyName: s,
								mutationMethod: null,
								mustUseProperty: n(c, r.MUST_USE_PROPERTY),
								hasBooleanValue: n(c, r.HAS_BOOLEAN_VALUE),
								hasNumericValue: n(c, r.HAS_NUMERIC_VALUE),
								hasPositiveNumericValue: n(c, r.HAS_POSITIVE_NUMERIC_VALUE),
								hasOverloadedBooleanValue: n(c, r.HAS_OVERLOADED_BOOLEAN_VALUE),
								hasStringBooleanValue: n(c, r.HAS_STRING_BOOLEAN_VALUE)
							}, 1 >= l.hasBooleanValue + l.hasNumericValue + l.hasOverloadedBooleanValue ? void 0 : t("50", s), a.hasOwnProperty(
								s) && (l.attributeName = a[s]), o.hasOwnProperty(s) && (l.attributeNamespace = o[s]), e.hasOwnProperty(s) &&
							(l.mutationMethod = e[s]), an[s] = l
					}
				}
			},
			an = {},
			sn = on,
			ln = sn.MUST_USE_PROPERTY,
			cn = sn.HAS_BOOLEAN_VALUE,
			un = sn.HAS_NUMERIC_VALUE,
			hn = sn.HAS_POSITIVE_NUMERIC_VALUE,
			fn = sn.HAS_OVERLOADED_BOOLEAN_VALUE,
			dn = sn.HAS_STRING_BOOLEAN_VALUE,
			pn = {
				Properties: {
					allowFullScreen: cn,
					async: cn,
					autoFocus: cn,
					autoPlay: cn,
					capture: fn,
					checked: ln | cn,
					cols: hn,
					contentEditable: dn,
					controls: cn,
					"default": cn,
					defer: cn,
					disabled: cn,
					download: fn,
					draggable: dn,
					formNoValidate: cn,
					hidden: cn,
					loop: cn,
					multiple: ln | cn,
					muted: ln | cn,
					noValidate: cn,
					open: cn,
					playsInline: cn,
					readOnly: cn,
					required: cn,
					reversed: cn,
					rows: hn,
					rowSpan: un,
					scoped: cn,
					seamless: cn,
					selected: ln | cn,
					size: hn,
					start: un,
					span: hn,
					spellCheck: dn,
					style: 0,
					tabIndex: 0,
					itemScope: cn,
					acceptCharset: 0,
					className: 0,
					htmlFor: 0,
					httpEquiv: 0,
					value: dn
				},
				DOMAttributeNames: {
					acceptCharset: "accept-charset",
					className: "class",
					htmlFor: "for",
					httpEquiv: "http-equiv"
				},
				DOMMutationMethods: {
					value: function(e, t) {
						return null == t ? e.removeAttribute("value") : void("number" !== e.type || !1 === e.hasAttribute("value") ? e.setAttribute(
							"value", "" + t) : e.validity && !e.validity.badInput && e.ownerDocument.activeElement !== e && e.setAttribute(
							"value", "" + t))
					}
				}
			},
			gn = sn.HAS_STRING_BOOLEAN_VALUE,
			mn = {
				Properties: {
					autoReverse: gn,
					externalResourcesRequired: gn,
					preserveAlpha: gn
				},
				DOMAttributeNames: {
					autoReverse: "autoReverse",
					externalResourcesRequired: "externalResourcesRequired",
					preserveAlpha: "preserveAlpha"
				},
				DOMAttributeNamespaces: {
					xlinkActuate: "http://www.w3.org/1999/xlink",
					xlinkArcrole: "http://www.w3.org/1999/xlink",
					xlinkHref: "http://www.w3.org/1999/xlink",
					xlinkRole: "http://www.w3.org/1999/xlink",
					xlinkShow: "http://www.w3.org/1999/xlink",
					xlinkTitle: "http://www.w3.org/1999/xlink",
					xlinkType: "http://www.w3.org/1999/xlink",
					xmlBase: "http://www.w3.org/XML/1998/namespace",
					xmlLang: "http://www.w3.org/XML/1998/namespace",
					xmlSpace: "http://www.w3.org/XML/1998/namespace"
				}
			},
			vn = /[\-\:]([a-z])/g,
			yn = function(e) {
				return e[1].toUpperCase()
			};
		"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode x-height xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type xml:base xmlns:xlink xml:lang xml:space"
		.split(" ").forEach(function(e) {
			var t = e.replace(vn, yn);
			mn.Properties[t] = 0, mn.DOMAttributeNames[t] = e
		}), sn.injectDOMPropertyConfig(pn), sn.injectDOMPropertyConfig(mn);
		var bn = {
				_caughtError: null,
				_hasCaughtError: !1,
				_rethrowError: null,
				_hasRethrowError: !1,
				injection: {
					injectErrorUtils: function(e) {
						"function" != typeof e.invokeGuardedCallback ? t("197") : void 0, xn = e.invokeGuardedCallback
					}
				},
				invokeGuardedCallback: function(e, t, n, r, i, o, a, s, l) {
					xn.apply(bn, arguments)
				},
				invokeGuardedCallbackAndCatchFirstError: function(e, t, n, r, i, o, a, s, l) {
					if (bn.invokeGuardedCallback.apply(this, arguments), bn.hasCaughtError()) {
						var c = bn.clearCaughtError();
						bn._hasRethrowError || (bn._hasRethrowError = !0, bn._rethrowError = c)
					}
				},
				rethrowCaughtError: function() {
					return wn.apply(bn, arguments)
				},
				hasCaughtError: function() {
					return bn._hasCaughtError
				},
				clearCaughtError: function() {
					if (bn._hasCaughtError) {
						var e = bn._caughtError;
						return bn._caughtError = null, bn._hasCaughtError = !1, e
					}
					t("198")
				}
			},
			xn = function(e, t, n, r, i, o, a, s, l) {
				bn._hasCaughtError = !1, bn._caughtError = null;
				var c = Array.prototype.slice.call(arguments, 3);
				try {
					t.apply(n, c)
				} catch (u) {
					bn._caughtError = u, bn._hasCaughtError = !0
				}
			},
			wn = function() {
				if (bn._hasRethrowError) {
					var e = bn._rethrowError;
					throw bn._rethrowError = null, bn._hasRethrowError = !1, e
				}
			},
			Sn = null,
			_n = {},
			Tn = [],
			Cn = {},
			En = {},
			On = {},
			kn = Object.freeze({
				plugins: Tn,
				eventNameDispatchConfigs: Cn,
				registrationNameModules: En,
				registrationNameDependencies: On,
				possibleRegistrationNames: null,
				injectEventPluginOrder: s,
				injectEventPluginsByName: l
			}),
			Rn = function() {};
		Rn.thatReturns = c, Rn.thatReturnsFalse = c(!1), Rn.thatReturnsTrue = c(!0), Rn.thatReturnsNull = c(null), Rn.thatReturnsThis =
			function() {
				return this
			}, Rn.thatReturnsArgument = function(e) {
				return e
			};
		var Dn = Rn,
			An = null,
			In = null,
			Mn = null,
			Ln = null,
			Pn = function(e, t) {
				if (e) {
					var n = e._dispatchListeners,
						r = e._dispatchInstances;
					if (Array.isArray(n))
						for (var i = 0; i < n.length && !e.isPropagationStopped(); i++) u(e, t, n[i], r[i]);
					else n && u(e, t, n, r);
					e._dispatchListeners = null, e._dispatchInstances = null, e.isPersistent() || e.constructor.release(e)
				}
			},
			Fn = function(e) {
				return Pn(e, !0)
			},
			Un = function(e) {
				return Pn(e, !1)
			},
			jn = {
				injectEventPluginOrder: s,
				injectEventPluginsByName: l
			},
			Bn = Object.freeze({
				injection: jn,
				getListener: d,
				extractEvents: p,
				enqueueEvents: g,
				processEventQueue: m
			}),
			Nn = Math.random().toString(36).slice(2),
			zn = "__reactInternalInstance$" + Nn,
			Hn = "__reactEventHandlers$" + Nn,
			Gn = Object.freeze({
				precacheFiberNode: function(e, t) {
					t[zn] = e
				},
				getClosestInstanceFromNode: v,
				getInstanceFromNode: function(e) {
					return e = e[zn], !e || 5 !== e.tag && 6 !== e.tag ? null : e
				},
				getNodeFromInstance: y,
				getFiberCurrentPropsFromNode: b,
				updateFiberProps: function(e, t) {
					e[Hn] = t
				}
			}),
			Xn = Object.freeze({
				accumulateTwoPhaseDispatches: O,
				accumulateTwoPhaseDispatchesSkipTarget: function(e) {
					f(e, T)
				},
				accumulateEnterLeaveDispatches: k,
				accumulateDirectDispatches: function(e) {
					f(e, E)
				}
			}),
			Wn = !("undefined" == typeof window || !window.document || !window.document.createElement),
			Yn = {
				canUseDOM: Wn,
				canUseWorkers: "undefined" != typeof Worker,
				canUseEventListeners: Wn && !(!window.addEventListener && !window.attachEvent),
				canUseViewport: Wn && !!window.screen,
				isInWorker: !Wn
			},
			qn = null,
			Vn = {
				_root: null,
				_startText: null,
				_fallbackText: null
			},
			Kn = e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.assign,
			$n =
			"dispatchConfig _targetInst nativeEvent isDefaultPrevented isPropagationStopped _dispatchListeners _dispatchInstances"
			.split(" "),
			Zn = {
				type: null,
				target: null,
				currentTarget: Dn.thatReturnsNull,
				eventPhase: null,
				bubbles: null,
				cancelable: null,
				timeStamp: function(e) {
					return e.timeStamp || Date.now()
				},
				defaultPrevented: null,
				isTrusted: null
			};
		Kn(I.prototype, {
			preventDefault: function() {
				this.defaultPrevented = !0;
				var e = this.nativeEvent;
				e && (e.preventDefault ? e.preventDefault() : "unknown" != typeof e.returnValue && (e.returnValue = !1), this.isDefaultPrevented =
					Dn.thatReturnsTrue)
			},
			stopPropagation: function() {
				var e = this.nativeEvent;
				e && (e.stopPropagation ? e.stopPropagation() : "unknown" != typeof e.cancelBubble && (e.cancelBubble = !0),
					this.isPropagationStopped = Dn.thatReturnsTrue)
			},
			persist: function() {
				this.isPersistent = Dn.thatReturnsTrue
			},
			isPersistent: Dn.thatReturnsFalse,
			destructor: function() {
				var e, t = this.constructor.Interface;
				for (e in t) this[e] = null;
				for (t = 0; t < $n.length; t++) this[$n[t]] = null
			}
		}), I.Interface = Zn, I.augmentClass = function(e, t) {
			var n = function() {};
			n.prototype = this.prototype, n = new n, Kn(n, e.prototype), e.prototype = n, e.prototype.constructor = e, e.Interface =
				Kn({}, this.Interface, t), e.augmentClass = this.augmentClass, P(e)
		}, P(I), I.augmentClass(F, {
			data: null
		}), I.augmentClass(U, {
			data: null
		});
		var Qn = [9, 13, 27, 32],
			Jn = Yn.canUseDOM && "CompositionEvent" in window,
			er = null;
		Yn.canUseDOM && "documentMode" in document && (er = document.documentMode);
		var tr, nr = Yn.canUseDOM && "TextEvent" in window && !er && !j(),
			rr = Yn.canUseDOM && (!Jn || er && er > 8 && 11 >= er),
			ir = String.fromCharCode(32),
			or = {
				beforeInput: {
					phasedRegistrationNames: {
						bubbled: "onBeforeInput",
						captured: "onBeforeInputCapture"
					},
					dependencies: ["topCompositionEnd", "topKeyPress", "topTextInput", "topPaste"]
				},
				compositionEnd: {
					phasedRegistrationNames: {
						bubbled: "onCompositionEnd",
						captured: "onCompositionEndCapture"
					},
					dependencies: "topBlur topCompositionEnd topKeyDown topKeyPress topKeyUp topMouseDown".split(" ")
				},
				compositionStart: {
					phasedRegistrationNames: {
						bubbled: "onCompositionStart",
						captured: "onCompositionStartCapture"
					},
					dependencies: "topBlur topCompositionStart topKeyDown topKeyPress topKeyUp topMouseDown".split(" ")
				},
				compositionUpdate: {
					phasedRegistrationNames: {
						bubbled: "onCompositionUpdate",
						captured: "onCompositionUpdateCapture"
					},
					dependencies: "topBlur topCompositionUpdate topKeyDown topKeyPress topKeyUp topMouseDown".split(" ")
				}
			},
			ar = !1,
			sr = !1,
			lr = {
				eventTypes: or,
				extractEvents: function(e, t, n, r) {
					var i;
					if (Jn) e: {
						switch (e) {
							case "topCompositionStart":
								var o = or.compositionStart;
								break e;
							case "topCompositionEnd":
								o = or.compositionEnd;
								break e;
							case "topCompositionUpdate":
								o = or.compositionUpdate;
								break e
						}
						o = void 0
					}
					else sr ? B(e, n) && (o = or.compositionEnd) : "topKeyDown" === e && 229 === n.keyCode && (o = or.compositionStart);
					return o ? (rr && (sr || o !== or.compositionStart ? o === or.compositionEnd && sr && (i = D()) : (Vn._root = r,
						Vn._startText = A(), sr = !0)), o = F.getPooled(o, t, n, r), i ? o.data = i : (i = N(n), null !== i && (o.data =
						i)), O(o), i = o) : i = null, (e = nr ? z(e, n) : H(e, n)) ? (t = U.getPooled(or.beforeInput, t, n, r), t.data =
						e, O(t)) : t = null, [i, t]
				}
			},
			cr = null,
			ur = null,
			hr = null,
			fr = {
				injectFiberControlledHostComponent: function(e) {
					cr = e
				}
			},
			dr = Object.freeze({
				injection: fr,
				enqueueStateRestore: X,
				restoreStateIfNeeded: W
			}),
			pr = function(e, t) {
				return e(t)
			},
			gr = !1,
			mr = {
				color: !0,
				date: !0,
				datetime: !0,
				"datetime-local": !0,
				email: !0,
				month: !0,
				number: !0,
				password: !0,
				range: !0,
				search: !0,
				tel: !0,
				text: !0,
				time: !0,
				url: !0,
				week: !0
			};
		Yn.canUseDOM && (tr = document.implementation && document.implementation.hasFeature && !0 !== document.implementation
			.hasFeature("", ""));
		var vr = {
				change: {
					phasedRegistrationNames: {
						bubbled: "onChange",
						captured: "onChangeCapture"
					},
					dependencies: "topBlur topChange topClick topFocus topInput topKeyDown topKeyUp topSelectionChange".split(" ")
				}
			},
			yr = null,
			br = null,
			xr = !1;
		Yn.canUseDOM && (xr = K("input") && (!document.documentMode || 9 < document.documentMode));
		var wr = {
			eventTypes: vr,
			_isInputEventSupported: xr,
			extractEvents: function(e, t, n, r) {
				var i = t ? y(t) : window,
					o = i.nodeName && i.nodeName.toLowerCase();
				if ("select" === o || "input" === o && "file" === i.type) var a = re;
				else if (q(i))
					if (xr) a = ce;
					else {
						a = se;
						var s = ae
					}
				else o = i.nodeName, !o || "input" !== o.toLowerCase() || "checkbox" !== i.type && "radio" !== i.type || (a = le);
				return a && (a = a(e, t)) ? ee(a, n, r) : (s && s(e, i, t), void("topBlur" === e && null != t && (e = t._wrapperState ||
					i._wrapperState) && e.controlled && "number" === i.type && (e = "" + i.value, i.getAttribute("value") !== e &&
					i.setAttribute("value", e))))
			}
		};
		I.augmentClass(ue, {
			view: null,
			detail: null
		});
		var Sr = {
			Alt: "altKey",
			Control: "ctrlKey",
			Meta: "metaKey",
			Shift: "shiftKey"
		};
		ue.augmentClass(de, {
			screenX: null,
			screenY: null,
			clientX: null,
			clientY: null,
			pageX: null,
			pageY: null,
			ctrlKey: null,
			shiftKey: null,
			altKey: null,
			metaKey: null,
			getModifierState: fe,
			button: null,
			buttons: null,
			relatedTarget: function(e) {
				return e.relatedTarget || (e.fromElement === e.srcElement ? e.toElement : e.fromElement)
			}
		});
		var _r = {
				mouseEnter: {
					registrationName: "onMouseEnter",
					dependencies: ["topMouseOut", "topMouseOver"]
				},
				mouseLeave: {
					registrationName: "onMouseLeave",
					dependencies: ["topMouseOut", "topMouseOver"]
				}
			},
			Tr = {
				eventTypes: _r,
				extractEvents: function(e, t, n, r) {
					if ("topMouseOver" === e && (n.relatedTarget || n.fromElement) || "topMouseOut" !== e && "topMouseOver" !== e)
						return null;
					var i = r.window === r ? r : (i = r.ownerDocument) ? i.defaultView || i.parentWindow : window;
					if ("topMouseOut" === e ? (e = t, t = (t = n.relatedTarget || n.toElement) ? v(t) : null) : e = null, e === t)
						return null;
					var o = null == e ? i : y(e);
					i = null == t ? i : y(t);
					var a = de.getPooled(_r.mouseLeave, e, n, r);
					return a.type = "mouseleave", a.target = o, a.relatedTarget = i, n = de.getPooled(_r.mouseEnter, t, n, r), n.type =
						"mouseenter", n.target = i, n.relatedTarget = o, k(a, n, e, t), [a, n]
				}
			},
			Cr = e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,
			Er = {
				listen: function(e, t, n) {
					return e.addEventListener ? (e.addEventListener(t, n, !1), {
						remove: function() {
							e.removeEventListener(t, n, !1)
						}
					}) : e.attachEvent ? (e.attachEvent("on" + t, n), {
						remove: function() {
							e.detachEvent("on" + t, n)
						}
					}) : void 0
				},
				capture: function(e, t, n) {
					return e.addEventListener ? (e.addEventListener(t, n, !0), {
						remove: function() {
							e.removeEventListener(t, n, !0)
						}
					}) : {
						remove: Dn
					}
				},
				registerDefault: function() {}
			},
			Or = [],
			kr = !0,
			Rr = void 0,
			Dr = Object.freeze({
				get _enabled() {
					return kr
				},
				get _handleTopLevel() {
					return Rr
				},
				setHandleTopLevel: function(e) {
					Rr = e
				},
				setEnabled: Se,
				isEnabled: function() {
					return kr
				},
				trapBubbledEvent: _e,
				trapCapturedEvent: Te,
				dispatchEvent: Ce
			}),
			Ar = {
				animationend: Ee("Animation", "AnimationEnd"),
				animationiteration: Ee("Animation", "AnimationIteration"),
				animationstart: Ee("Animation", "AnimationStart"),
				transitionend: Ee("Transition", "TransitionEnd")
			},
			Ir = {},
			Mr = {};
		Yn.canUseDOM && (Mr = document.createElement("div").style, "AnimationEvent" in window || (delete Ar.animationend.animation,
				delete Ar.animationiteration.animation, delete Ar.animationstart.animation), "TransitionEvent" in window ||
			delete Ar.transitionend.transition);
		var Lr = {
				topAbort: "abort",
				topAnimationEnd: Oe("animationend") || "animationend",
				topAnimationIteration: Oe("animationiteration") || "animationiteration",
				topAnimationStart: Oe("animationstart") || "animationstart",
				topBlur: "blur",
				topCancel: "cancel",
				topCanPlay: "canplay",
				topCanPlayThrough: "canplaythrough",
				topChange: "change",
				topClick: "click",
				topClose: "close",
				topCompositionEnd: "compositionend",
				topCompositionStart: "compositionstart",
				topCompositionUpdate: "compositionupdate",
				topContextMenu: "contextmenu",
				topCopy: "copy",
				topCut: "cut",
				topDoubleClick: "dblclick",
				topDrag: "drag",
				topDragEnd: "dragend",
				topDragEnter: "dragenter",
				topDragExit: "dragexit",
				topDragLeave: "dragleave",
				topDragOver: "dragover",
				topDragStart: "dragstart",
				topDrop: "drop",
				topDurationChange: "durationchange",
				topEmptied: "emptied",
				topEncrypted: "encrypted",
				topEnded: "ended",
				topError: "error",
				topFocus: "focus",
				topInput: "input",
				topKeyDown: "keydown",
				topKeyPress: "keypress",
				topKeyUp: "keyup",
				topLoadedData: "loadeddata",
				topLoad: "load",
				topLoadedMetadata: "loadedmetadata",
				topLoadStart: "loadstart",
				topMouseDown: "mousedown",
				topMouseMove: "mousemove",
				topMouseOut: "mouseout",
				topMouseOver: "mouseover",
				topMouseUp: "mouseup",
				topPaste: "paste",
				topPause: "pause",
				topPlay: "play",
				topPlaying: "playing",
				topProgress: "progress",
				topRateChange: "ratechange",
				topScroll: "scroll",
				topSeeked: "seeked",
				topSeeking: "seeking",
				topSelectionChange: "selectionchange",
				topStalled: "stalled",
				topSuspend: "suspend",
				topTextInput: "textInput",
				topTimeUpdate: "timeupdate",
				topToggle: "toggle",
				topTouchCancel: "touchcancel",
				topTouchEnd: "touchend",
				topTouchMove: "touchmove",
				topTouchStart: "touchstart",
				topTransitionEnd: Oe("transitionend") || "transitionend",
				topVolumeChange: "volumechange",
				topWaiting: "waiting",
				topWheel: "wheel"
			},
			Pr = {},
			Fr = 0,
			Ur = "_reactListenersID" + ("" + Math.random()).slice(2),
			jr = function(e) {
				if (e = e || ("undefined" != typeof document ? document : void 0), "undefined" == typeof e) return null;
				try {
					return e.activeElement || e.body
				} catch (t) {
					return e.body
				}
			},
			Br = Object.prototype.hasOwnProperty,
			Nr = function(e, t) {
				if (Re(e, t)) return !0;
				if ("object" != typeof e || null === e || "object" != typeof t || null === t) return !1;
				var n = Object.keys(e),
					r = Object.keys(t);
				if (n.length !== r.length) return !1;
				for (r = 0; r < n.length; r++)
					if (!Br.call(t, n[r]) || !Re(e[n[r]], t[n[r]])) return !1;
				return !0
			},
			zr = function(e) {
				var t = (e ? e.ownerDocument || e : document).defaultView || window;
				return !(!e || !("function" == typeof t.Node ? e instanceof t.Node : "object" == typeof e && "number" == typeof e.nodeType &&
					"string" == typeof e.nodeName)) && 3 == e.nodeType
			},
			Hr = Yn.canUseDOM && "documentMode" in document && 11 >= document.documentMode,
			Gr = {
				select: {
					phasedRegistrationNames: {
						bubbled: "onSelect",
						captured: "onSelectCapture"
					},
					dependencies: "topBlur topContextMenu topFocus topKeyDown topKeyUp topMouseDown topMouseUp topSelectionChange".split(
						" ")
				}
			},
			Xr = null,
			Wr = null,
			Yr = null,
			qr = !1,
			Vr = {
				eventTypes: Gr,
				extractEvents: function(e, t, n, r) {
					var i, o = r.window === r ? r.document : 9 === r.nodeType ? r : r.ownerDocument;
					if (!(i = !o)) {
						e: {
							o = ke(o),
							i = On.onSelect;
							for (var a = 0; a < i.length; a++) {
								var s = i[a];
								if (!o.hasOwnProperty(s) || !o[s]) {
									o = !1;
									break e
								}
							}
							o = !0
						}
						i = !o
					}
					if (i) return null;
					switch (o = t ? y(t) : window, e) {
						case "topFocus":
							(q(o) || "true" === o.contentEditable) && (Xr = o, Wr = t, Yr = null);
							break;
						case "topBlur":
							Yr = Wr = Xr = null;
							break;
						case "topMouseDown":
							qr = !0;
							break;
						case "topContextMenu":
						case "topMouseUp":
							return qr = !1, Le(n, r);
						case "topSelectionChange":
							if (Hr) break;
						case "topKeyDown":
						case "topKeyUp":
							return Le(n, r)
					}
					return null
				}
			};
		I.augmentClass(Pe, {
			animationName: null,
			elapsedTime: null,
			pseudoElement: null
		}), I.augmentClass(Fe, {
			clipboardData: function(e) {
				return "clipboardData" in e ? e.clipboardData : window.clipboardData
			}
		}), ue.augmentClass(Ue, {
			relatedTarget: null
		});
		var Kr = {
				Esc: "Escape",
				Spacebar: " ",
				Left: "ArrowLeft",
				Up: "ArrowUp",
				Right: "ArrowRight",
				Down: "ArrowDown",
				Del: "Delete",
				Win: "OS",
				Menu: "ContextMenu",
				Apps: "ContextMenu",
				Scroll: "ScrollLock",
				MozPrintableKey: "Unidentified"
			},
			$r = {
				8: "Backspace",
				9: "Tab",
				12: "Clear",
				13: "Enter",
				16: "Shift",
				17: "Control",
				18: "Alt",
				19: "Pause",
				20: "CapsLock",
				27: "Escape",
				32: " ",
				33: "PageUp",
				34: "PageDown",
				35: "End",
				36: "Home",
				37: "ArrowLeft",
				38: "ArrowUp",
				39: "ArrowRight",
				40: "ArrowDown",
				45: "Insert",
				46: "Delete",
				112: "F1",
				113: "F2",
				114: "F3",
				115: "F4",
				116: "F5",
				117: "F6",
				118: "F7",
				119: "F8",
				120: "F9",
				121: "F10",
				122: "F11",
				123: "F12",
				144: "NumLock",
				145: "ScrollLock",
				224: "Meta"
			};
		ue.augmentClass(Be, {
			key: function(e) {
				if (e.key) {
					var t = Kr[e.key] || e.key;
					if ("Unidentified" !== t) return t
				}
				return "keypress" === e.type ? (e = je(e), 13 === e ? "Enter" : String.fromCharCode(e)) : "keydown" === e.type ||
					"keyup" === e.type ? $r[e.keyCode] || "Unidentified" : ""
			},
			location: null,
			ctrlKey: null,
			shiftKey: null,
			altKey: null,
			metaKey: null,
			repeat: null,
			locale: null,
			getModifierState: fe,
			charCode: function(e) {
				return "keypress" === e.type ? je(e) : 0
			},
			keyCode: function(e) {
				return "keydown" === e.type || "keyup" === e.type ? e.keyCode : 0
			},
			which: function(e) {
				return "keypress" === e.type ? je(e) : "keydown" === e.type || "keyup" === e.type ? e.keyCode : 0
			}
		}), de.augmentClass(Ne, {
			dataTransfer: null
		}), ue.augmentClass(ze, {
			touches: null,
			targetTouches: null,
			changedTouches: null,
			altKey: null,
			metaKey: null,
			ctrlKey: null,
			shiftKey: null,
			getModifierState: fe
		}), I.augmentClass(He, {
			propertyName: null,
			elapsedTime: null,
			pseudoElement: null
		}), de.augmentClass(Ge, {
			deltaX: function(e) {
				return "deltaX" in e ? e.deltaX : "wheelDeltaX" in e ? -e.wheelDeltaX : 0
			},
			deltaY: function(e) {
				return "deltaY" in e ? e.deltaY : "wheelDeltaY" in e ? -e.wheelDeltaY : "wheelDelta" in e ? -e.wheelDelta : 0
			},
			deltaZ: null,
			deltaMode: null
		});
		var Zr = {},
			Qr = {};
		"abort animationEnd animationIteration animationStart blur cancel canPlay canPlayThrough click close contextMenu copy cut doubleClick drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error focus input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing progress rateChange reset scroll seeked seeking stalled submit suspend timeUpdate toggle touchCancel touchEnd touchMove touchStart transitionEnd volumeChange waiting wheel"
		.split(" ").forEach(function(e) {
			var t = e[0].toUpperCase() + e.slice(1),
				n = "on" + t;
			t = "top" + t, n = {
				phasedRegistrationNames: {
					bubbled: n,
					captured: n + "Capture"
				},
				dependencies: [t]
			}, Zr[e] = n, Qr[t] = n
		});
		var Jr = {
			eventTypes: Zr,
			extractEvents: function(e, t, n, r) {
				var i = Qr[e];
				if (!i) return null;
				switch (e) {
					case "topKeyPress":
						if (0 === je(n)) return null;
					case "topKeyDown":
					case "topKeyUp":
						e = Be;
						break;
					case "topBlur":
					case "topFocus":
						e = Ue;
						break;
					case "topClick":
						if (2 === n.button) return null;
					case "topDoubleClick":
					case "topMouseDown":
					case "topMouseMove":
					case "topMouseUp":
					case "topMouseOut":
					case "topMouseOver":
					case "topContextMenu":
						e = de;
						break;
					case "topDrag":
					case "topDragEnd":
					case "topDragEnter":
					case "topDragExit":
					case "topDragLeave":
					case "topDragOver":
					case "topDragStart":
					case "topDrop":
						e = Ne;
						break;
					case "topTouchCancel":
					case "topTouchEnd":
					case "topTouchMove":
					case "topTouchStart":
						e = ze;
						break;
					case "topAnimationEnd":
					case "topAnimationIteration":
					case "topAnimationStart":
						e = Pe;
						break;
					case "topTransitionEnd":
						e = He;
						break;
					case "topScroll":
						e = ue;
						break;
					case "topWheel":
						e = Ge;
						break;
					case "topCopy":
					case "topCut":
					case "topPaste":
						e = Fe;
						break;
					default:
						e = I
				}
				return t = e.getPooled(i, t, n, r), O(t), t
			}
		};
		Rr = function(e, t, n, r) {
				e = p(e, t, n, r), g(e), m(!1)
			}, jn.injectEventPluginOrder(
				"ResponderEventPlugin SimpleEventPlugin TapEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin"
				.split(" ")),
			function(e) {
				An = e.getFiberCurrentPropsFromNode, In = e.getInstanceFromNode, Mn = e.getNodeFromInstance
			}(Gn), jn.injectEventPluginsByName({
				SimpleEventPlugin: Jr,
				EnterLeaveEventPlugin: Tr,
				ChangeEventPlugin: wr,
				SelectEventPlugin: Vr,
				BeforeInputEventPlugin: lr
			});
		var ei = {},
			ti = [],
			ni = -1;
		new Set;
		var ri = {
				current: ei
			},
			ii = {
				current: !1
			},
			oi = ei,
			ai = null,
			si = null,
			li = function(e, n, r, i) {
				function o(e, t) {
					t.updater = a, e.stateNode = t, t._reactInternalFiber = e
				}
				var a = {
					isMounted: me,
					enqueueSetState: function(t, r, i) {
						t = t._reactInternalFiber, i = void 0 === i ? null : i;
						var o = n(t);
						pt(t, {
							expirationTime: o,
							partialState: r,
							callback: i,
							isReplace: !1,
							isForced: !1,
							nextCallback: null,
							next: null
						}), e(t, o)
					},
					enqueueReplaceState: function(t, r, i) {
						t = t._reactInternalFiber, i = void 0 === i ? null : i;
						var o = n(t);
						pt(t, {
							expirationTime: o,
							partialState: r,
							callback: i,
							isReplace: !0,
							isForced: !1,
							nextCallback: null,
							next: null
						}), e(t, o)
					},
					enqueueForceUpdate: function(t, r) {
						t = t._reactInternalFiber, r = void 0 === r ? null : r;
						var i = n(t);
						pt(t, {
							expirationTime: i,
							partialState: null,
							callback: r,
							isReplace: !1,
							isForced: !0,
							nextCallback: null,
							next: null
						}), e(t, i)
					}
				};
				return {
					adoptClassInstance: o,
					constructClassInstance: function(e, t) {
						var n = e.type,
							r = Ye(e),
							i = 2 === e.tag && null != e.type.contextTypes,
							a = i ? qe(e, r) : ei;
						return t = new n(t, a), o(e, t), i && (e = e.stateNode, e.__reactInternalMemoizedUnmaskedChildContext = r, e.__reactInternalMemoizedMaskedChildContext =
							a), t
					},
					mountClassInstance: function(e, n) {
						var r = e.alternate,
							i = e.stateNode,
							o = i.state || null,
							s = e.pendingProps;
						s ? void 0 : t("158");
						var l = Ye(e);
						i.props = s, i.state = e.memoizedState = o, i.refs = ei, i.context = qe(e, l), null != e.type && null != e.type
							.prototype && !0 === e.type.prototype.unstable_isAsyncReactComponent && (e.internalContextTag |= 1),
							"function" == typeof i.componentWillMount && (o = i.state, i.componentWillMount(), o !== i.state && a.enqueueReplaceState(
								i, i.state, null), o = e.updateQueue, null !== o && (i.state = mt(r, e, o, i, s, n))), "function" == typeof i
							.componentDidMount && (e.effectTag |= 4)
					},
					updateClassInstance: function(e, n, o) {
						var s = n.stateNode;
						s.props = n.memoizedProps, s.state = n.memoizedState;
						var l = n.memoizedProps,
							c = n.pendingProps;
						c || (c = l, null == c ? t("159") : void 0);
						var u = s.context,
							h = Ye(n);
						if (h = qe(n, h), "function" != typeof s.componentWillReceiveProps || l === c && u === h || (u = s.state, s.componentWillReceiveProps(
								c, h), s.state !== u && a.enqueueReplaceState(s, s.state, null)), u = n.memoizedState, o = null !== n.updateQueue ?
							mt(e, n, n.updateQueue, s, c, o) : u, !(l !== c || u !== o || ii.current || null !== n.updateQueue && n.updateQueue
								.hasForceUpdate)) return "function" != typeof s.componentDidUpdate || l === e.memoizedProps && u === e.memoizedState ||
							(n.effectTag |= 4), !1;
						var f = c;
						if (null === l || null !== n.updateQueue && n.updateQueue.hasForceUpdate) f = !0;
						else {
							var d = n.stateNode,
								p = n.type;
							f = "function" == typeof d.shouldComponentUpdate ? d.shouldComponentUpdate(f, o, h) : p.prototype && p.prototype
								.isPureReactComponent ? !Nr(l, f) || !Nr(u, o) : !0
						}
						return f ? ("function" == typeof s.componentWillUpdate && s.componentWillUpdate(c, o, h), "function" == typeof s
							.componentDidUpdate && (n.effectTag |= 4)) : ("function" != typeof s.componentDidUpdate || l === e.memoizedProps &&
							u === e.memoizedState || (n.effectTag |= 4), r(n, c), i(n, o)), s.props = c, s.state = o, s.context = h, f
					}
				}
			},
			ci = "function" == typeof Symbol && Symbol["for"],
			ui = ci ? Symbol["for"]("react.element") : 60103,
			hi = ci ? Symbol["for"]("react.call") : 60104,
			fi = ci ? Symbol["for"]("react.return") : 60105,
			di = ci ? Symbol["for"]("react.portal") : 60106,
			pi = ci ? Symbol["for"]("react.fragment") : 60107,
			gi = "function" == typeof Symbol && Symbol.iterator,
			mi = Array.isArray,
			vi = wt(!0),
			yi = wt(!1),
			bi = function(e, n, r, i, o) {
				function a(e, t, n) {
					var r = t.expirationTime;
					t.child = null === e ? yi(t, null, n, r) : vi(t, e.child, n, r)
				}

				function s(e, t) {
					var n = t.ref;
					null === n || e && e.ref === n || (t.effectTag |= 128)
				}

				function l(e, t, n, r) {
					if (s(e, t), !n) return r && Je(t, !1), u(e, t);
					n = t.stateNode, Cr.current = t;
					var i = n.render();
					return t.effectTag |= 1, a(e, t, i), t.memoizedState = n.state, t.memoizedProps = n.props, r && Je(t, !0), t.child
				}

				function c(e) {
					var t = e.stateNode;
					t.pendingContext ? $e(e, t.pendingContext, t.pendingContext !== t.context) : t.context && $e(e, t.context, !1), m(
						e, t.containerInfo)
				}

				function u(e, n) {
					if (null !== e && n.child !== e.child ? t("153") : void 0, null !== n.child) {
						e = n.child;
						var r = tt(e, e.pendingProps, e.expirationTime);
						for (n.child = r, r["return"] = n; null !== e.sibling;) e = e.sibling, r = r.sibling = tt(e, e.pendingProps, e.expirationTime),
							r["return"] = n;
						r.sibling = null
					}
					return n.child
				}

				function h(e, t) {
					switch (t.tag) {
						case 3:
							c(t);
							break;
						case 2:
							Qe(t);
							break;
						case 4:
							m(t, t.stateNode.containerInfo)
					}
					return null
				}
				var f = e.shouldSetTextContent,
					d = e.useSyncScheduling,
					p = e.shouldDeprioritizeSubtree,
					g = n.pushHostContext,
					m = n.pushHostContainer,
					v = r.enterHydrationState,
					y = r.resetHydrationState,
					b = r.tryToClaimNextHydratableInstance;
				e = li(i, o, function(e, t) {
					e.memoizedProps = t
				}, function(e, t) {
					e.memoizedState = t
				});
				var x = e.adoptClassInstance,
					w = e.constructClassInstance,
					S = e.mountClassInstance,
					_ = e.updateClassInstance;
				return {
					beginWork: function(e, n, r) {
						if (0 === n.expirationTime || n.expirationTime > r) return h(e, n);
						switch (n.tag) {
							case 0:
								null !== e ? t("155") : void 0;
								var i = n.type,
									o = n.pendingProps,
									T = Ye(n);
								return T = qe(n, T), i = i(o, T), n.effectTag |= 1, "object" == typeof i && null !== i && "function" ==
									typeof i.render ? (n.tag = 2, o = Qe(n), x(n, i), S(n, r), n = l(e, n, !0, o)) : (n.tag = 1, a(e, n, i), n.memoizedProps =
										o, n = n.child), n;
							case 1:
								e: {
									if (o = n.type, r = n.pendingProps, i = n.memoizedProps, ii.current) null === r && (r = i);
									else if (null === r || i === r) {
										n = u(e, n);
										break e
									}
									i = Ye(n),
									i = qe(n, i),
									o = o(r, i),
									n.effectTag |= 1,
									a(e, n, o),
									n.memoizedProps = r,
									n = n.child
								}
								return n;
							case 2:
								return o = Qe(n), i = void 0, null === e ? n.stateNode ? t("153") : (w(n, n.pendingProps), S(n, r), i = !0) :
									i = _(e, n, r), l(e, n, i, o);
							case 3:
								return c(n), o = n.updateQueue, null !== o ? (i = n.memoizedState, o = mt(e, n, o, null, null, r), i === o ?
										(y(), n = u(e, n)) : (i = o.element, T = n.stateNode, (null === e || null === e.child) && T.hydrate && v(n) ?
											(n.effectTag |= 2, n.child = yi(n, null, i, r)) : (y(), a(e, n, i)), n.memoizedState = o, n = n.child)) :
									(y(), n = u(e, n)), n;
							case 5:
								g(n), null === e && b(n), o = n.type;
								var C = n.memoizedProps;
								return i = n.pendingProps, null === i && (i = C, null === i ? t("154") : void 0), T = null !== e ? e.memoizedProps :
									null, ii.current || null !== i && C !== i ? (C = i.children, f(o, i) ? C = null : T && f(o, T) && (n.effectTag |=
										16), s(e, n), 2147483647 !== r && !d && p(o, i) ? (n.expirationTime = 2147483647, n = null) : (a(e, n, C),
										n.memoizedProps = i, n = n.child)) : n = u(e, n), n;
							case 6:
								return null === e && b(n), e = n.pendingProps, null === e && (e = n.memoizedProps), n.memoizedProps = e, null;
							case 8:
								n.tag = 7;
							case 7:
								return o = n.pendingProps, ii.current ? null === o && (o = e && e.memoizedProps, null === o ? t("154") : void 0) :
									(null === o || n.memoizedProps === o) && (o = n.memoizedProps), i = o.children, n.stateNode = null === e ?
									yi(n, n.stateNode, i, r) : vi(n, n.stateNode, i, r), n.memoizedProps = o, n.stateNode;
							case 9:
								return null;
							case 4:
								e: {
									if (m(n, n.stateNode.containerInfo), o = n.pendingProps, ii.current) null === o && (o = e && e.memoizedProps,
										null == o ? t("154") : void 0);
									else if (null === o || n.memoizedProps === o) {
										n = u(e, n);
										break e
									}
									null === e ? n.child = vi(n, null, o, r) : a(e, n, o),
									n.memoizedProps = o,
									n = n.child
								}
								return n;
							case 10:
								e: {
									if (r = n.pendingProps, ii.current) null === r && (r = n.memoizedProps);
									else if (null === r || n.memoizedProps === r) {
										n = u(e, n);
										break e
									}
									a(e, n, r),
									n.memoizedProps = r,
									n = n.child
								}
								return n;
							default:
								t("156")
						}
					},
					beginFailedWork: function(e, n, r) {
						switch (n.tag) {
							case 2:
								Qe(n);
								break;
							case 3:
								c(n);
								break;
							default:
								t("157")
						}
						return n.effectTag |= 64, null === e ? n.child = null : n.child !== e.child && (n.child = e.child), 0 === n.expirationTime ||
							n.expirationTime > r ? h(e, n) : (n.firstEffect = null, n.lastEffect = null, n.child = null === e ? yi(n, null,
								null, r) : vi(n, e.child, null, r), 2 === n.tag && (e = n.stateNode, n.memoizedProps = e.props, n.memoizedState =
								e.state), n.child)
					}
				}
			},
			xi = function(e, n, r) {
				function i(e) {
					e.effectTag |= 4
				}
				var o = e.createInstance,
					a = e.createTextInstance,
					s = e.appendInitialChild,
					l = e.finalizeInitialChildren,
					c = e.prepareUpdate,
					u = e.persistence,
					h = n.getRootHostContainer,
					f = n.popHostContext,
					d = n.getHostContext,
					p = n.popHostContainer,
					g = r.prepareToHydrateHostInstance,
					m = r.prepareToHydrateHostTextInstance,
					v = r.popHydrationState,
					y = void 0,
					b = void 0,
					x = void 0;
				return e.mutation ? (y = function(e) {}, b = function(e, t, n, r, o, a, s) {
					(t.updateQueue = n) && i(t)
				}, x = function(e, t, n, r) {
					n !== r && i(t)
				}) : t(u ? "235" : "236"), {
					completeWork: function(e, n, r) {
						var u = n.pendingProps;
						switch (null === u ? u = n.memoizedProps : (2147483647 !== n.expirationTime || 2147483647 === r) && (n.pendingProps =
							null), n.tag) {
							case 1:
								return null;
							case 2:
								return Ke(n), null;
							case 3:
								return p(n), Xe(ii, n), Xe(ri, n), u = n.stateNode, u.pendingContext && (u.context = u.pendingContext, u.pendingContext =
									null), (null === e || null === e.child) && (v(n), n.effectTag &= -3), y(n), null;
							case 5:
								f(n), r = h();
								var w = n.type;
								if (null !== e && null != n.stateNode) {
									var S = e.memoizedProps,
										_ = n.stateNode,
										T = d();
									_ = c(_, w, S, u, r, T), b(e, n, _, w, S, u, r), e.ref !== n.ref && (n.effectTag |= 128)
								} else {
									if (!u) return null === n.stateNode ? t("166") : void 0, null;
									if (e = d(), v(n)) g(n, r, e) && i(n);
									else {
										e = o(w, u, r, e, n);
										e: for (S = n.child; null !== S;) {
											if (5 === S.tag || 6 === S.tag) s(e, S.stateNode);
											else if (4 !== S.tag && null !== S.child) {
												S.child["return"] = S, S = S.child;
												continue
											}
											if (S === n) break;
											for (; null === S.sibling;) {
												if (null === S["return"] || S["return"] === n) break e;
												S = S["return"]
											}
											S.sibling["return"] = S["return"], S = S.sibling
										}
										l(e, w, u, r) && i(n), n.stateNode = e
									}
									null !== n.ref && (n.effectTag |= 128)
								}
								return null;
							case 6:
								if (e && null != n.stateNode) x(e, n, e.memoizedProps, u);
								else {
									if ("string" != typeof u) return null === n.stateNode ? t("166") : void 0, null;
									e = h(), r = d(), v(n) ? m(n) && i(n) : n.stateNode = a(u, e, r, n)
								}
								return null;
							case 7:
								(u = n.memoizedProps) ? void 0: t("165"), n.tag = 8, w = [];
								e: for ((S = n.stateNode) && (S["return"] = n); null !== S;) {
									if (5 === S.tag || 6 === S.tag || 4 === S.tag) t("247");
									else if (9 === S.tag) w.push(S.type);
									else if (null !== S.child) {
										S.child["return"] = S, S = S.child;
										continue
									}
									for (; null === S.sibling;) {
										if (null === S["return"] || S["return"] === n) break e;
										S = S["return"]
									}
									S.sibling["return"] = S["return"], S = S.sibling
								}
								return S = u.handler, u = S(u.props, w), n.child = vi(n, null !== e ? e.child : null, u, r), n.child;
							case 8:
								return n.tag = 7, null;
							case 9:
								return null;
							case 10:
								return null;
							case 4:
								return p(n), y(n), null;
							case 0:
								t("167");
							default:
								t("156")
						}
					}
				}
			},
			wi = function(e, n) {
				function r(e) {
					var t = e.ref;
					if (null !== t) try {
						t(null)
					} catch (r) {
						n(e, r)
					}
				}

				function i(e) {
					switch ("function" == typeof ht && ht(e), e.tag) {
						case 2:
							r(e);
							var t = e.stateNode;
							if ("function" == typeof t.componentWillUnmount) try {
								t.props = e.memoizedProps, t.state = e.memoizedState, t.componentWillUnmount()
							} catch (i) {
								n(e, i)
							}
							break;
						case 5:
							r(e);
							break;
						case 7:
							o(e.stateNode);
							break;
						case 4:
							c && s(e)
					}
				}

				function o(e) {
					for (var t = e;;)
						if (i(t), null === t.child || c && 4 === t.tag) {
							if (t === e) break;
							for (; null === t.sibling;) {
								if (null === t["return"] || t["return"] === e) return;
								t = t["return"]
							}
							t.sibling["return"] = t["return"], t = t.sibling
						} else t.child["return"] = t, t = t.child
				}

				function a(e) {
					return 5 === e.tag || 3 === e.tag || 4 === e.tag
				}

				function s(e) {
					for (var n = e, r = !1, a = void 0, s = void 0;;) {
						if (!r) {
							r = n["return"];
							e: for (;;) {
								switch (null === r ? t("160") : void 0, r.tag) {
									case 5:
										a = r.stateNode, s = !1;
										break e;
									case 3:
										a = r.stateNode.containerInfo, s = !0;
										break e;
									case 4:
										a = r.stateNode.containerInfo, s = !0;
										break e
								}
								r = r["return"]
							}
							r = !0
						}
						if (5 === n.tag || 6 === n.tag) o(n), s ? b(a, n.stateNode) : y(a, n.stateNode);
						else if (4 === n.tag ? a = n.stateNode.containerInfo : i(n), null !== n.child) {
							n.child["return"] = n, n = n.child;
							continue
						}
						if (n === e) break;
						for (; null === n.sibling;) {
							if (null === n["return"] || n["return"] === e) return;
							n = n["return"], 4 === n.tag && (r = !1)
						}
						n.sibling["return"] = n["return"], n = n.sibling
					}
				}
				var l = e.getPublicInstance,
					c = e.mutation;
				e = e.persistence, c || t(e ? "235" : "236");
				var u = c.commitMount,
					h = c.commitUpdate,
					f = c.resetTextContent,
					d = c.commitTextUpdate,
					p = c.appendChild,
					g = c.appendChildToContainer,
					m = c.insertBefore,
					v = c.insertInContainerBefore,
					y = c.removeChild,
					b = c.removeChildFromContainer;
				return {
					commitResetTextContent: function(e) {
						f(e.stateNode)
					},
					commitPlacement: function(e) {
						e: {
							for (var n = e["return"]; null !== n;) {
								if (a(n)) {
									var r = n;
									break e
								}
								n = n["return"]
							}
							t("160"),
							r = void 0
						}
						var i = n = void 0;
						switch (r.tag) {
							case 5:
								n = r.stateNode, i = !1;
								break;
							case 3:
								n = r.stateNode.containerInfo, i = !0;
								break;
							case 4:
								n = r.stateNode.containerInfo, i = !0;
								break;
							default:
								t("161")
						}
						16 & r.effectTag && (f(n), r.effectTag &= -17);e: t: for (r = e;;) {
							for (; null === r.sibling;) {
								if (null === r["return"] || a(r["return"])) {
									r = null;
									break e
								}
								r = r["return"]
							}
							for (r.sibling["return"] = r["return"], r = r.sibling; 5 !== r.tag && 6 !== r.tag;) {
								if (2 & r.effectTag) continue t;
								if (null === r.child || 4 === r.tag) continue t;
								r.child["return"] = r, r = r.child
							}
							if (!(2 & r.effectTag)) {
								r = r.stateNode;
								break e
							}
						}
						for (var o = e;;) {
							if (5 === o.tag || 6 === o.tag) r ? i ? v(n, o.stateNode, r) : m(n, o.stateNode, r) : i ? g(n, o.stateNode) :
								p(n, o.stateNode);
							else if (4 !== o.tag && null !== o.child) {
								o.child["return"] = o, o = o.child;
								continue
							}
							if (o === e) break;
							for (; null === o.sibling;) {
								if (null === o["return"] || o["return"] === e) return;
								o = o["return"]
							}
							o.sibling["return"] = o["return"], o = o.sibling
						}
					},
					commitDeletion: function(e) {
						s(e), e["return"] = null, e.child = null, e.alternate && (e.alternate.child = null, e.alternate["return"] =
							null)
					},
					commitWork: function(e, n) {
						switch (n.tag) {
							case 2:
								break;
							case 5:
								var r = n.stateNode;
								if (null != r) {
									var i = n.memoizedProps;
									e = null !== e ? e.memoizedProps : i;
									var o = n.type,
										a = n.updateQueue;
									n.updateQueue = null, null !== a && h(r, a, o, e, i, n)
								}
								break;
							case 6:
								null === n.stateNode ? t("162") : void 0, r = n.memoizedProps, d(n.stateNode, null !== e ? e.memoizedProps :
									r, r);
								break;
							case 3:
								break;
							default:
								t("163")
						}
					},
					commitLifeCycles: function(e, n) {
						switch (n.tag) {
							case 2:
								var r = n.stateNode;
								if (4 & n.effectTag)
									if (null === e) r.props = n.memoizedProps, r.state = n.memoizedState, r.componentDidMount();
									else {
										var i = e.memoizedProps;
										e = e.memoizedState, r.props = n.memoizedProps, r.state = n.memoizedState, r.componentDidUpdate(i, e)
									} n = n.updateQueue, null !== n && vt(n, r);
								break;
							case 3:
								r = n.updateQueue, null !== r && vt(r, null !== n.child ? n.child.stateNode : null);
								break;
							case 5:
								r = n.stateNode, null === e && 4 & n.effectTag && u(r, n.type, n.memoizedProps, n);
								break;
							case 6:
								break;
							case 4:
								break;
							default:
								t("163")
						}
					},
					commitAttachRef: function(e) {
						var t = e.ref;
						if (null !== t) {
							var n = e.stateNode;
							switch (e.tag) {
								case 5:
									t(l(n));
									break;
								default:
									t(n)
							}
						}
					},
					commitDetachRef: function(e) {
						e = e.ref, null !== e && e(null)
					}
				}
			},
			Si = {},
			_i = function(e) {
				function n(e) {
					return e === Si ? t("174") : void 0, e
				}
				var r = e.getChildHostContext,
					i = e.getRootHostContext,
					o = {
						current: Si
					},
					a = {
						current: Si
					},
					s = {
						current: Si
					};
				return {
					getHostContext: function() {
						return n(o.current)
					},
					getRootHostContainer: function() {
						return n(s.current)
					},
					popHostContainer: function(e) {
						Xe(o, e), Xe(a, e), Xe(s, e)
					},
					popHostContext: function(e) {
						a.current === e && (Xe(o, e), Xe(a, e))
					},
					pushHostContainer: function(e, t) {
						We(s, t, e), t = i(t), We(a, e, e), We(o, t, e)
					},
					pushHostContext: function(e) {
						var t = n(s.current),
							i = n(o.current);
						t = r(i, e.type, t), i !== t && (We(a, e, e), We(o, t, e))
					},
					resetHostContainer: function() {
						o.current = Si, s.current = Si
					}
				}
			},
			Ti = function(e) {
				function n(e, t) {
					var n = new et(5, null, 0);
					n.type = "DELETED", n.stateNode = t, n["return"] = e, n.effectTag = 8, null !== e.lastEffect ? (e.lastEffect.nextEffect =
						n, e.lastEffect = n) : e.firstEffect = e.lastEffect = n
				}

				function r(e, t) {
					switch (e.tag) {
						case 5:
							return t = a(t, e.type, e.pendingProps), null !== t ? (e.stateNode = t, !0) : !1;
						case 6:
							return t = s(t, e.pendingProps), null !== t ? (e.stateNode = t, !0) : !1;
						default:
							return !1
					}
				}

				function i(e) {
					for (e = e["return"]; null !== e && 5 !== e.tag && 3 !== e.tag;) e = e["return"];
					f = e
				}
				var o = e.shouldSetTextContent;
				if (e = e.hydration, !e) return {
					enterHydrationState: function() {
						return !1
					},
					resetHydrationState: function() {},
					tryToClaimNextHydratableInstance: function() {},
					prepareToHydrateHostInstance: function() {
						t("175")
					},
					prepareToHydrateHostTextInstance: function() {
						t("176")
					},
					popHydrationState: function(e) {
						return !1
					}
				};
				var a = e.canHydrateInstance,
					s = e.canHydrateTextInstance,
					l = e.getNextHydratableSibling,
					c = e.getFirstHydratableChild,
					u = e.hydrateInstance,
					h = e.hydrateTextInstance,
					f = null,
					d = null,
					p = !1;
				return {
					enterHydrationState: function(e) {
						return d = c(e.stateNode.containerInfo), f = e, p = !0
					},
					resetHydrationState: function() {
						d = f = null, p = !1
					},
					tryToClaimNextHydratableInstance: function(e) {
						if (p) {
							var t = d;
							if (t) {
								if (!r(e, t)) {
									if (t = l(t), !t || !r(e, t)) return e.effectTag |= 2, p = !1, void(f = e);
									n(f, d)
								}
								f = e, d = c(t)
							} else e.effectTag |= 2, p = !1, f = e
						}
					},
					prepareToHydrateHostInstance: function(e, t, n) {
						return t = u(e.stateNode, e.type, e.memoizedProps, t, n, e), e.updateQueue = t, null !== t ? !0 : !1
					},
					prepareToHydrateHostTextInstance: function(e) {
						return h(e.stateNode, e.memoizedProps, e)
					},
					popHydrationState: function(e) {
						if (e !== f) return !1;
						if (!p) return i(e), p = !0, !1;
						var t = e.type;
						if (5 !== e.tag || "head" !== t && "body" !== t && !o(t, e.memoizedProps))
							for (t = d; t;) n(e, t), t = l(t);
						return i(e), d = f ? l(e.stateNode) : null, !0
					}
				}
			},
			Ci = function(e) {
				function n(e) {
					oe = K = !0;
					var n = e.stateNode;
					if (n.current === e ? t("177") : void 0, n.isReadyForCommit = !1, Cr.current = null, 1 < e.effectTag)
						if (null !== e.lastEffect) {
							e.lastEffect.nextEffect = e;
							var r = e.firstEffect
						} else r = e;
					else r = e.firstEffect;
					for (X(), J = r; null !== J;) {
						var i = !1,
							o = void 0;
						try {
							for (; null !== J;) {
								var a = J.effectTag;
								if (16 & a && M(J), 128 & a) {
									var s = J.alternate;
									null !== s && B(s)
								}
								switch (-242 & a) {
									case 2:
										L(J), J.effectTag &= -3;
										break;
									case 6:
										L(J), J.effectTag &= -3, F(J.alternate, J);
										break;
									case 4:
										F(J.alternate, J);
										break;
									case 8:
										ae = !0, P(J), ae = !1
								}
								J = J.nextEffect
							}
						} catch (c) {
							i = !0, o = c
						}
						i && (null === J ? t("178") : void 0, l(J, o), null !== J && (J = J.nextEffect))
					}
					for (W(), n.current = e, J = r; null !== J;) {
						r = !1, i = void 0;
						try {
							for (; null !== J;) {
								var u = J.effectTag;
								if (36 & u && U(J.alternate, J), 128 & u && j(J), 64 & u) switch (o = J, a = void 0, null !== ee && (a = ee.get(
										o), ee["delete"](o), null == a && null !== o.alternate && (o = o.alternate, a = ee.get(o), ee["delete"](o))),
									null == a ? t("184") : void 0, o.tag) {
									case 2:
										o.stateNode.componentDidCatch(a.error, {
											componentStack: a.componentStack
										});
										break;
									case 3:
										null === re && (re = a.error);
										break;
									default:
										t("157")
								}
								var h = J.nextEffect;
								J.nextEffect = null, J = h
							}
						} catch (c) {
							r = !0, i = c
						}
						r && (null === J ? t("178") : void 0, l(J, i), null !== J && (J = J.nextEffect))
					}
					return K = oe = !1, "function" == typeof ut && ut(e.stateNode), ne && (ne.forEach(g), ne = null), null !== re &&
						(e = re, re = null, _(e)), n = n.current.expirationTime, 0 === n && (te = ee = null), n
				}

				function r(e) {
					for (;;) {
						var t = I(e.alternate, e, Q),
							n = e["return"],
							r = e.sibling,
							i = e;
						if (2147483647 === Q || 2147483647 !== i.expirationTime) {
							if (2 !== i.tag && 3 !== i.tag) var o = 0;
							else o = i.updateQueue, o = null === o ? 0 : o.expirationTime;
							for (var a = i.child; null !== a;) 0 !== a.expirationTime && (0 === o || o > a.expirationTime) && (o = a.expirationTime),
								a = a.sibling;
							i.expirationTime = o
						}
						if (null !== t) return t;
						if (null !== n && (null === n.firstEffect && (n.firstEffect = e.firstEffect), null !== e.lastEffect && (null !==
								n.lastEffect && (n.lastEffect.nextEffect = e.firstEffect), n.lastEffect = e.lastEffect), 1 < e.effectTag && (
								null !== n.lastEffect ? n.lastEffect.nextEffect = e : n.firstEffect = e, n.lastEffect = e)), null !== r) return r;
						if (null === n) {
							e.stateNode.isReadyForCommit = !0;
							break
						}
						e = n
					}
					return null
				}

				function i(e) {
					var t = D(e.alternate, e, Q);
					return null === t && (t = r(e)), Cr.current = null, t
				}

				function o(e) {
					var t = A(e.alternate, e, Q);
					return null === t && (t = r(e)), Cr.current = null, t
				}

				function a(e) {
					if (null !== ee) {
						if (!(0 === Q || Q > e))
							if (q >= Q)
								for (; null !== $;) $ = c($) ? o($) : i($);
							else
								for (; null !== $ && !S();) $ = c($) ? o($) : i($)
					} else if (!(0 === Q || Q > e))
						if (q >= Q)
							for (; null !== $;) $ = i($);
						else
							for (; null !== $ && !S();) $ = i($)
				}

				function s(e, n) {
					if (K ? t("243") : void 0, K = !0, e.isReadyForCommit = !1, e !== Z || n !== Q || null === $) {
						for (; ni > -1;) ti[ni] = null, ni--;
						oi = ei, ri.current = ei, ii.current = !1, k(), Z = e, Q = n, $ = tt(Z.current, null, n)
					}
					var r = !1,
						i = null;
					try {
						a(n)
					} catch (s) {
						r = !0, i = s
					}
					for (; r;) {
						if (ie) {
							re = i;
							break
						}
						var c = $;
						if (null === c) ie = !0;
						else {
							var u = l(c, i);
							if (null === u ? t("183") : void 0, !ie) {
								try {
									for (r = u, i = n, u = r; null !== c;) {
										switch (c.tag) {
											case 2:
												Ke(c);
												break;
											case 5:
												O(c);
												break;
											case 3:
												E(c);
												break;
											case 4:
												E(c)
										}
										if (c === u || c.alternate === u) break;
										c = c["return"]
									}
									$ = o(r), a(i)
								} catch (s) {
									r = !0, i = s;
									continue
								}
								break
							}
						}
					}
					return n = re, ie = K = !1, re = null, null !== n && _(n), e.isReadyForCommit ? e.current.alternate : null
				}

				function l(e, t) {
					var n = Cr.current = null,
						r = !1,
						i = !1,
						o = null;
					if (3 === e.tag) n = e, u(e) && (ie = !0);
					else
						for (var a = e["return"]; null !== a && null === n;) {
							if (2 === a.tag ? "function" == typeof a.stateNode.componentDidCatch && (r = !0, o = pe(a), n = a, i = !0) : 3 ===
								a.tag && (n = a), u(a)) {
								if (ae || null !== ne && (ne.has(a) || null !== a.alternate && ne.has(a.alternate))) return null;
								n = null, i = !1
							}
							a = a["return"]
						}
					if (null !== n) {
						null === te && (te = new Set), te.add(n);
						var s = "";
						a = e;
						do {
							e: switch (a.tag) {
								case 0:
								case 1:
								case 2:
								case 5:
									var l = a._debugOwner,
										c = a._debugSource,
										h = pe(a),
										f = null;
									l && (f = pe(l)), l = c, h = "\n    in " + (h || "Unknown") + (l ? " (at " + l.fileName.replace(/^.*[\\\/]/,
										"") + ":" + l.lineNumber + ")" : f ? " (created by " + f + ")" : "");
									break e;
								default:
									h = ""
							}
							s += h,
							a = a["return"]
						} while (a);
						a = s, e = pe(e), null === ee && (ee = new Map), t = {
							componentName: e,
							componentStack: a,
							error: t,
							errorBoundary: r ? n.stateNode : null,
							errorBoundaryFound: r,
							errorBoundaryName: o,
							willRetry: i
						}, ee.set(n, t);
						try {
							var d = t.error;
							d && d.suppressReactErrorLogging || console.error(d)
						} catch (p) {
							p && p.suppressReactErrorLogging || console.error(p)
						}
						return oe ? (null === ne && (ne = new Set), ne.add(n)) : g(n), n
					}
					return null === re && (re = t), null
				}

				function c(e) {
					return null !== ee && (ee.has(e) || null !== e.alternate && ee.has(e.alternate))
				}

				function u(e) {
					return null !== te && (te.has(e) || null !== e.alternate && te.has(e.alternate))
				}

				function h() {
					return 20 * (((m() + 100) / 20 | 0) + 1)
				}

				function f(e) {
					return 0 !== V ? V : K ? oe ? 1 : Q : !G || 1 & e.internalContextTag ? h() : 1
				}

				function d(e, t) {
					return p(e, t, !1)
				}

				function p(e, n, r) {
					for (; null !== e;) {
						if ((0 === e.expirationTime || e.expirationTime > n) && (e.expirationTime = n), null !== e.alternate && (0 ===
								e.alternate.expirationTime || e.alternate.expirationTime > n) && (e.alternate.expirationTime = n), null === e[
								"return"]) {
							if (3 !== e.tag) break;
							r = e.stateNode, !K && r === Z && Q > n && ($ = Z = null, Q = 0);
							var i = r,
								o = n;
							if (Se > we && t("185"), null === i.nextScheduledRoot) i.remainingExpirationTime = o, null === le ? (se = le =
								i, i.nextScheduledRoot = i) : (le = le.nextScheduledRoot = i, le.nextScheduledRoot = se);
							else {
								var a = i.remainingExpirationTime;
								(0 === a || a > o) && (i.remainingExpirationTime = o)
							}
							he || (be ? xe && (fe = i, de = 1, w(fe, de)) : 1 === o ? x(1, null) : v(o)), !K && r === Z && Q > n && ($ = Z =
								null, Q = 0)
						}
						e = e["return"]
					}
				}

				function g(e) {
					p(e, 1, !0)
				}

				function m() {
					return q = ((N() - Y) / 10 | 0) + 2
				}

				function v(e) {
					if (0 !== ce) {
						if (e > ce) return;
						H(ue)
					}
					var t = N() - Y;
					ce = e, ue = z(b, {
						timeout: 10 * (e - 2) - t
					})
				}

				function y() {
					var e = 0,
						n = null;
					if (null !== le)
						for (var r = le, i = se; null !== i;) {
							var o = i.remainingExpirationTime;
							if (0 === o) {
								if (null === r || null === le ? t("244") : void 0, i === i.nextScheduledRoot) {
									se = le = i.nextScheduledRoot = null;
									break
								}
								if (i === se) se = o = i.nextScheduledRoot, le.nextScheduledRoot = o, i.nextScheduledRoot = null;
								else {
									if (i === le) {
										le = r, le.nextScheduledRoot = se, i.nextScheduledRoot = null;
										break
									}
									r.nextScheduledRoot = i.nextScheduledRoot, i.nextScheduledRoot = null
								}
								i = r.nextScheduledRoot
							} else {
								if ((0 === e || e > o) && (e = o, n = i), i === le) break;
								r = i, i = i.nextScheduledRoot
							}
						}
					r = fe, null !== r && r === n ? Se++ : Se = 0, fe = n, de = e
				}

				function b(e) {
					x(0, e)
				}

				function x(e, t) {
					for (ye = t, y(); null !== fe && 0 !== de && (0 === e || e >= de) && !ge;) w(fe, de), y();
					if (null !== ye && (ce = 0, ue = -1), 0 !== de && v(de), ye = null, ge = !1, Se = 0, me) throw e = ve, ve = null,
						me = !1, e
				}

				function w(e, r) {
					if (he ? t("245") : void 0, he = !0, r <= m()) {
						var i = e.finishedWork;
						null !== i ? (e.finishedWork = null, e.remainingExpirationTime = n(i)) : (e.finishedWork = null, i = s(e, r),
							null !== i && (e.remainingExpirationTime = n(i)))
					} else i = e.finishedWork, null !== i ? (e.finishedWork = null, e.remainingExpirationTime = n(i)) : (e.finishedWork =
						null, i = s(e, r), null !== i && (S() ? e.finishedWork = i : e.remainingExpirationTime = n(i)));
					he = !1
				}

				function S() {
					return null === ye || ye.timeRemaining() > _e ? !1 : ge = !0
				}

				function _(e) {
					null === fe ? t("246") : void 0, fe.remainingExpirationTime = 0, me || (me = !0, ve = e)
				}
				var T = _i(e),
					C = Ti(e),
					E = T.popHostContainer,
					O = T.popHostContext,
					k = T.resetHostContainer,
					R = bi(e, T, C, d, f),
					D = R.beginWork,
					A = R.beginFailedWork,
					I = xi(e, T, C).completeWork;
				T = wi(e, l);
				var M = T.commitResetTextContent,
					L = T.commitPlacement,
					P = T.commitDeletion,
					F = T.commitWork,
					U = T.commitLifeCycles,
					j = T.commitAttachRef,
					B = T.commitDetachRef,
					N = e.now,
					z = e.scheduleDeferredCallback,
					H = e.cancelDeferredCallback,
					G = e.useSyncScheduling,
					X = e.prepareForCommit,
					W = e.resetAfterCommit,
					Y = N(),
					q = 2,
					V = 0,
					K = !1,
					$ = null,
					Z = null,
					Q = 0,
					J = null,
					ee = null,
					te = null,
					ne = null,
					re = null,
					ie = !1,
					oe = !1,
					ae = !1,
					se = null,
					le = null,
					ce = 0,
					ue = -1,
					he = !1,
					fe = null,
					de = 0,
					ge = !1,
					me = !1,
					ve = null,
					ye = null,
					be = !1,
					xe = !1,
					we = 1e3,
					Se = 0,
					_e = 1;
				return {
					computeAsyncExpiration: h,
					computeExpirationForFiber: f,
					scheduleWork: d,
					batchedUpdates: function(e, t) {
						var n = be;
						be = !0;
						try {
							return e(t)
						} finally {
							(be = n) || he || x(1, null)
						}
					},
					unbatchedUpdates: function(e) {
						if (be && !xe) {
							xe = !0;
							try {
								return e()
							} finally {
								xe = !1
							}
						}
						return e()
					},
					flushSync: function(e) {
						var n = be;
						be = !0;
						try {
							e: {
								var r = V;V = 1;
								try {
									var i = e();
									break e
								} finally {
									V = r
								}
								i = void 0
							}
							return i
						}
						finally {
							be = n, he ? t("187") : void 0, x(1, null)
						}
					},
					deferredUpdates: function(e) {
						var t = V;
						V = h();
						try {
							return e()
						} finally {
							V = t
						}
					}
				}
			},
			Ei = function(e) {
				function n(e) {
					return e = be(e), null === e ? null : e.stateNode
				}
				var r = e.getPublicInstance;
				e = Ci(e);
				var i = e.computeAsyncExpiration,
					o = e.computeExpirationForFiber,
					a = e.scheduleWork;
				return {
					createContainer: function(e, t) {
						var n = new et(3, null, 0);
						return e = {
							current: n,
							containerInfo: e,
							pendingChildren: null,
							remainingExpirationTime: 0,
							isReadyForCommit: !1,
							finishedWork: null,
							context: null,
							pendingContext: null,
							hydrate: t,
							nextScheduledRoot: null
						}, n.stateNode = e
					},
					updateContainer: function(e, n, r, s) {
						var l = n.current;
						if (r) {
							r = r._reactInternalFiber;
							var c;
							e: {
								for (2 === ge(r) && 2 === r.tag ? void 0 : t("170"), c = r; 3 !== c.tag;) {
									if (Ve(c)) {
										c = c.stateNode.__reactInternalMemoizedMergedChildContext;
										break e
									}(c = c["return"]) ? void 0: t("171")
								}
								c = c.stateNode.context
							}
							r = Ve(r) ? Ze(r, c) : c
						} else r = ei;
						null === n.context ? n.context = r : n.pendingContext = r, n = s, n = void 0 === n ? null : n, s = null != e &&
							null != e.type && null != e.type.prototype && !0 === e.type.prototype.unstable_isAsyncReactComponent ? i() : o(
								l), pt(l, {
								expirationTime: s,
								partialState: {
									element: e
								},
								callback: n,
								isReplace: !1,
								isForced: !1,
								nextCallback: null,
								next: null
							}), a(l, s)
					},
					batchedUpdates: e.batchedUpdates,
					unbatchedUpdates: e.unbatchedUpdates,
					deferredUpdates: e.deferredUpdates,
					flushSync: e.flushSync,
					getPublicRootInstance: function(e) {
						if (e = e.current, !e.child) return null;
						switch (e.child.tag) {
							case 5:
								return r(e.child.stateNode);
							default:
								return e.child.stateNode
						}
					},
					findHostInstance: n,
					findHostInstanceWithNoPortals: function(e) {
						return e = xe(e), null === e ? null : e.stateNode
					},
					injectIntoDevTools: function(e) {
						var t = e.findFiberByHostInstance;
						return ct(Kn({}, e, {
							findHostInstanceByFiber: function(e) {
								return n(e)
							},
							findFiberByHostInstance: function(e) {
								return t ? t(e) : null
							}
						}))
					}
				}
			},
			Oi = Object.freeze({
				"default": Ei
			}),
			ki = Oi && Ei || Oi,
			Ri = ki["default"] ? ki["default"] : ki,
			Di = "object" == typeof performance && "function" == typeof performance.now,
			Ai = void 0;
		Ai = Di ? function() {
			return performance.now()
		} : function() {
			return Date.now()
		};
		var Ii = void 0,
			Mi = void 0;
		if (Yn.canUseDOM)
			if ("function" != typeof requestIdleCallback || "function" != typeof cancelIdleCallback) {
				var Li = null,
					Pi = !1,
					Fi = -1,
					Ui = !1,
					ji = 0,
					Bi = 33,
					Ni = 33,
					zi = Di ? {
						didTimeout: !1,
						timeRemaining: function() {
							var e = ji - performance.now();
							return e > 0 ? e : 0
						}
					} : {
						didTimeout: !1,
						timeRemaining: function() {
							var e = ji - Date.now();
							return e > 0 ? e : 0
						}
					},
					Hi = "__reactIdleCallback$" + Math.random().toString(36).slice(2);
				window.addEventListener("message", function(e) {
					if (e.source === window && e.data === Hi) {
						if (Pi = !1, e = Ai(), 0 >= ji - e) {
							if (!(-1 !== Fi && e >= Fi)) return void(Ui || (Ui = !0, requestAnimationFrame(Gi)));
							zi.didTimeout = !0
						} else zi.didTimeout = !1;
						Fi = -1, e = Li, Li = null, null !== e && e(zi)
					}
				}, !1);
				var Gi = function(e) {
					Ui = !1;
					var t = e - ji + Ni;
					Ni > t && Ni > Bi ? (8 > t && (t = 8), Ni = Bi > t ? Bi : t) : Bi = t, ji = e + Ni, Pi || (Pi = !0, window.postMessage(
						Hi, "*"))
				};
				Ii = function(e, t) {
					return Li = e, null != t && "number" == typeof t.timeout && (Fi = Ai() + t.timeout), Ui || (Ui = !0,
						requestAnimationFrame(Gi)), 0
				}, Mi = function() {
					Li = null, Pi = !1, Fi = -1
				}
			} else Ii = window.requestIdleCallback, Mi = window.cancelIdleCallback;
		else Ii = function(e) {
			return setTimeout(function() {
				e({
					timeRemaining: function() {
						return 1 / 0
					}
				})
			})
		}, Mi = function(e) {
			clearTimeout(e)
		};
		var Xi =
			/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,
			Wi = {},
			Yi = {},
			qi = void 0,
			Vi = function(e) {
				return "undefined" != typeof MSApp && MSApp.execUnsafeLocalFunction ? function(t, n, r, i) {
					MSApp.execUnsafeLocalFunction(function() {
						return e(t, n, r, i)
					})
				} : e
			}(function(e, t) {
				if ("http://www.w3.org/2000/svg" !== e.namespaceURI || "innerHTML" in e) e.innerHTML = t;
				else {
					for (qi = qi || document.createElement("div"), qi.innerHTML = "<svg>" + t + "</svg>", t = qi.firstChild; e.firstChild;)
						e.removeChild(e.firstChild);
					for (; t.firstChild;) e.appendChild(t.firstChild)
				}
			}),
			Ki = function(e, t) {
				if (t) {
					var n = e.firstChild;
					if (n && n === e.lastChild && 3 === n.nodeType) return void(n.nodeValue = t)
				}
				e.textContent = t
			},
			$i = {
				animationIterationCount: !0,
				borderImageOutset: !0,
				borderImageSlice: !0,
				borderImageWidth: !0,
				boxFlex: !0,
				boxFlexGroup: !0,
				boxOrdinalGroup: !0,
				columnCount: !0,
				columns: !0,
				flex: !0,
				flexGrow: !0,
				flexPositive: !0,
				flexShrink: !0,
				flexNegative: !0,
				flexOrder: !0,
				gridRow: !0,
				gridRowEnd: !0,
				gridRowSpan: !0,
				gridRowStart: !0,
				gridColumn: !0,
				gridColumnEnd: !0,
				gridColumnSpan: !0,
				gridColumnStart: !0,
				fontWeight: !0,
				lineClamp: !0,
				lineHeight: !0,
				opacity: !0,
				order: !0,
				orphans: !0,
				tabSize: !0,
				widows: !0,
				zIndex: !0,
				zoom: !0,
				fillOpacity: !0,
				floodOpacity: !0,
				stopOpacity: !0,
				strokeDasharray: !0,
				strokeDashoffset: !0,
				strokeMiterlimit: !0,
				strokeOpacity: !0,
				strokeWidth: !0
			},
			Zi = ["Webkit", "ms", "Moz", "O"];
		Object.keys($i).forEach(function(e) {
			Zi.forEach(function(t) {
				t = t + e.charAt(0).toUpperCase() + e.substring(1), $i[t] = $i[e]
			})
		});
		var Qi = Kn({
				menuitem: !0
			}, {
				area: !0,
				base: !0,
				br: !0,
				col: !0,
				embed: !0,
				hr: !0,
				img: !0,
				input: !0,
				keygen: !0,
				link: !0,
				meta: !0,
				param: !0,
				source: !0,
				track: !0,
				wbr: !0
			}),
			Ji = Dn.thatReturns(""),
			eo = {
				topAbort: "abort",
				topCanPlay: "canplay",
				topCanPlayThrough: "canplaythrough",
				topDurationChange: "durationchange",
				topEmptied: "emptied",
				topEncrypted: "encrypted",
				topEnded: "ended",
				topError: "error",
				topLoadedData: "loadeddata",
				topLoadedMetadata: "loadedmetadata",
				topLoadStart: "loadstart",
				topPause: "pause",
				topPlay: "play",
				topPlaying: "playing",
				topProgress: "progress",
				topRateChange: "ratechange",
				topSeeked: "seeked",
				topSeeking: "seeking",
				topStalled: "stalled",
				topSuspend: "suspend",
				topTimeUpdate: "timeupdate",
				topVolumeChange: "volumechange",
				topWaiting: "waiting"
			},
			to = Object.freeze({
				createElement: Wt,
				createTextNode: Yt,
				setInitialProperties: qt,
				diffProperties: Vt,
				updateProperties: Kt,
				diffHydratedProperties: $t,
				diffHydratedText: Zt,
				warnForUnmatchedText: function(e, t) {},
				warnForDeletedHydratableElement: function(e, t) {},
				warnForDeletedHydratableText: function(e, t) {},
				warnForInsertedHydratedElement: function(e, t, n) {},
				warnForInsertedHydratedText: function(e, t) {},
				restoreControlledState: function(e, n, r) {
					switch (n) {
						case "input":
							if (Dt(e, r), n = r.name, "radio" === r.type && null != n) {
								for (r = e; r.parentNode;) r = r.parentNode;
								for (r = r.querySelectorAll("input[name=" + JSON.stringify("" + n) + '][type="radio"]'), n = 0; n < r.length; n++) {
									var i = r[n];
									if (i !== e && i.form === e.form) {
										var o = b(i);
										o ? void 0 : t("90"), J(i), Dt(i, o)
									}
								}
							}
							break;
						case "textarea":
							jt(e, r);
							break;
						case "select":
							n = r.value, null != n && Lt(e, !!r.multiple, n, !1)
					}
				}
			});
		fr.injectFiberControlledHostComponent(to);
		var no = null,
			ro = null,
			io = Ri({
				getRootHostContext: function(e) {
					var t = e.nodeType;
					switch (t) {
						case 9:
						case 11:
							e = (e = e.documentElement) ? e.namespaceURI : Nt(null, "");
							break;
						default:
							t = 8 === t ? e.parentNode : e, e = t.namespaceURI || null, t = t.tagName, e = Nt(e, t)
					}
					return e
				},
				getChildHostContext: function(e, t) {
					return Nt(e, t)
				},
				getPublicInstance: function(e) {
					return e
				},
				prepareForCommit: function() {
					no = kr;
					var e = jr();
					if (Me(e)) {
						if ("selectionStart" in e) var t = {
							start: e.selectionStart,
							end: e.selectionEnd
						};
						else e: {
							var n = window.getSelection && window.getSelection();
							if (n && 0 !== n.rangeCount) {
								t = n.anchorNode;
								var r = n.anchorOffset,
									i = n.focusNode;
								n = n.focusOffset;
								try {
									t.nodeType, i.nodeType
								} catch (o) {
									t = null;
									break e
								}
								var a = 0,
									s = -1,
									l = -1,
									c = 0,
									u = 0,
									h = e,
									f = null;
								t: for (;;) {
									for (var d; h !== t || 0 !== r && 3 !== h.nodeType || (s = a + r), h !== i || 0 !== n && 3 !== h.nodeType ||
										(l = a + n), 3 === h.nodeType && (a += h.nodeValue.length), null !== (d = h.firstChild);) f = h, h = d;
									for (;;) {
										if (h === e) break t;
										if (f === t && ++c === r && (s = a), f === i && ++u === n && (l = a), null !== (d = h.nextSibling)) break;
										h = f, f = h.parentNode
									}
									h = d
								}
								t = -1 === s || -1 === l ? null : {
									start: s,
									end: l
								}
							} else t = null
						}
						t = t || {
							start: 0,
							end: 0
						}
					} else t = null;
					ro = {
						focusedElem: e,
						selectionRange: t
					}, Se(!1)
				},
				resetAfterCommit: function() {
					var e = ro,
						t = jr(),
						n = e.focusedElem,
						r = e.selectionRange;
					if (t !== n && De(document.documentElement, n)) {
						if (Me(n))
							if (t = r.start, e = r.end, void 0 === e && (e = t), "selectionStart" in n) n.selectionStart = t, n.selectionEnd =
								Math.min(e, n.value.length);
							else if (window.getSelection) {
							t = window.getSelection();
							var i = n[R()].length;
							e = Math.min(r.start, i), r = void 0 === r.end ? e : Math.min(r.end, i), !t.extend && e > r && (i = r, r = e,
								e = i), i = Ie(n, e);
							var o = Ie(n, r);
							if (i && o && (1 !== t.rangeCount || t.anchorNode !== i.node || t.anchorOffset !== i.offset || t.focusNode !==
									o.node || t.focusOffset !== o.offset)) {
								var a = document.createRange();
								a.setStart(i.node, i.offset), t.removeAllRanges(), e > r ? (t.addRange(a), t.extend(o.node, o.offset)) : (a.setEnd(
									o.node, o.offset), t.addRange(a))
							}
						}
						for (t = [], e = n; e = e.parentNode;) 1 === e.nodeType && t.push({
							element: e,
							left: e.scrollLeft,
							top: e.scrollTop
						});
						try {
							n.focus()
						} catch (s) {}
						for (n = 0; n < t.length; n++) e = t[n], e.element.scrollLeft = e.left, e.element.scrollTop = e.top
					}
					ro = null, Se(no), no = null
				},
				createInstance: function(e, t, n, r, i) {
					return e = Wt(e, t, n, r), e[zn] = i, e[Hn] = t, e
				},
				appendInitialChild: function(e, t) {
					e.appendChild(t)
				},
				finalizeInitialChildren: function(e, t, n, r) {
					qt(e, t, n, r);
					e: {
						switch (t) {
							case "button":
							case "input":
							case "select":
							case "textarea":
								e = !!n.autoFocus;
								break e
						}
						e = !1
					}
					return e
				},
				prepareUpdate: function(e, t, n, r, i, o) {
					return Vt(e, t, n, r, i)
				},
				shouldSetTextContent: function(e, t) {
					return "textarea" === e || "string" == typeof t.children || "number" == typeof t.children || "object" == typeof t
						.dangerouslySetInnerHTML && null !== t.dangerouslySetInnerHTML && "string" == typeof t.dangerouslySetInnerHTML
						.__html
				},
				shouldDeprioritizeSubtree: function(e, t) {
					return !!t.hidden
				},
				createTextInstance: function(e, t, n, r) {
					return e = Yt(e, t), e[zn] = r, e
				},
				now: Ai,
				mutation: {
					commitMount: function(e, t, n, r) {
						e.focus()
					},
					commitUpdate: function(e, t, n, r, i, o) {
						e[Hn] = i, Kt(e, t, n, r, i)
					},
					resetTextContent: function(e) {
						e.textContent = ""
					},
					commitTextUpdate: function(e, t, n) {
						e.nodeValue = n
					},
					appendChild: function(e, t) {
						e.appendChild(t)
					},
					appendChildToContainer: function(e, t) {
						8 === e.nodeType ? e.parentNode.insertBefore(t, e) : e.appendChild(t)
					},
					insertBefore: function(e, t, n) {
						e.insertBefore(t, n)
					},
					insertInContainerBefore: function(e, t, n) {
						8 === e.nodeType ? e.parentNode.insertBefore(t, n) : e.insertBefore(t, n)
					},
					removeChild: function(e, t) {
						e.removeChild(t)
					},
					removeChildFromContainer: function(e, t) {
						8 === e.nodeType ? e.parentNode.removeChild(t) : e.removeChild(t)
					}
				},
				hydration: {
					canHydrateInstance: function(e, t, n) {
						return 1 !== e.nodeType || t.toLowerCase() !== e.nodeName.toLowerCase() ? null : e
					},
					canHydrateTextInstance: function(e, t) {
						return "" === t || 3 !== e.nodeType ? null : e
					},
					getNextHydratableSibling: function(e) {
						for (e = e.nextSibling; e && 1 !== e.nodeType && 3 !== e.nodeType;) e = e.nextSibling;
						return e
					},
					getFirstHydratableChild: function(e) {
						for (e = e.firstChild; e && 1 !== e.nodeType && 3 !== e.nodeType;) e = e.nextSibling;
						return e
					},
					hydrateInstance: function(e, t, n, r, i, o) {
						return e[zn] = o, e[Hn] = n, $t(e, t, n, i, r)
					},
					hydrateTextInstance: function(e, t, n) {
						return e[zn] = n, Zt(e, t)
					},
					didNotMatchHydratedContainerTextInstance: function(e, t, n) {},
					didNotMatchHydratedTextInstance: function(e, t, n, r, i) {},
					didNotHydrateContainerInstance: function(e, t) {},
					didNotHydrateInstance: function(e, t, n, r) {},
					didNotFindHydratableContainerInstance: function(e, t, n) {},
					didNotFindHydratableContainerTextInstance: function(e, t) {},
					didNotFindHydratableInstance: function(e, t, n, r, i) {},
					didNotFindHydratableTextInstance: function(e, t, n, r) {}
				},
				scheduleDeferredCallback: Ii,
				cancelDeferredCallback: Mi,
				useSyncScheduling: !0
			});
		pr = io.batchedUpdates, nn.prototype.render = function(e, t) {
			io.updateContainer(e, this._reactRootContainer, null, t)
		}, nn.prototype.unmount = function(e) {
			io.updateContainer(null, this._reactRootContainer, null, e)
		};
		var oo = {
			createPortal: tn,
			findDOMNode: function(e) {
				if (null == e) return null;
				if (1 === e.nodeType) return e;
				var n = e._reactInternalFiber;
				return n ? io.findHostInstance(n) : void("function" == typeof e.render ? t("188") : t("213", Object.keys(e)))
			},
			hydrate: function(e, t, n) {
				return en(null, e, t, !0, n)
			},
			render: function(e, t, n) {
				return en(null, e, t, !1, n)
			},
			unstable_renderSubtreeIntoContainer: function(e, n, r, i) {
				return null == e || void 0 === e._reactInternalFiber ? t("38") : void 0, en(e, n, r, !1, i)
			},
			unmountComponentAtNode: function(e) {
				return Qt(e) ? void 0 : t("40"), e._reactRootContainer ? (io.unbatchedUpdates(function() {
					en(null, null, e, !1, function() {
						e._reactRootContainer = null
					})
				}), !0) : !1
			},
			unstable_createPortal: tn,
			unstable_batchedUpdates: Y,
			unstable_deferredUpdates: io.deferredUpdates,
			flushSync: io.flushSync,
			__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED: {
				EventPluginHub: Bn,
				EventPluginRegistry: kn,
				EventPropagators: Xn,
				ReactControlledComponent: dr,
				ReactDOMComponentTree: Gn,
				ReactDOMEventListener: Dr
			}
		};
		io.injectIntoDevTools({
			findFiberByHostInstance: v,
			bundleType: 0,
			version: "16.2.0",
			rendererPackageName: "react-dom"
		});
		var ao = Object.freeze({
				"default": oo
			}),
			so = ao && oo || ao;
		return so["default"] ? so["default"] : so
	}), ! function(e, t) {
		"object" == typeof exports && "object" == typeof module ? module.exports = t() : "function" == typeof define &&
			define.amd ? define("history", [], t) : "object" == typeof exports ? exports.History = t() : e.History = t()
	}(this, function() {
		return function(e) {
			function t(r) {
				if (n[r]) return n[r].exports;
				var i = n[r] = {
					exports: {},
					id: r,
					loaded: !1
				};
				return e[r].call(i.exports, i, i.exports, t), i.loaded = !0, i.exports
			}
			var n = {};
			return t.m = e, t.c = n, t.p = "", t(0)
		}([function(e, t, n) {
			"use strict";

			function r(e) {
				return e && e.__esModule ? e : {
					"default": e
				}
			}
			t.__esModule = !0, t.createPath = t.parsePath = t.locationsAreEqual = t.createLocation = t.createMemoryHistory =
				t.createHashHistory = t.createBrowserHistory = void 0;
			var i = n(2);
			Object.defineProperty(t, "createLocation", {
				enumerable: !0,
				get: function() {
					return i.createLocation
				}
			}), Object.defineProperty(t, "locationsAreEqual", {
				enumerable: !0,
				get: function() {
					return i.locationsAreEqual
				}
			});
			var o = n(1);
			Object.defineProperty(t, "parsePath", {
				enumerable: !0,
				get: function() {
					return o.parsePath
				}
			}), Object.defineProperty(t, "createPath", {
				enumerable: !0,
				get: function() {
					return o.createPath
				}
			});
			var a = n(7),
				s = r(a),
				l = n(8),
				c = r(l),
				u = n(9),
				h = r(u);
			t.createBrowserHistory = s["default"], t.createHashHistory = c["default"], t.createMemoryHistory = h["default"]
		}, function(e, t) {
			"use strict";
			t.__esModule = !0;
			var n = (t.addLeadingSlash = function(e) {
				return "/" === e.charAt(0) ? e : "/" + e
			}, t.stripLeadingSlash = function(e) {
				return "/" === e.charAt(0) ? e.substr(1) : e
			}, t.hasBasename = function(e, t) {
				return new RegExp("^" + t + "(\\/|\\?|#|$)", "i").test(e)
			});
			t.stripBasename = function(e, t) {
				return n(e, t) ? e.substr(t.length) : e
			}, t.stripTrailingSlash = function(e) {
				return "/" === e.charAt(e.length - 1) ? e.slice(0, -1) : e
			}, t.parsePath = function(e) {
				var t = e || "/",
					n = "",
					r = "",
					i = t.indexOf("#"); - 1 !== i && (r = t.substr(i), t = t.substr(0, i));
				var o = t.indexOf("?");
				return -1 !== o && (n = t.substr(o), t = t.substr(0, o)), {
					pathname: t,
					search: "?" === n ? "" : n,
					hash: "#" === r ? "" : r
				}
			}, t.createPath = function(e) {
				var t = e.pathname,
					n = e.search,
					r = e.hash,
					i = t || "/";
				return n && "?" !== n && (i += "?" === n.charAt(0) ? n : "?" + n), r && "#" !== r && (i += "#" === r.charAt(0) ?
					r : "#" + r), i
			}
		}, function(e, t, n) {
			"use strict";

			function r(e) {
				return e && e.__esModule ? e : {
					"default": e
				}
			}
			t.__esModule = !0, t.locationsAreEqual = t.createLocation = void 0;
			var i = Object.assign || function(e) {
					for (var t = 1; t < arguments.length; t++) {
						var n = arguments[t];
						for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r])
					}
					return e
				},
				o = n(10),
				a = r(o),
				s = n(11),
				l = r(s),
				c = n(1);
			t.createLocation = function(e, t, n, r) {
				var o = void 0;
				"string" == typeof e ? (o = (0, c.parsePath)(e), o.state = t) : (o = i({}, e), void 0 === o.pathname && (o.pathname =
						""), o.search ? "?" !== o.search.charAt(0) && (o.search = "?" + o.search) : o.search = "", o.hash ? "#" !==
					o.hash.charAt(0) && (o.hash = "#" + o.hash) : o.hash = "", void 0 !== t && void 0 === o.state && (o.state =
						t));
				try {
					o.pathname = decodeURI(o.pathname)
				} catch (e) {
					throw e instanceof URIError ? new URIError('Pathname "' + o.pathname +
						'" could not be decoded. This is likely caused by an invalid percent-encoding.') : e
				}
				return n && (o.key = n), r ? o.pathname ? "/" !== o.pathname.charAt(0) && (o.pathname = (0, a["default"])(o.pathname,
					r.pathname)) : o.pathname = r.pathname : o.pathname || (o.pathname = "/"), o
			}, t.locationsAreEqual = function(e, t) {
				return e.pathname === t.pathname && e.search === t.search && e.hash === t.hash && e.key === t.key && (0, l[
					"default"])(e.state, t.state)
			}
		}, function(e, t, n) {
			"use strict";
			var r = function() {};
			e.exports = r
		}, function(e, t, n) {
			"use strict";

			function r(e) {
				return e && e.__esModule ? e : {
					"default": e
				}
			}
			t.__esModule = !0;
			var i = n(3),
				o = (r(i), function() {
					var e = null,
						t = function(t) {
							return e = t,
								function() {
									e === t && (e = null)
								}
						},
						n = function(t, n, r, i) {
							if (null != e) {
								var o = "function" == typeof e ? e(t, n) : e;
								"string" == typeof o ? "function" == typeof r ? r(o, i) : i(!0) : i(o !== !1)
							} else i(!0)
						},
						r = [],
						i = function(e) {
							var t = !0,
								n = function() {
									t && e.apply(void 0, arguments)
								};
							return r.push(n),
								function() {
									t = !1, r = r.filter(function(e) {
										return e !== n
									})
								}
						},
						o = function() {
							for (var e = arguments.length, t = Array(e), n = 0; e > n; n++) t[n] = arguments[n];
							r.forEach(function(e) {
								return e.apply(void 0, t)
							})
						};
					return {
						setPrompt: t,
						confirmTransitionTo: n,
						appendListener: i,
						notifyListeners: o
					}
				});
			t["default"] = o
		}, function(e, t) {
			"use strict";
			t.__esModule = !0, t.canUseDOM = !("undefined" == typeof window || !window.document || !window.document.createElement),
				t.addEventListener = function(e, t, n) {
					return e.addEventListener ? e.addEventListener(t, n, !1) : e.attachEvent("on" + t, n)
				}, t.removeEventListener = function(e, t, n) {
					return e.removeEventListener ? e.removeEventListener(t, n, !1) : e.detachEvent("on" + t, n)
				}, t.getConfirmation = function(e, t) {
					return t(window.confirm(e))
				}, t.supportsHistory = function() {
					var e = window.navigator.userAgent;
					return (-1 === e.indexOf("Android 2.") && -1 === e.indexOf("Android 4.0") || -1 === e.indexOf("Mobile Safari") ||
						-1 !== e.indexOf("Chrome") || -1 !== e.indexOf("Windows Phone")) && window.history && "pushState" in window.history
				}, t.supportsPopStateOnHashChange = function() {
					return -1 === window.navigator.userAgent.indexOf("Trident")
				}, t.supportsGoWithoutReloadUsingHash = function() {
					return -1 === window.navigator.userAgent.indexOf("Firefox")
				}, t.isExtraneousPopstateEvent = function(e) {
					return void 0 === e.state && -1 === navigator.userAgent.indexOf("CriOS")
				}
		}, function(e, t, n) {
			"use strict";
			var r = function(e, t, n, r, i, o, a, s) {
				if (!e) {
					var l;
					if (void 0 === t) l = new Error(
						"Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings."
					);
					else {
						var c = [n, r, i, o, a, s],
							u = 0;
						l = new Error(t.replace(/%s/g, function() {
							return c[u++]
						})), l.name = "Invariant Violation"
					}
					throw l.framesToPop = 1, l
				}
			};
			e.exports = r
		}, function(e, t, n) {
			"use strict";

			function r(e) {
				return e && e.__esModule ? e : {
					"default": e
				}
			}
			t.__esModule = !0;
			var i = ("function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
					return typeof e
				} : function(e) {
					return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" :
						typeof e
				}, Object.assign || function(e) {
					for (var t = 1; t < arguments.length; t++) {
						var n = arguments[t];
						for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r])
					}
					return e
				}),
				o = n(3),
				a = (r(o), n(6)),
				s = r(a),
				l = n(2),
				c = n(1),
				u = n(4),
				h = r(u),
				f = n(5),
				d = "popstate",
				p = "hashchange",
				g = function() {
					try {
						return window.history.state || {}
					} catch (e) {
						return {}
					}
				},
				m = function() {
					var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
					f.canUseDOM ? void 0 : (0, s["default"])(!1);
					var t = window.history,
						n = (0, f.supportsHistory)(),
						r = !(0, f.supportsPopStateOnHashChange)(),
						o = e.forceRefresh,
						a = void 0 !== o && o,
						u = e.getUserConfirmation,
						m = void 0 === u ? f.getConfirmation : u,
						v = e.keyLength,
						y = void 0 === v ? 6 : v,
						b = e.basename ? (0, c.stripTrailingSlash)((0, c.addLeadingSlash)(e.basename)) : "",
						x = function(e) {
							var t = e || {},
								n = t.key,
								r = t.state,
								i = window.location,
								o = i.pathname,
								a = i.search,
								s = i.hash,
								u = o + a + s;
							return b && (u = (0, c.stripBasename)(u, b)), (0, l.createLocation)(u, r, n)
						},
						w = function() {
							return Math.random().toString(36).substr(2, y)
						},
						S = (0, h["default"])(),
						_ = function(e) {
							i(H, e), H.length = t.length, S.notifyListeners(H.location, H.action)
						},
						T = function(e) {
							(0, f.isExtraneousPopstateEvent)(e) || O(x(e.state))
						},
						C = function() {
							O(x(g()))
						},
						E = !1,
						O = function(e) {
							if (E) E = !1, _();
							else {
								var t = "POP";
								S.confirmTransitionTo(e, t, m, function(n) {
									n ? _({
										action: t,
										location: e
									}) : k(e)
								})
							}
						},
						k = function(e) {
							var t = H.location,
								n = D.indexOf(t.key); - 1 === n && (n = 0);
							var r = D.indexOf(e.key); - 1 === r && (r = 0);
							var i = n - r;
							i && (E = !0, L(i))
						},
						R = x(g()),
						D = [R.key],
						A = function(e) {
							return b + (0, c.createPath)(e)
						},
						I = function(e, r) {
							var i = "PUSH",
								o = (0, l.createLocation)(e, r, w(), H.location);
							S.confirmTransitionTo(o, i, m, function(e) {
								if (e) {
									var r = A(o),
										s = o.key,
										l = o.state;
									if (n)
										if (t.pushState({
												key: s,
												state: l
											}, null, r), a) window.location.href = r;
										else {
											var c = D.indexOf(H.location.key),
												u = D.slice(0, -1 === c ? 0 : c + 1);
											u.push(o.key), D = u, _({
												action: i,
												location: o
											})
										}
									else window.location.href = r
								}
							})
						},
						M = function(e, r) {
							var i = "REPLACE",
								o = (0, l.createLocation)(e, r, w(), H.location);
							S.confirmTransitionTo(o, i, m, function(e) {
								if (e) {
									var r = A(o),
										s = o.key,
										l = o.state;
									if (n)
										if (t.replaceState({
												key: s,
												state: l
											}, null, r), a) window.location.replace(r);
										else {
											var c = D.indexOf(H.location.key); - 1 !== c && (D[c] = o.key), _({
												action: i,
												location: o
											})
										}
									else window.location.replace(r)
								}
							})
						},
						L = function(e) {
							t.go(e)
						},
						P = function() {
							return L(-1)
						},
						F = function() {
							return L(1)
						},
						U = 0,
						j = function(e) {
							U += e, 1 === U ? ((0, f.addEventListener)(window, d, T), r && (0, f.addEventListener)(window, p, C)) : 0 ===
								U && ((0, f.removeEventListener)(window, d, T), r && (0, f.removeEventListener)(window, p, C))
						},
						B = !1,
						N = function() {
							var e = arguments.length > 0 && void 0 !== arguments[0] && arguments[0],
								t = S.setPrompt(e);
							return B || (j(1), B = !0),
								function() {
									return B && (B = !1, j(-1)), t()
								}
						},
						z = function(e) {
							var t = S.appendListener(e);
							return j(1),
								function() {
									j(-1), t()
								}
						},
						H = {
							length: t.length,
							action: "POP",
							location: R,
							createHref: A,
							push: I,
							replace: M,
							go: L,
							goBack: P,
							goForward: F,
							block: N,
							listen: z
						};
					return H
				};
			t["default"] = m
		}, function(e, t, n) {
			"use strict";

			function r(e) {
				return e && e.__esModule ? e : {
					"default": e
				}
			}
			t.__esModule = !0;
			var i = Object.assign || function(e) {
					for (var t = 1; t < arguments.length; t++) {
						var n = arguments[t];
						for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r])
					}
					return e
				},
				o = n(3),
				a = (r(o), n(6)),
				s = r(a),
				l = n(2),
				c = n(1),
				u = n(4),
				h = r(u),
				f = n(5),
				d = "hashchange",
				p = {
					hashbang: {
						encodePath: function(e) {
							return "!" === e.charAt(0) ? e : "!/" + (0, c.stripLeadingSlash)(e)
						},
						decodePath: function(e) {
							return "!" === e.charAt(0) ? e.substr(1) : e
						}
					},
					noslash: {
						encodePath: c.stripLeadingSlash,
						decodePath: c.addLeadingSlash
					},
					slash: {
						encodePath: c.addLeadingSlash,
						decodePath: c.addLeadingSlash
					}
				},
				g = function() {
					var e = window.location.href,
						t = e.indexOf("#");
					return -1 === t ? "" : e.substring(t + 1)
				},
				m = function(e) {
					return window.location.hash = e
				},
				v = function(e) {
					var t = window.location.href.indexOf("#");
					window.location.replace(window.location.href.slice(0, t >= 0 ? t : 0) + "#" + e)
				},
				y = function() {
					var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
					f.canUseDOM ? void 0 : (0, s["default"])(!1);
					var t = window.history,
						n = ((0, f.supportsGoWithoutReloadUsingHash)(), e.getUserConfirmation),
						r = void 0 === n ? f.getConfirmation : n,
						o = e.hashType,
						a = void 0 === o ? "slash" : o,
						u = e.basename ? (0, c.stripTrailingSlash)((0, c.addLeadingSlash)(e.basename)) : "",
						y = p[a],
						b = y.encodePath,
						x = y.decodePath,
						w = function() {
							var e = x(g());
							return u && (e = (0, c.stripBasename)(e, u)), (0, l.createLocation)(e)
						},
						S = (0, h["default"])(),
						_ = function(e) {
							i(X, e), X.length = t.length, S.notifyListeners(X.location, X.action)
						},
						T = !1,
						C = null,
						E = function() {
							var e = g(),
								t = b(e);
							if (e !== t) v(t);
							else {
								var n = w(),
									r = X.location;
								if (!T && (0, l.locationsAreEqual)(r, n)) return;
								if (C === (0, c.createPath)(n)) return;
								C = null, O(n)
							}
						},
						O = function(e) {
							if (T) T = !1, _();
							else {
								var t = "POP";
								S.confirmTransitionTo(e, t, r, function(n) {
									n ? _({
										action: t,
										location: e
									}) : k(e)
								})
							}
						},
						k = function(e) {
							var t = X.location,
								n = I.lastIndexOf((0, c.createPath)(t)); - 1 === n && (n = 0);
							var r = I.lastIndexOf((0, c.createPath)(e)); - 1 === r && (r = 0);
							var i = n - r;
							i && (T = !0, F(i))
						},
						R = g(),
						D = b(R);
					R !== D && v(D);
					var A = w(),
						I = [(0, c.createPath)(A)],
						M = function(e) {
							return "#" + b(u + (0, c.createPath)(e))
						},
						L = function(e, t) {
							var n = "PUSH",
								i = (0, l.createLocation)(e, void 0, void 0, X.location);
							S.confirmTransitionTo(i, n, r, function(e) {
								if (e) {
									var t = (0, c.createPath)(i),
										r = b(u + t),
										o = g() !== r;
									if (o) {
										C = t, m(r);
										var a = I.lastIndexOf((0, c.createPath)(X.location)),
											s = I.slice(0, -1 === a ? 0 : a + 1);
										s.push(t), I = s, _({
											action: n,
											location: i
										})
									} else _()
								}
							})
						},
						P = function(e, t) {
							var n = "REPLACE",
								i = (0, l.createLocation)(e, void 0, void 0, X.location);
							S.confirmTransitionTo(i, n, r, function(e) {
								if (e) {
									var t = (0, c.createPath)(i),
										r = b(u + t),
										o = g() !== r;
									o && (C = t, v(r));
									var a = I.indexOf((0, c.createPath)(X.location)); - 1 !== a && (I[a] = t), _({
										action: n,
										location: i
									})
								}
							})
						},
						F = function(e) {
							t.go(e)
						},
						U = function() {
							return F(-1)
						},
						j = function() {
							return F(1)
						},
						B = 0,
						N = function(e) {
							B += e, 1 === B ? (0, f.addEventListener)(window, d, E) : 0 === B && (0, f.removeEventListener)(window, d, E)
						},
						z = !1,
						H = function() {
							var e = arguments.length > 0 && void 0 !== arguments[0] && arguments[0],
								t = S.setPrompt(e);
							return z || (N(1), z = !0),
								function() {
									return z && (z = !1, N(-1)), t()
								}
						},
						G = function(e) {
							var t = S.appendListener(e);
							return N(1),
								function() {
									N(-1), t()
								}
						},
						X = {
							length: t.length,
							action: "POP",
							location: A,
							createHref: M,
							push: L,
							replace: P,
							go: F,
							goBack: U,
							goForward: j,
							block: H,
							listen: G
						};
					return X
				};
			t["default"] = y
		}, function(e, t, n) {
			"use strict";

			function r(e) {
				return e && e.__esModule ? e : {
					"default": e
				}
			}
			t.__esModule = !0;
			var i = ("function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
					return typeof e
				} : function(e) {
					return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" :
						typeof e
				}, Object.assign || function(e) {
					for (var t = 1; t < arguments.length; t++) {
						var n = arguments[t];
						for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r])
					}
					return e
				}),
				o = n(3),
				a = (r(o), n(1)),
				s = n(2),
				l = n(4),
				c = r(l),
				u = function(e, t, n) {
					return Math.min(Math.max(e, t), n)
				},
				h = function() {
					var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
						t = e.getUserConfirmation,
						n = e.initialEntries,
						r = void 0 === n ? ["/"] : n,
						o = e.initialIndex,
						l = void 0 === o ? 0 : o,
						h = e.keyLength,
						f = void 0 === h ? 6 : h,
						d = (0,
							c["default"])(),
						p = function(e) {
							i(O, e), O.length = O.entries.length, d.notifyListeners(O.location, O.action)
						},
						g = function() {
							return Math.random().toString(36).substr(2, f)
						},
						m = u(l, 0, r.length - 1),
						v = r.map(function(e) {
							return "string" == typeof e ? (0, s.createLocation)(e, void 0, g()) : (0, s.createLocation)(e, void 0, e.key ||
								g())
						}),
						y = a.createPath,
						b = function(e, n) {
							var r = "PUSH",
								i = (0, s.createLocation)(e, n, g(), O.location);
							d.confirmTransitionTo(i, r, t, function(e) {
								if (e) {
									var t = O.index,
										n = t + 1,
										o = O.entries.slice(0);
									o.length > n ? o.splice(n, o.length - n, i) : o.push(i), p({
										action: r,
										location: i,
										index: n,
										entries: o
									})
								}
							})
						},
						x = function(e, n) {
							var r = "REPLACE",
								i = (0, s.createLocation)(e, n, g(), O.location);
							d.confirmTransitionTo(i, r, t, function(e) {
								e && (O.entries[O.index] = i, p({
									action: r,
									location: i
								}))
							})
						},
						w = function(e) {
							var n = u(O.index + e, 0, O.entries.length - 1),
								r = "POP",
								i = O.entries[n];
							d.confirmTransitionTo(i, r, t, function(e) {
								e ? p({
									action: r,
									location: i,
									index: n
								}) : p()
							})
						},
						S = function() {
							return w(-1)
						},
						_ = function() {
							return w(1)
						},
						T = function(e) {
							var t = O.index + e;
							return t >= 0 && t < O.entries.length
						},
						C = function() {
							var e = arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
							return d.setPrompt(e)
						},
						E = function(e) {
							return d.appendListener(e)
						},
						O = {
							length: v.length,
							action: "POP",
							location: v[m],
							index: m,
							entries: v,
							createHref: y,
							push: b,
							replace: x,
							go: w,
							goBack: S,
							goForward: _,
							canGo: T,
							block: C,
							listen: E
						};
					return O
				};
			t["default"] = h
		}, function(e, t) {
			"use strict";

			function n(e) {
				return "/" === e.charAt(0)
			}

			function r(e, t) {
				for (var n = t, r = n + 1, i = e.length; i > r; n += 1, r += 1) e[n] = e[r];
				e.pop()
			}

			function i(e) {
				var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "",
					i = e && e.split("/") || [],
					o = t && t.split("/") || [],
					a = e && n(e),
					s = t && n(t),
					l = a || s;
				if (e && n(e) ? o = i : i.length && (o.pop(), o = o.concat(i)), !o.length) return "/";
				var c = void 0;
				if (o.length) {
					var u = o[o.length - 1];
					c = "." === u || ".." === u || "" === u
				} else c = !1;
				for (var h = 0, f = o.length; f >= 0; f--) {
					var d = o[f];
					"." === d ? r(o, f) : ".." === d ? (r(o, f), h++) : h && (r(o, f), h--)
				}
				if (!l)
					for (; h--; h) o.unshift("..");
				!l || "" === o[0] || o[0] && n(o[0]) || o.unshift("");
				var p = o.join("/");
				return c && "/" !== p.substr(-1) && (p += "/"), p
			}
			t.__esModule = !0, t["default"] = i, e.exports = t["default"]
		}, function(e, t) {
			"use strict";

			function n(e, t) {
				if (e === t) return !0;
				if (null == e || null == t) return !1;
				if (Array.isArray(e)) return Array.isArray(t) && e.length === t.length && e.every(function(e, r) {
					return n(e, t[r])
				});
				var i = "undefined" == typeof e ? "undefined" : r(e),
					o = "undefined" == typeof t ? "undefined" : r(t);
				if (i !== o) return !1;
				if ("object" === i) {
					var a = e.valueOf(),
						s = t.valueOf();
					if (a !== e || s !== t) return n(a, s);
					var l = Object.keys(e),
						c = Object.keys(t);
					return l.length === c.length && l.every(function(r) {
						return n(e[r], t[r])
					})
				}
				return !1
			}
			t.__esModule = !0;
			var r = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
				return typeof e
			} : function(e) {
				return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" :
					typeof e
			};
			t["default"] = n, e.exports = t["default"]
		}])
	}), ! function(e, t) {
		"object" == typeof exports && "undefined" != typeof module ? t(exports, require("react")) : "function" == typeof define &&
			define.amd ? define("reactRouter", ["exports", "react"], t) : t(e.ReactRouterDOM = {}, e.React)
	}(this, function(e, t) {
		"use strict";

		function n(e) {
			return e && e.__esModule ? e["default"] : e
		}

		function r(e, t) {
			return t = {
				exports: {}
			}, e(t, t.exports), t.exports
		}

		function i(e) {
			return function() {
				return e
			}
		}

		function o(e) {
			return "/" === e.charAt(0)
		}

		function a(e, t) {
			for (var n = t, r = n + 1, i = e.length; i > r; n += 1, r += 1) e[n] = e[r];
			e.pop()
		}

		function s(e) {
			var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "",
				n = e && e.split("/") || [],
				r = t && t.split("/") || [],
				i = e && o(e),
				s = t && o(t),
				l = i || s;
			if (e && o(e) ? r = n : n.length && (r.pop(), r = r.concat(n)), !r.length) return "/";
			var c = void 0;
			if (r.length) {
				var u = r[r.length - 1];
				c = "." === u || ".." === u || "" === u
			} else c = !1;
			for (var h = 0, f = r.length; f >= 0; f--) {
				var d = r[f];
				"." === d ? a(r, f) : ".." === d ? (a(r, f), h++) : h && (a(r, f), h--)
			}
			if (!l)
				for (; h--; h) r.unshift("..");
			!l || "" === r[0] || r[0] && o(r[0]) || r.unshift("");
			var p = r.join("/");
			return c && "/" !== p.substr(-1) && (p += "/"), p
		}

		function l(e, t) {
			if (e === t) return !0;
			if (null == e || null == t) return !1;
			if (Array.isArray(e)) return Array.isArray(t) && e.length === t.length && e.every(function(e, n) {
				return l(e, t[n])
			});
			var n = void 0 === e ? "undefined" : se(e);
			if (n !== (void 0 === t ? "undefined" : se(t))) return !1;
			if ("object" === n) {
				var r = e.valueOf(),
					i = t.valueOf();
				if (r !== e || i !== t) return l(r, i);
				var o = Object.keys(e),
					a = Object.keys(t);
				return o.length === a.length && o.every(function(n) {
					return l(e[n], t[n])
				})
			}
			return !1
		}

		function c(e) {
			return function() {
				return e
			}
		}

		function u(e, t) {
			if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
		}

		function h(e, t) {
			if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
			return !t || "object" != typeof t && "function" != typeof t ? e : t
		}

		function f(e, t) {
			if ("function" != typeof t && null !== t) throw new TypeError(
				"Super expression must either be null or a function, not " + typeof t);
			e.prototype = Object.create(t && t.prototype, {
				constructor: {
					value: e,
					enumerable: !1,
					writable: !0,
					configurable: !0
				}
			}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
		}

		function d(e) {
			return "/" === e.charAt(0)
		}

		function p(e, t) {
			for (var n = t, r = n + 1, i = e.length; i > r; n += 1, r += 1) e[n] = e[r];
			e.pop()
		}

		function g(e) {
			var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "",
				n = e && e.split("/") || [],
				r = t && t.split("/") || [],
				i = e && d(e),
				o = t && d(t),
				a = i || o;
			if (e && d(e) ? r = n : n.length && (r.pop(), r = r.concat(n)), !r.length) return "/";
			var s = void 0;
			if (r.length) {
				var l = r[r.length - 1];
				s = "." === l || ".." === l || "" === l
			} else s = !1;
			for (var c = 0, u = r.length; u >= 0; u--) {
				var h = r[u];
				"." === h ? p(r, u) : ".." === h ? (p(r, u), c++) : c && (p(r, u), c--)
			}
			if (!a)
				for (; c--; c) r.unshift("..");
			!a || "" === r[0] || r[0] && d(r[0]) || r.unshift("");
			var f = r.join("/");
			return s && "/" !== f.substr(-1) && (f += "/"), f
		}

		function m(e, t) {
			if (e === t) return !0;
			if (null == e || null == t) return !1;
			if (Array.isArray(e)) return Array.isArray(t) && e.length === t.length && e.every(function(e, n) {
				return m(e, t[n])
			});
			var n = void 0 === e ? "undefined" : Xe(e);
			if (n !== (void 0 === t ? "undefined" : Xe(t))) return !1;
			if ("object" === n) {
				var r = e.valueOf(),
					i = t.valueOf();
				if (r !== e || i !== t) return m(r, i);
				var o = Object.keys(e),
					a = Object.keys(t);
				return o.length === a.length && o.every(function(n) {
					return m(e[n], t[n])
				})
			}
			return !1
		}

		function v(e, t) {
			if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
		}

		function y(e, t) {
			if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
			return !t || "object" != typeof t && "function" != typeof t ? e : t
		}

		function b(e, t) {
			if ("function" != typeof t && null !== t) throw new TypeError(
				"Super expression must either be null or a function, not " + typeof t);
			e.prototype = Object.create(t && t.prototype, {
				constructor: {
					value: e,
					enumerable: !1,
					writable: !0,
					configurable: !0
				}
			}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
		}

		function x(e, t) {
			for (var n, r = [], i = 0, o = 0, a = "", s = t && t.delimiter || "/"; null != (n = rt.exec(e));) {
				var l = n[0],
					c = n[1],
					u = n.index;
				if (a += e.slice(o, u), o = u + l.length, c) a += c[1];
				else {
					var h = e[o],
						f = n[2],
						d = n[3],
						p = n[4],
						g = n[5],
						m = n[6],
						v = n[7];
					a && (r.push(a), a = "");
					var y = null != f && null != h && h !== f,
						b = "+" === m || "*" === m,
						x = "?" === m || "*" === m,
						w = n[2] || s,
						S = p || g;
					r.push({
						name: d || i++,
						prefix: f || "",
						delimiter: w,
						optional: x,
						repeat: b,
						partial: y,
						asterisk: !!v,
						pattern: S ? C(S) : v ? ".*" : "[^" + T(w) + "]+?"
					})
				}
			}
			return o < e.length && (a += e.substr(o)), a && r.push(a), r
		}

		function w(e) {
			return encodeURI(e).replace(/[\/?#]/g, function(e) {
				return "%" + e.charCodeAt(0).toString(16).toUpperCase()
			})
		}

		function S(e) {
			return encodeURI(e).replace(/[?#]/g, function(e) {
				return "%" + e.charCodeAt(0).toString(16).toUpperCase()
			})
		}

		function _(e) {
			for (var t = new Array(e.length), n = 0; n < e.length; n++) "object" == typeof e[n] && (t[n] = new RegExp("^(?:" +
				e[n].pattern + ")$"));
			return function(n, r) {
				for (var i = "", o = n || {}, a = (r || {}).pretty ? w : encodeURIComponent, s = 0; s < e.length; s++) {
					var l = e[s];
					if ("string" != typeof l) {
						var c, u = o[l.name];
						if (null == u) {
							if (l.optional) {
								l.partial && (i += l.prefix);
								continue
							}
							throw new TypeError('Expected "' + l.name + '" to be defined')
						}
						if (Qe(u)) {
							if (!l.repeat) throw new TypeError('Expected "' + l.name + '" to not repeat, but received `' + JSON.stringify(
								u) + "`");
							if (0 === u.length) {
								if (l.optional) continue;
								throw new TypeError('Expected "' + l.name + '" to not be empty')
							}
							for (var h = 0; h < u.length; h++) {
								if (c = a(u[h]), !t[s].test(c)) throw new TypeError('Expected all "' + l.name + '" to match "' + l.pattern +
									'", but received `' + JSON.stringify(c) + "`");
								i += (0 === h ? l.prefix : l.delimiter) + c
							}
						} else {
							if (c = l.asterisk ? S(u) : a(u), !t[s].test(c)) throw new TypeError('Expected "' + l.name + '" to match "' +
								l.pattern + '", but received "' + c + '"');
							i += l.prefix + c
						}
					} else i += l
				}
				return i
			}
		}

		function T(e) {
			return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g, "\\$1")
		}

		function C(e) {
			return e.replace(/([=!:$\/()])/g, "\\$1")
		}

		function E(e, t) {
			return e.keys = t, e
		}

		function O(e) {
			return e.sensitive ? "" : "i"
		}

		function k(e, t) {
			var n = e.source.match(/\((?!\?)/g);
			if (n)
				for (var r = 0; r < n.length; r++) t.push({
					name: r,
					prefix: null,
					delimiter: null,
					optional: !1,
					repeat: !1,
					partial: !1,
					asterisk: !1,
					pattern: null
				});
			return E(e, t)
		}

		function R(e, t, n) {
			for (var r = [], i = 0; i < e.length; i++) r.push(I(e[i], t, n).source);
			return E(new RegExp("(?:" + r.join("|") + ")", O(n)), t)
		}

		function D(e, t, n) {
			return A(x(e, n), t, n)
		}

		function A(e, t, n) {
			Qe(t) || (n = t || n, t = []);
			for (var r = (n = n || {}).strict, i = !1 !== n.end, o = "", a = 0; a < e.length; a++) {
				var s = e[a];
				if ("string" == typeof s) o += T(s);
				else {
					var l = T(s.prefix),
						c = "(?:" + s.pattern + ")";
					t.push(s), s.repeat && (c += "(?:" + l + c + ")*"), o += c = s.optional ? s.partial ? l + "(" + c + ")?" : "(?:" +
						l + "(" + c + "))?" : l + "(" + c + ")"
				}
			}
			var u = T(n.delimiter || "/"),
				h = o.slice(-u.length) === u;
			return r || (o = (h ? o.slice(0, -u.length) : o) + "(?:" + u + "(?=$))?"), o += i ? "$" : r && h ? "" : "(?=" + u +
				"|$)", E(new RegExp("^" + o, O(n)), t)
		}

		function I(e, t, n) {
			return Qe(t) || (n = t || n, t = []), n = n || {}, e instanceof RegExp ? k(e, t) : Qe(e) ? R(e, t, n) : D(e, t, n)
		}

		function M(e, t) {
			if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
		}

		function L(e, t) {
			if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
			return !t || "object" != typeof t && "function" != typeof t ? e : t
		}

		function P(e, t) {
			if ("function" != typeof t && null !== t) throw new TypeError(
				"Super expression must either be null or a function, not " + typeof t);
			e.prototype = Object.create(t && t.prototype, {
				constructor: {
					value: e,
					enumerable: !1,
					writable: !0,
					configurable: !0
				}
			}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
		}

		function F(e, t) {
			if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
		}

		function U(e, t) {
			if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
			return !t || "object" != typeof t && "function" != typeof t ? e : t
		}

		function j(e, t) {
			if ("function" != typeof t && null !== t) throw new TypeError(
				"Super expression must either be null or a function, not " + typeof t);
			e.prototype = Object.create(t && t.prototype, {
				constructor: {
					value: e,
					enumerable: !1,
					writable: !0,
					configurable: !0
				}
			}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
		}

		function B(e, t) {
			if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
		}

		function N(e, t) {
			if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
			return !t || "object" != typeof t && "function" != typeof t ? e : t
		}

		function z(e, t) {
			if ("function" != typeof t && null !== t) throw new TypeError(
				"Super expression must either be null or a function, not " + typeof t);
			e.prototype = Object.create(t && t.prototype, {
				constructor: {
					value: e,
					enumerable: !1,
					writable: !0,
					configurable: !0
				}
			}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
		}

		function H(e, t) {
			var n = {};
			for (var r in e) t.indexOf(r) >= 0 || Object.prototype.hasOwnProperty.call(e, r) && (n[r] = e[r]);
			return n
		}

		function G(e, t) {
			if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
		}

		function X(e, t) {
			if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
			return !t || "object" != typeof t && "function" != typeof t ? e : t
		}

		function W(e, t) {
			if ("function" != typeof t && null !== t) throw new TypeError(
				"Super expression must either be null or a function, not " + typeof t);
			e.prototype = Object.create(t && t.prototype, {
				constructor: {
					value: e,
					enumerable: !1,
					writable: !0,
					configurable: !0
				}
			}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
		}

		function Y(e, t) {
			if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
		}

		function q(e, t) {
			if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
			return !t || "object" != typeof t && "function" != typeof t ? e : t
		}

		function V(e, t) {
			if ("function" != typeof t && null !== t) throw new TypeError(
				"Super expression must either be null or a function, not " + typeof t);
			e.prototype = Object.create(t && t.prototype, {
				constructor: {
					value: e,
					enumerable: !1,
					writable: !0,
					configurable: !0
				}
			}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
		}

		function K(e, t) {
			var n = {};
			for (var r in e) t.indexOf(r) >= 0 || Object.prototype.hasOwnProperty.call(e, r) && (n[r] = e[r]);
			return n
		}
		t = t && t.hasOwnProperty("default") ? t["default"] : t;
		var $ = function() {},
			Z = $,
			Q = function() {};
		Q.thatReturns = i, Q.thatReturnsFalse = i(!1), Q.thatReturnsTrue = i(!0), Q.thatReturnsNull = i(null), Q.thatReturnsThis =
			function() {
				return this
			}, Q.thatReturnsArgument = function(e) {
				return e
			};
		var J = Q,
			ee = function(e) {},
			te = function(e, t, n, r, i, o, a, s) {
				if (ee(t), !e) {
					var l;
					if (void 0 === t) l = new Error(
						"Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings."
					);
					else {
						var c = [n, r, i, o, a, s],
							u = 0;
						(l = new Error(t.replace(/%s/g, function() {
							return c[u++]
						}))).name = "Invariant Violation"
					}
					throw l.framesToPop = 1, l
				}
			},
			ne = "SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",
			re = function() {
				function e(e, t, n, r, i, o) {
					o !== ne && te(!1,
						"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types"
					)
				}

				function t() {
					return e
				}
				e.isRequired = e;
				var n = {
					array: e,
					bool: e,
					func: e,
					number: e,
					object: e,
					string: e,
					symbol: e,
					any: e,
					arrayOf: t,
					element: e,
					instanceOf: t,
					node: e,
					objectOf: t,
					oneOf: t,
					oneOfType: t,
					shape: t
				};
				return n.checkPropTypes = J, n.PropTypes = n, n
			},
			ie = r(function(e) {
				e.exports = re()
			}),
			oe = function(e, t, n, r, i, o, a, s) {
				if (!e) {
					var l;
					if (void 0 === t) l = new Error(
						"Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings."
					);
					else {
						var c = [n, r, i, o, a, s],
							u = 0;
						(l = new Error(t.replace(/%s/g, function() {
							return c[u++]
						}))).name = "Invariant Violation"
					}
					throw l.framesToPop = 1, l
				}
			},
			ae = Object.freeze({
				"default": s
			}),
			se = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
				return typeof e
			} : function(e) {
				return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
			},
			le = Object.freeze({
				"default": l
			}),
			ce = r(function(e, t) {
				t.__esModule = !0, t.addLeadingSlash = function(e) {
					return "/" === e.charAt(0) ? e : "/" + e
				}, t.stripLeadingSlash = function(e) {
					return "/" === e.charAt(0) ? e.substr(1) : e
				};
				var n = t.hasBasename = function(e, t) {
					return new RegExp("^" + t + "(\\/|\\?|#|$)", "i").test(e)
				};
				t.stripBasename = function(e, t) {
					return n(e, t) ? e.substr(t.length) : e
				}, t.stripTrailingSlash = function(e) {
					return "/" === e.charAt(e.length - 1) ? e.slice(0, -1) : e
				}, t.parsePath = function(e) {
					var t = e || "/",
						n = "",
						r = "",
						i = t.indexOf("#"); - 1 !== i && (r = t.substr(i), t = t.substr(0, i));
					var o = t.indexOf("?");
					return -1 !== o && (n = t.substr(o), t = t.substr(0, o)), {
						pathname: t,
						search: "?" === n ? "" : n,
						hash: "#" === r ? "" : r
					}
				}, t.createPath = function(e) {
					var t = e.pathname,
						n = e.search,
						r = e.hash,
						i = t || "/";
					return n && "?" !== n && (i += "?" === n.charAt(0) ? n : "?" + n), r && "#" !== r && (i += "#" === r.charAt(0) ?
						r : "#" + r), i
				}
			}),
			ue = ae && s || ae,
			he = le && l || le,
			fe = r(function(e, t) {
				function n(e) {
					return e && e.__esModule ? e : {
						"default": e
					}
				}
				t.__esModule = !0, t.locationsAreEqual = t.createLocation = void 0;
				var r = Object.assign || function(e) {
						for (var t = 1; t < arguments.length; t++) {
							var n = arguments[t];
							for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r])
						}
						return e
					},
					i = n(ue),
					o = n(he);
				t.createLocation = function(e, t, n, o) {
					var a = void 0;
					"string" == typeof e ? (a = (0, ce.parsePath)(e)).state = t : (void 0 === (a = r({}, e)).pathname && (a.pathname =
							""), a.search ? "?" !== a.search.charAt(0) && (a.search = "?" + a.search) : a.search = "", a.hash ? "#" !==
						a.hash.charAt(0) && (a.hash = "#" + a.hash) : a.hash = "", void 0 !== t && void 0 === a.state && (a.state = t)
					);
					try {
						a.pathname = decodeURI(a.pathname)
					} catch (e) {
						throw e instanceof URIError ? new URIError('Pathname "' + a.pathname +
							'" could not be decoded. This is likely caused by an invalid percent-encoding.') : e
					}
					return n && (a.key = n), o ? a.pathname ? "/" !== a.pathname.charAt(0) && (a.pathname = (0, i["default"])(a.pathname,
						o.pathname)) : a.pathname = o.pathname : a.pathname || (a.pathname = "/"), a
				}, t.locationsAreEqual = function(e, t) {
					return e.pathname === t.pathname && e.search === t.search && e.hash === t.hash && e.key === t.key && (0, o[
						"default"])(e.state, t.state)
				}
			}),
			de = r(function(e, t) {
				t.__esModule = !0;
				var n = function(e) {
					return e && e.__esModule ? e : {
						"default": e
					}
				}(Z);
				t["default"] = function() {
					var e = null,
						t = [];
					return {
						setPrompt: function(t) {
							return (0, n["default"])(null == e, "A history supports only one prompt at a time"), e = t,
								function() {
									e === t && (e = null)
								}
						},
						confirmTransitionTo: function(t, r, i, o) {
							if (null != e) {
								var a = "function" == typeof e ? e(t, r) : e;
								"string" == typeof a ? "function" == typeof i ? i(a, o) : ((0, n["default"])(!1,
									"A history needs a getUserConfirmation function in order to use a prompt message"), o(!0)) : o(!1 !== a)
							} else o(!0)
						},
						appendListener: function(e) {
							var n = !0,
								r = function() {
									n && e.apply(void 0, arguments)
								};
							return t.push(r),
								function() {
									n = !1, t = t.filter(function(e) {
										return e !== r
									})
								}
						},
						notifyListeners: function() {
							for (var e = arguments.length, n = Array(e), r = 0; e > r; r++) n[r] = arguments[r];
							t.forEach(function(e) {
								return e.apply(void 0, n)
							})
						}
					}
				}
			}),
			pe = r(function(e, t) {
				t.__esModule = !0, t.canUseDOM = !("undefined" == typeof window || !window.document || !window.document.createElement),
					t.addEventListener = function(e, t, n) {
						return e.addEventListener ? e.addEventListener(t, n, !1) : e.attachEvent("on" + t, n)
					}, t.removeEventListener = function(e, t, n) {
						return e.removeEventListener ? e.removeEventListener(t, n, !1) : e.detachEvent("on" + t, n)
					}, t.getConfirmation = function(e, t) {
						return t(window.confirm(e))
					}, t.supportsHistory = function() {
						var e = window.navigator.userAgent;
						return (-1 === e.indexOf("Android 2.") && -1 === e.indexOf("Android 4.0") || -1 === e.indexOf("Mobile Safari") ||
							-1 !== e.indexOf("Chrome") || -1 !== e.indexOf("Windows Phone")) && window.history && "pushState" in window.history
					}, t.supportsPopStateOnHashChange = function() {
						return -1 === window.navigator.userAgent.indexOf("Trident")
					}, t.supportsGoWithoutReloadUsingHash = function() {
						return -1 === window.navigator.userAgent.indexOf("Firefox")
					}, t.isExtraneousPopstateEvent = function(e) {
						return void 0 === e.state && -1 === navigator.userAgent.indexOf("CriOS")
					}
			}),
			ge = n(r(function(e, t) {
				function n(e) {
					return e && e.__esModule ? e : {
						"default": e
					}
				}
				t.__esModule = !0;
				var r = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
						return typeof e
					} : function(e) {
						return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" :
							typeof e
					},
					i = Object.assign || function(e) {
						for (var t = 1; t < arguments.length; t++) {
							var n = arguments[t];
							for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r])
						}
						return e
					},
					o = n(Z),
					a = n(oe),
					s = n(de),
					l = function() {
						try {
							return window.history.state || {}
						} catch (e) {
							return {}
						}
					};
				t["default"] = function() {
					var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
					(0, a["default"])(pe.canUseDOM, "Browser history needs a DOM");
					var t = window.history,
						n = (0, pe.supportsHistory)(),
						c = !(0, pe.supportsPopStateOnHashChange)(),
						u = e.forceRefresh,
						h = void 0 !== u && u,
						f = e.getUserConfirmation,
						d = void 0 === f ? pe.getConfirmation : f,
						p = e.keyLength,
						g = void 0 === p ? 6 : p,
						m = e.basename ? (0, ce.stripTrailingSlash)((0, ce.addLeadingSlash)(e.basename)) : "",
						v = function(e) {
							var t = e || {},
								n = t.key,
								r = t.state,
								i = window.location,
								a = i.pathname + i.search + i.hash;
							return (0, o["default"])(!m || (0, ce.hasBasename)(a, m),
								'You are attempting to use a basename on a page whose URL path does not begin with the basename. Expected path "' +
								a + '" to begin with "' + m + '".'), m && (a = (0, ce.stripBasename)(a, m)), (0, fe.createLocation)(a, r,
								n)
						},
						y = function() {
							return Math.random().toString(36).substr(2, g)
						},
						b = (0, s["default"])(),
						x = function(e) {
							i(M, e), M.length = t.length, b.notifyListeners(M.location, M.action)
						},
						w = function(e) {
							(0, pe.isExtraneousPopstateEvent)(e) || T(v(e.state))
						},
						S = function() {
							T(v(l()))
						},
						_ = !1,
						T = function(e) {
							_ ? (_ = !1, x()) : b.confirmTransitionTo(e, "POP", d, function(t) {
								t ? x({
									action: "POP",
									location: e
								}) : C(e)
							})
						},
						C = function(e) {
							var t = M.location,
								n = O.indexOf(t.key); - 1 === n && (n = 0);
							var r = O.indexOf(e.key); - 1 === r && (r = 0);
							var i = n - r;
							i && (_ = !0, R(i))
						},
						E = v(l()),
						O = [E.key],
						k = function(e) {
							return m + (0, ce.createPath)(e)
						},
						R = function(e) {
							t.go(e)
						},
						D = 0,
						A = function(e) {
							1 === (D += e) ? ((0, pe.addEventListener)(window, "popstate", w), c && (0, pe.addEventListener)(window,
								"hashchange", S)) : 0 === D && ((0, pe.removeEventListener)(window, "popstate", w), c && (0, pe.removeEventListener)
								(window, "hashchange", S))
						},
						I = !1,
						M = {
							length: t.length,
							action: "POP",
							location: E,
							createHref: k,
							push: function(e, i) {
								(0, o["default"])(!("object" === (void 0 === e ? "undefined" : r(e)) && void 0 !== e.state && void 0 !==
										i),
									"You should avoid providing a 2nd state argument to push when the 1st argument is a location-like object that already has state; it is ignored"
								);
								var a = (0, fe.createLocation)(e, i, y(), M.location);
								b.confirmTransitionTo(a, "PUSH", d, function(e) {
									if (e) {
										var r = k(a),
											i = a.key,
											s = a.state;
										if (n)
											if (t.pushState({
													key: i,
													state: s
												}, null, r), h) window.location.href = r;
											else {
												var l = O.indexOf(M.location.key),
													c = O.slice(0, -1 === l ? 0 : l + 1);
												c.push(a.key), O = c, x({
													action: "PUSH",
													location: a
												})
											}
										else(0, o["default"])(void 0 === s,
												"Browser history cannot push state in browsers that do not support HTML5 history"), window.location.href =
											r
									}
								})
							},
							replace: function(e, i) {
								(0, o["default"])(!("object" === (void 0 === e ? "undefined" : r(e)) && void 0 !== e.state && void 0 !==
										i),
									"You should avoid providing a 2nd state argument to replace when the 1st argument is a location-like object that already has state; it is ignored"
								);
								var a = (0, fe.createLocation)(e, i, y(), M.location);
								b.confirmTransitionTo(a, "REPLACE", d, function(e) {
									if (e) {
										var r = k(a),
											i = a.key,
											s = a.state;
										if (n)
											if (t.replaceState({
													key: i,
													state: s
												}, null, r), h) window.location.replace(r);
											else {
												var l = O.indexOf(M.location.key); - 1 !== l && (O[l] = a.key), x({
													action: "REPLACE",
													location: a
												})
											}
										else(0, o["default"])(void 0 === s,
												"Browser history cannot replace state in browsers that do not support HTML5 history"), window.location
											.replace(r)
									}
								})
							},
							go: R,
							goBack: function() {
								return R(-1)
							},
							goForward: function() {
								return R(1)
							},
							block: function() {
								var e = arguments.length > 0 && void 0 !== arguments[0] && arguments[0],
									t = b.setPrompt(e);
								return I || (A(1), I = !0),
									function() {
										return I && (I = !1, A(-1)), t()
									}
							},
							listen: function(e) {
								var t = b.appendListener(e);
								return A(1),
									function() {
										A(-1), t()
									}
							}
						};
					return M
				}
			})),
			me = function() {},
			ve = me,
			ye = function(e, t, n, r, i, o, a, s) {
				if (!e) {
					var l;
					if (void 0 === t) l = new Error(
						"Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings."
					);
					else {
						var c = [n, r, i, o, a, s],
							u = 0;
						(l = new Error(t.replace(/%s/g, function() {
							return c[u++]
						}))).name = "Invariant Violation"
					}
					throw l.framesToPop = 1, l
				}
			},
			be = function() {};
		be.thatReturns = c, be.thatReturnsFalse = c(!1), be.thatReturnsTrue = c(!0), be.thatReturnsNull = c(null), be.thatReturnsThis =
			function() {
				return this
			}, be.thatReturnsArgument = function(e) {
				return e
			};
		var xe = be,
			we = function(e) {},
			Se = function(e, t, n, r, i, o, a, s) {
				if (we(t), !e) {
					var l;
					if (void 0 === t) l = new Error(
						"Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings."
					);
					else {
						var c = [n, r, i, o, a, s],
							u = 0;
						(l = new Error(t.replace(/%s/g, function() {
							return c[u++]
						}))).name = "Invariant Violation"
					}
					throw l.framesToPop = 1, l
				}
			},
			_e = "SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",
			Te = function() {
				function e(e, t, n, r, i, o) {
					o !== _e && Se(!1,
						"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types"
					)
				}

				function t() {
					return e
				}
				e.isRequired = e;
				var n = {
					array: e,
					bool: e,
					func: e,
					number: e,
					object: e,
					string: e,
					symbol: e,
					any: e,
					arrayOf: t,
					element: e,
					instanceOf: t,
					node: e,
					objectOf: t,
					oneOf: t,
					oneOfType: t,
					shape: t
				};
				return n.checkPropTypes = xe, n.PropTypes = n, n
			},
			Ce = r(function(e) {
				e.exports = Te()
			}),
			Ee = Object.assign || function(e) {
				for (var t = 1; t < arguments.length; t++) {
					var n = arguments[t];
					for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r])
				}
				return e
			},
			Oe = function(e) {
				function n() {
					var t, r, i;
					u(this, n);
					for (var o = arguments.length, a = Array(o), s = 0; o > s; s++) a[s] = arguments[s];
					return t = r = h(this, e.call.apply(e, [this].concat(a))), r.state = {
						match: r.computeMatch(r.props.history.location.pathname)
					}, i = t, h(r, i)
				}
				return f(n, e), n.prototype.getChildContext = function() {
					return {
						router: Ee({}, this.context.router, {
							history: this.props.history,
							route: {
								location: this.props.history.location,
								match: this.state.match
							}
						})
					}
				}, n.prototype.computeMatch = function(e) {
					return {
						path: "/",
						url: "/",
						params: {},
						isExact: "/" === e
					}
				}, n.prototype.componentWillMount = function() {
					var e = this,
						n = this.props,
						r = n.children,
						i = n.history;
					ye(null == r || 1 === t.Children.count(r), "A <Router> may have only one child element"), this.unlisten = i.listen(
						function() {
							e.setState({
								match: e.computeMatch(i.location.pathname)
							})
						})
				}, n.prototype.componentWillReceiveProps = function(e) {
					ve(this.props.history === e.history, "You cannot change <Router history>")
				}, n.prototype.componentWillUnmount = function() {
					this.unlisten()
				}, n.prototype.render = function() {
					var e = this.props.children;
					return e ? t.Children.only(e) : null
				}, n
			}(t.Component);
		Oe.propTypes = {
			history: Ce.object.isRequired,
			children: Ce.node
		}, Oe.contextTypes = {
			router: Ce.object
		}, Oe.childContextTypes = {
			router: Ce.object.isRequired
		};
		var ke = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
				return typeof e
			} : function(e) {
				return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
			},
			Re = function(e, t) {
				if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
			},
			De = Object.assign || function(e) {
				for (var t = 1; t < arguments.length; t++) {
					var n = arguments[t];
					for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r])
				}
				return e
			},
			Ae = function(e, t) {
				if ("function" != typeof t && null !== t) throw new TypeError(
					"Super expression must either be null or a function, not " + typeof t);
				e.prototype = Object.create(t && t.prototype, {
					constructor: {
						value: e,
						enumerable: !1,
						writable: !0,
						configurable: !0
					}
				}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
			},
			Ie = function(e, t) {
				var n = {};
				for (var r in e) t.indexOf(r) >= 0 || Object.prototype.hasOwnProperty.call(e, r) && (n[r] = e[r]);
				return n
			},
			Me = function(e, t) {
				if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
				return !t || "object" != typeof t && "function" != typeof t ? e : t
			},
			Le = function(e) {
				function n() {
					var t, r, i;
					Re(this, n);
					for (var o = arguments.length, a = Array(o), s = 0; o > s; s++) a[s] = arguments[s];
					return t = r = Me(this, e.call.apply(e, [this].concat(a))), r.history = ge(r.props), i = t, Me(r, i)
				}
				return Ae(n, e), n.prototype.componentWillMount = function() {}, n.prototype.render = function() {
					return t.createElement(Oe, {
						history: this.history,
						children: this.props.children
					})
				}, n
			}(t.Component),
			Pe = n(r(function(e, t) {
				function n(e) {
					return e && e.__esModule ? e : {
						"default": e
					}
				}
				t.__esModule = !0;
				var r = Object.assign || function(e) {
						for (var t = 1; t < arguments.length; t++) {
							var n = arguments[t];
							for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r])
						}
						return e
					},
					i = n(Z),
					o = n(oe),
					a = n(de),
					s = {
						hashbang: {
							encodePath: function(e) {
								return "!" === e.charAt(0) ? e : "!/" + (0, ce.stripLeadingSlash)(e)
							},
							decodePath: function(e) {
								return "!" === e.charAt(0) ? e.substr(1) : e
							}
						},
						noslash: {
							encodePath: ce.stripLeadingSlash,
							decodePath: ce.addLeadingSlash
						},
						slash: {
							encodePath: ce.addLeadingSlash,
							decodePath: ce.addLeadingSlash
						}
					},
					l = function() {
						var e = window.location.href,
							t = e.indexOf("#");
						return -1 === t ? "" : e.substring(t + 1)
					},
					c = function(e) {
						return window.location.hash = e
					},
					u = function(e) {
						var t = window.location.href.indexOf("#");
						window.location.replace(window.location.href.slice(0, t >= 0 ? t : 0) + "#" + e)
					};
				t["default"] = function() {
					var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
					(0, o["default"])(pe.canUseDOM, "Hash history needs a DOM");
					var t = window.history,
						n = (0, pe.supportsGoWithoutReloadUsingHash)(),
						h = e.getUserConfirmation,
						f = void 0 === h ? pe.getConfirmation : h,
						d = e.hashType,
						p = void 0 === d ? "slash" : d,
						g = e.basename ? (0, ce.stripTrailingSlash)((0, ce.addLeadingSlash)(e.basename)) : "",
						m = s[p],
						v = m.encodePath,
						y = m.decodePath,
						b = function() {
							var e = y(l());
							return (0, i["default"])(!g || (0, ce.hasBasename)(e, g),
								'You are attempting to use a basename on a page whose URL path does not begin with the basename. Expected path "' +
								e + '" to begin with "' + g + '".'), g && (e = (0, ce.stripBasename)(e, g)), (0, fe.createLocation)(e)
						},
						x = (0, a["default"])(),
						w = function(e) {
							r(P, e), P.length = t.length, x.notifyListeners(P.location, P.action)
						},
						S = !1,
						_ = null,
						T = function() {
							var e = l(),
								t = v(e);
							if (e !== t) u(t);
							else {
								var n = b(),
									r = P.location;
								if (!S && (0, fe.locationsAreEqual)(r, n)) return;
								if (_ === (0, ce.createPath)(n)) return;
								_ = null, C(n)
							}
						},
						C = function(e) {
							S ? (S = !1, w()) : x.confirmTransitionTo(e, "POP", f, function(t) {
								t ? w({
									action: "POP",
									location: e
								}) : E(e)
							})
						},
						E = function(e) {
							var t = P.location,
								n = D.lastIndexOf((0, ce.createPath)(t)); - 1 === n && (n = 0);
							var r = D.lastIndexOf((0, ce.createPath)(e)); - 1 === r && (r = 0);
							var i = n - r;
							i && (S = !0, A(i))
						},
						O = l(),
						k = v(O);
					O !== k && u(k);
					var R = b(),
						D = [(0, ce.createPath)(R)],
						A = function(e) {
							(0, i["default"])(n, "Hash history go(n) causes a full page reload in this browser"), t.go(e)
						},
						I = 0,
						M = function(e) {
							1 === (I += e) ? (0, pe.addEventListener)(window, "hashchange", T) : 0 === I && (0, pe.removeEventListener)(
								window, "hashchange", T)
						},
						L = !1,
						P = {
							length: t.length,
							action: "POP",
							location: R,
							createHref: function(e) {
								return "#" + v(g + (0, ce.createPath)(e))
							},
							push: function(e, t) {
								(0, i["default"])(void 0 === t, "Hash history cannot push state; it is ignored");
								var n = (0, fe.createLocation)(e, void 0, void 0, P.location);
								x.confirmTransitionTo(n, "PUSH", f, function(e) {
									if (e) {
										var t = (0, ce.createPath)(n),
											r = v(g + t);
										if (l() !== r) {
											_ = t, c(r);
											var o = D.lastIndexOf((0, ce.createPath)(P.location)),
												a = D.slice(0, -1 === o ? 0 : o + 1);
											a.push(t), D = a, w({
												action: "PUSH",
												location: n
											})
										} else(0, i["default"])(!1,
											"Hash history cannot PUSH the same path; a new entry will not be added to the history stack"), w()
									}
								})
							},
							replace: function(e, t) {
								(0, i["default"])(void 0 === t, "Hash history cannot replace state; it is ignored");
								var n = (0, fe.createLocation)(e, void 0, void 0, P.location);
								x.confirmTransitionTo(n, "REPLACE", f, function(e) {
									if (e) {
										var t = (0, ce.createPath)(n),
											r = v(g + t);
										l() !== r && (_ = t, u(r));
										var i = D.indexOf((0, ce.createPath)(P.location)); - 1 !== i && (D[i] = t), w({
											action: "REPLACE",
											location: n
										})
									}
								})
							},
							go: A,
							goBack: function() {
								return A(-1)
							},
							goForward: function() {
								return A(1)
							},
							block: function() {
								var e = arguments.length > 0 && void 0 !== arguments[0] && arguments[0],
									t = x.setPrompt(e);
								return L || (M(1), L = !0),
									function() {
										return L && (L = !1, M(-1)), t()
									}
							},
							listen: function(e) {
								var t = x.appendListener(e);
								return M(1),
									function() {
										M(-1), t()
									}
							}
						};
					return P
				}
			})),
			Fe = function(e) {
				function n() {
					var t, r, i;
					Re(this, n);
					for (var o = arguments.length, a = Array(o), s = 0; o > s; s++) a[s] = arguments[s];
					return t = r = Me(this, e.call.apply(e, [this].concat(a))), r.history = Pe(r.props), i = t, Me(r, i)
				}
				return Ae(n, e), n.prototype.componentWillMount = function() {}, n.prototype.render = function() {
					return t.createElement(Oe, {
						history: this.history,
						children: this.props.children
					})
				}, n
			}(t.Component),
			Ue = function(e) {
				return !!(e.metaKey || e.altKey || e.ctrlKey || e.shiftKey)
			},
			je = function(e) {
				function n() {
					var t, r, i;
					Re(this, n);
					for (var o = arguments.length, a = Array(o), s = 0; o > s; s++) a[s] = arguments[s];
					return t = r = Me(this, e.call.apply(e, [this].concat(a))), r.handleClick = function(e) {
						if (r.props.onClick && r.props.onClick(e), !e.defaultPrevented && 0 === e.button && !r.props.target && !Ue(e)) {
							e.preventDefault();
							var t = r.context.router.history,
								n = r.props,
								i = n.replace,
								o = n.to;
							i ? t.replace(o) : t.push(o)
						}
					}, i = t, Me(r, i)
				}
				return Ae(n, e), n.prototype.render = function() {
					var e = this.props,
						n = (e.replace, e.to),
						r = e.innerRef,
						i = Ie(e, ["replace", "to", "innerRef"]);
					this.context.router || oe(!1);
					var o = this.context.router.history.createHref("string" == typeof n ? {
						pathname: n
					} : n);
					return t.createElement("a", De({}, i, {
						onClick: this.handleClick,
						href: o,
						ref: r
					}))
				}, n
			}(t.Component);
		je.defaultProps = {
			replace: !1
		}, je.contextTypes = {
			router: ie.shape({
				history: ie.shape({
					push: ie.func.isRequired,
					replace: ie.func.isRequired,
					createHref: ie.func.isRequired
				}).isRequired
			}).isRequired
		};
		var Be = r(function(e, t) {
				t.__esModule = !0, t.addLeadingSlash = function(e) {
					return "/" === e.charAt(0) ? e : "/" + e
				}, t.stripLeadingSlash = function(e) {
					return "/" === e.charAt(0) ? e.substr(1) : e
				};
				var n = t.hasBasename = function(e, t) {
					return new RegExp("^" + t + "(\\/|\\?|#|$)", "i").test(e)
				};
				t.stripBasename = function(e, t) {
					return n(e, t) ? e.substr(t.length) : e
				}, t.stripTrailingSlash = function(e) {
					return "/" === e.charAt(e.length - 1) ? e.slice(0, -1) : e
				}, t.parsePath = function(e) {
					var t = e || "/",
						n = "",
						r = "",
						i = t.indexOf("#"); - 1 !== i && (r = t.substr(i), t = t.substr(0, i));
					var o = t.indexOf("?");
					return -1 !== o && (n = t.substr(o), t = t.substr(0, o)), {
						pathname: t,
						search: "?" === n ? "" : n,
						hash: "#" === r ? "" : r
					}
				}, t.createPath = function(e) {
					var t = e.pathname,
						n = e.search,
						r = e.hash,
						i = t || "/";
					return n && "?" !== n && (i += "?" === n.charAt(0) ? n : "?" + n), r && "#" !== r && (i += "#" === r.charAt(0) ?
						r : "#" + r), i
				}
			}),
			Ne = Be.addLeadingSlash,
			ze = Be.parsePath,
			He = Be.createPath,
			Ge = Object.freeze({
				"default": g
			}),
			Xe = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
				return typeof e
			} : function(e) {
				return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
			},
			We = Object.freeze({
				"default": m
			}),
			Ye = Ge && g || Ge,
			qe = We && m || We,
			Ve = r(function(e, t) {
				function n(e) {
					return e && e.__esModule ? e : {
						"default": e
					}
				}
				t.__esModule = !0, t.locationsAreEqual = t.createLocation = void 0;
				var r = Object.assign || function(e) {
						for (var t = 1; t < arguments.length; t++) {
							var n = arguments[t];
							for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r])
						}
						return e
					},
					i = n(Ye),
					o = n(qe);
				t.createLocation = function(e, t, n, o) {
					var a = void 0;
					"string" == typeof e ? (a = (0, Be.parsePath)(e)).state = t : (void 0 === (a = r({}, e)).pathname && (a.pathname =
							""), a.search ? "?" !== a.search.charAt(0) && (a.search = "?" + a.search) : a.search = "", a.hash ? "#" !==
						a.hash.charAt(0) && (a.hash = "#" + a.hash) : a.hash = "", void 0 !== t && void 0 === a.state && (a.state = t)
					);
					try {
						a.pathname = decodeURI(a.pathname)
					} catch (e) {
						throw e instanceof URIError ? new URIError('Pathname "' + a.pathname +
							'" could not be decoded. This is likely caused by an invalid percent-encoding.') : e
					}
					return n && (a.key = n), o ? a.pathname ? "/" !== a.pathname.charAt(0) && (a.pathname = (0, i["default"])(a.pathname,
						o.pathname)) : a.pathname = o.pathname : a.pathname || (a.pathname = "/"), a
				}, t.locationsAreEqual = function(e, t) {
					return e.pathname === t.pathname && e.search === t.search && e.hash === t.hash && e.key === t.key && (0, o[
						"default"])(e.state, t.state)
				}
			}),
			Ke = r(function(e, t) {
				t.__esModule = !0;
				var n = function(e) {
					return e && e.__esModule ? e : {
						"default": e
					}
				}(ve);
				t["default"] = function() {
					var e = null,
						t = [];
					return {
						setPrompt: function(t) {
							return (0, n["default"])(null == e, "A history supports only one prompt at a time"), e = t,
								function() {
									e === t && (e = null)
								}
						},
						confirmTransitionTo: function(t, r, i, o) {
							if (null != e) {
								var a = "function" == typeof e ? e(t, r) : e;
								"string" == typeof a ? "function" == typeof i ? i(a, o) : ((0, n["default"])(!1,
									"A history needs a getUserConfirmation function in order to use a prompt message"), o(!0)) : o(!1 !== a)
							} else o(!0)
						},
						appendListener: function(e) {
							var n = !0,
								r = function() {
									n && e.apply(void 0, arguments)
								};
							return t.push(r),
								function() {
									n = !1, t = t.filter(function(e) {
										return e !== r
									})
								}
						},
						notifyListeners: function() {
							for (var e = arguments.length, n = Array(e), r = 0; e > r; r++) n[r] = arguments[r];
							t.forEach(function(e) {
								return e.apply(void 0, n)
							})
						}
					}
				}
			}),
			$e = n(r(function(e, t) {
				function n(e) {
					return e && e.__esModule ? e : {
						"default": e
					}
				}
				t.__esModule = !0;
				var r = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
						return typeof e
					} : function(e) {
						return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" :
							typeof e
					},
					i = Object.assign || function(e) {
						for (var t = 1; t < arguments.length; t++) {
							var n = arguments[t];
							for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r])
						}
						return e
					},
					o = n(ve),
					a = n(Ke),
					s = function(e, t, n) {
						return Math.min(Math.max(e, t), n)
					};
				t["default"] = function() {
					var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
						t = e.getUserConfirmation,
						n = e.initialEntries,
						l = void 0 === n ? ["/"] : n,
						c = e.initialIndex,
						u = void 0 === c ? 0 : c,
						h = e.keyLength,
						f = void 0 === h ? 6 : h,
						d = (0, a["default"])(),
						p = function(e) {
							i(x, e), x.length = x.entries.length, d.notifyListeners(x.location, x.action)
						},
						g = function() {
							return Math.random().toString(36).substr(2, f)
						},
						m = s(u, 0, l.length - 1),
						v = l.map(function(e) {
							return "string" == typeof e ? (0, Ve.createLocation)(e, void 0, g()) : (0, Ve.createLocation)(e, void 0, e.key ||
								g())
						}),
						y = Be.createPath,
						b = function(e) {
							var n = s(x.index + e, 0, x.entries.length - 1),
								r = x.entries[n];
							d.confirmTransitionTo(r, "POP", t, function(e) {
								e ? p({
									action: "POP",
									location: r,
									index: n
								}) : p()
							})
						},
						x = {
							length: v.length,
							action: "POP",
							location: v[m],
							index: m,
							entries: v,
							createHref: y,
							push: function(e, n) {
								(0, o["default"])(!("object" === (void 0 === e ? "undefined" : r(e)) && void 0 !== e.state && void 0 !==
										n),
									"You should avoid providing a 2nd state argument to push when the 1st argument is a location-like object that already has state; it is ignored"
								);
								var i = (0, Ve.createLocation)(e, n, g(), x.location);
								d.confirmTransitionTo(i, "PUSH", t, function(e) {
									if (e) {
										var t = x.index + 1,
											n = x.entries.slice(0);
										n.length > t ? n.splice(t, n.length - t, i) : n.push(i), p({
											action: "PUSH",
											location: i,
											index: t,
											entries: n
										})
									}
								})
							},
							replace: function(e, n) {
								(0, o["default"])(!("object" === (void 0 === e ? "undefined" : r(e)) && void 0 !== e.state && void 0 !==
										n),
									"You should avoid providing a 2nd state argument to replace when the 1st argument is a location-like object that already has state; it is ignored"
								);
								var i = (0, Ve.createLocation)(e, n, g(), x.location);
								d.confirmTransitionTo(i, "REPLACE", t, function(e) {
									e && (x.entries[x.index] = i, p({
										action: "REPLACE",
										location: i
									}))
								})
							},
							go: b,
							goBack: function() {
								return b(-1)
							},
							goForward: function() {
								return b(1)
							},
							canGo: function(e) {
								var t = x.index + e;
								return t >= 0 && t < x.entries.length
							},
							block: function() {
								var e = arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
								return d.setPrompt(e)
							},
							listen: function(e) {
								return d.appendListener(e)
							}
						};
					return x
				}
			})),
			Ze = function(e) {
				function n() {
					var t, r, i;
					v(this, n);
					for (var o = arguments.length, a = Array(o), s = 0; o > s; s++) a[s] = arguments[s];
					return t = r = y(this, e.call.apply(e, [this].concat(a))), r.history = $e(r.props), i = t, y(r, i)
				}
				return b(n, e), n.prototype.componentWillMount = function() {
					ve(!this.props.history,
						"<MemoryRouter> ignores the history prop. To use a custom history, use `import { Router }` instead of `import { MemoryRouter as Router }`."
					)
				}, n.prototype.render = function() {
					return t.createElement(Oe, {
						history: this.history,
						children: this.props.children
					})
				}, n
			}(t.Component);
		Ze.propTypes = {
			initialEntries: Ce.array,
			initialIndex: Ce.number,
			getUserConfirmation: Ce.func,
			keyLength: Ce.number,
			children: Ce.node
		};
		var Qe = Array.isArray || function(e) {
				return "[object Array]" == Object.prototype.toString.call(e)
			},
			Je = I,
			et = x,
			tt = _,
			nt = A,
			rt = new RegExp(["(\\\\.)",
				"([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"
			].join("|"), "g");
		Je.parse = et, Je.compile = function(e, t) {
			return _(x(e, t))
		}, Je.tokensToFunction = tt, Je.tokensToRegExp = nt;
		var it = {},
			ot = 0,
			at = function(e, t) {
				var n = "" + t.end + t.strict + t.sensitive,
					r = it[n] || (it[n] = {});
				if (r[e]) return r[e];
				var i = [],
					o = {
						re: Je(e, i, t),
						keys: i
					};
				return 1e4 > ot && (r[e] = o, ot++), o
			},
			st = function(e) {
				var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
				"string" == typeof t && (t = {
					path: t
				});
				var n = t,
					r = n.path,
					i = void 0 === r ? "/" : r,
					o = n.exact,
					a = void 0 !== o && o,
					s = n.strict,
					l = void 0 !== s && s,
					c = n.sensitive,
					u = at(i, {
						end: a,
						strict: l,
						sensitive: void 0 !== c && c
					}),
					h = u.re,
					f = u.keys,
					d = h.exec(e);
				if (!d) return null;
				var p = d[0],
					g = d.slice(1),
					m = e === p;
				return a && !m ? null : {
					path: i,
					url: "/" === i && "" === p ? "/" : p,
					isExact: m,
					params: f.reduce(function(e, t, n) {
						return e[t.name] = g[n], e
					}, {})
				}
			},
			lt = Object.assign || function(e) {
				for (var t = 1; t < arguments.length; t++) {
					var n = arguments[t];
					for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r])
				}
				return e
			},
			ct = function(e) {
				return 0 === t.Children.count(e)
			},
			ut = function(e) {
				function n() {
					var t, r, i;
					M(this, n);
					for (var o = arguments.length, a = Array(o), s = 0; o > s; s++) a[s] = arguments[s];
					return t = r = L(this, e.call.apply(e, [this].concat(a))), r.state = {
						match: r.computeMatch(r.props, r.context.router)
					}, i = t, L(r, i)
				}
				return P(n, e), n.prototype.getChildContext = function() {
					return {
						router: lt({}, this.context.router, {
							route: {
								location: this.props.location || this.context.router.route.location,
								match: this.state.match
							}
						})
					}
				}, n.prototype.computeMatch = function(e, t) {
					var n = e.computedMatch,
						r = e.location,
						i = e.path,
						o = e.strict,
						a = e.exact,
						s = e.sensitive;
					if (n) return n;
					ye(t, "You should not use <Route> or withRouter() outside a <Router>");
					var l = t.route,
						c = (r || l.location).pathname;
					return i ? st(c, {
						path: i,
						strict: o,
						exact: a,
						sensitive: s
					}) : l.match
				}, n.prototype.componentWillMount = function() {
					ve(!(this.props.component && this.props.render),
							"You should not use <Route component> and <Route render> in the same route; <Route render> will be ignored"),
						ve(!(this.props.component && this.props.children && !ct(this.props.children)),
							"You should not use <Route component> and <Route children> in the same route; <Route children> will be ignored"
						), ve(!(this.props.render && this.props.children && !ct(this.props.children)),
							"You should not use <Route render> and <Route children> in the same route; <Route children> will be ignored")
				}, n.prototype.componentWillReceiveProps = function(e, t) {
					ve(!(e.location && !this.props.location),
						'<Route> elements should not change from uncontrolled to controlled (or vice versa). You initially used no "location" prop and then provided one on a subsequent render.'
					), ve(!(!e.location && this.props.location),
						'<Route> elements should not change from controlled to uncontrolled (or vice versa). You provided a "location" prop initially but omitted it on a subsequent render.'
					), this.setState({
						match: this.computeMatch(e, t.router)
					})
				}, n.prototype.render = function() {
					var e = this.state.match,
						n = this.props,
						r = n.children,
						i = n.component,
						o = n.render,
						a = this.context.router,
						s = a.history,
						l = a.route,
						c = a.staticContext,
						u = {
							match: e,
							location: this.props.location || l.location,
							history: s,
							staticContext: c
						};
					return i ? e ? t.createElement(i, u) : null : o ? e ? o(u) : null : r ? "function" == typeof r ? r(u) : ct(r) ?
						null : t.Children.only(r) : null
				}, n
			}(t.Component);
		ut.propTypes = {
			computedMatch: Ce.object,
			path: Ce.string,
			exact: Ce.bool,
			strict: Ce.bool,
			sensitive: Ce.bool,
			component: Ce.func,
			render: Ce.func,
			children: Ce.oneOfType([Ce.func, Ce.node]),
			location: Ce.object
		}, ut.contextTypes = {
			router: Ce.shape({
				history: Ce.object.isRequired,
				route: Ce.object.isRequired,
				staticContext: Ce.object
			})
		}, ut.childContextTypes = {
			router: Ce.object.isRequired
		};
		var ht = function(e) {
			var n = e.to,
				r = e.exact,
				i = e.strict,
				o = e.location,
				a = e.activeClassName,
				s = e.className,
				l = e.activeStyle,
				c = e.style,
				u = e.isActive,
				h = e.ariaCurrent,
				f = Ie(e, ["to", "exact", "strict", "location", "activeClassName", "className", "activeStyle", "style",
					"isActive", "ariaCurrent"
				]);
			return t.createElement(ut, {
				path: "object" === (void 0 === n ? "undefined" : ke(n)) ? n.pathname : n,
				exact: r,
				strict: i,
				location: o,
				children: function(e) {
					var r = e.location,
						i = e.match,
						o = !!(u ? u(i, r) : i);
					return t.createElement(je, De({
						to: n,
						className: o ? [s, a].filter(function(e) {
							return e
						}).join(" ") : s,
						style: o ? De({}, c, l) : c,
						"aria-current": o && h
					}, f))
				}
			})
		};
		ht.defaultProps = {
			activeClassName: "active",
			ariaCurrent: "true"
		};
		var ft = function(e) {
			function t() {
				return F(this, t), U(this, e.apply(this, arguments))
			}
			return j(t, e), t.prototype.enable = function(e) {
				this.unblock && this.unblock(), this.unblock = this.context.router.history.block(e)
			}, t.prototype.disable = function() {
				this.unblock && (this.unblock(), this.unblock = null)
			}, t.prototype.componentWillMount = function() {
				ye(this.context.router, "You should not use <Prompt> outside a <Router>"), this.props.when && this.enable(this.props
					.message)
			}, t.prototype.componentWillReceiveProps = function(e) {
				e.when ? this.props.when && this.props.message === e.message || this.enable(e.message) : this.disable()
			}, t.prototype.componentWillUnmount = function() {
				this.disable()
			}, t.prototype.render = function() {
				return null
			}, t
		}(t.Component);
		ft.propTypes = {
			when: Ce.bool,
			message: Ce.oneOfType([Ce.func, Ce.string]).isRequired
		}, ft.defaultProps = {
			when: !0
		}, ft.contextTypes = {
			router: Ce.shape({
				history: Ce.shape({
					block: Ce.func.isRequired
				}).isRequired
			}).isRequired
		};
		var dt = function(e) {
				var t = e || "/",
					n = "",
					r = "",
					i = t.indexOf("#"); - 1 !== i && (r = t.substr(i), t = t.substr(0, i));
				var o = t.indexOf("?");
				return -1 !== o && (n = t.substr(o), t = t.substr(0, o)), {
					pathname: t,
					search: "?" === n ? "" : n,
					hash: "#" === r ? "" : r
				}
			},
			pt = Object.assign || function(e) {
				for (var t = 1; t < arguments.length; t++) {
					var n = arguments[t];
					for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r])
				}
				return e
			},
			gt = function(e, t, n, r) {
				var i = void 0;
				"string" == typeof e ? (i = dt(e)).state = t : (void 0 === (i = pt({}, e)).pathname && (i.pathname = ""), i.search ?
					"?" !== i.search.charAt(0) && (i.search = "?" + i.search) : i.search = "", i.hash ? "#" !== i.hash.charAt(0) &&
					(i.hash = "#" + i.hash) : i.hash = "", void 0 !== t && void 0 === i.state && (i.state = t));
				try {
					i.pathname = decodeURI(i.pathname)
				} catch (e) {
					throw e instanceof URIError ? new URIError('Pathname "' + i.pathname +
						'" could not be decoded. This is likely caused by an invalid percent-encoding.') : e
				}
				return n && (i.key = n), r ? i.pathname ? "/" !== i.pathname.charAt(0) && (i.pathname = g(i.pathname, r.pathname)) :
					i.pathname = r.pathname : i.pathname || (i.pathname = "/"), i
			},
			mt = function(e, t) {
				return e.pathname === t.pathname && e.search === t.search && e.hash === t.hash && e.key === t.key && m(e.state, t.state)
			},
			vt = function(e) {
				function t() {
					return B(this, t), N(this, e.apply(this, arguments))
				}
				return z(t, e), t.prototype.isStatic = function() {
					return this.context.router && this.context.router.staticContext
				}, t.prototype.componentWillMount = function() {
					ye(this.context.router, "You should not use <Redirect> outside a <Router>"), this.isStatic() && this.perform()
				}, t.prototype.componentDidMount = function() {
					this.isStatic() || this.perform()
				}, t.prototype.componentDidUpdate = function(e) {
					var t = gt(e.to),
						n = gt(this.props.to);
					mt(t, n) ? ve(!1, "You tried to redirect to the same route you're currently on: \"" + n.pathname + n.search +
						'"') : this.perform()
				}, t.prototype.perform = function() {
					var e = this.context.router.history,
						t = this.props,
						n = t.push,
						r = t.to;
					n ? e.push(r) : e.replace(r)
				}, t.prototype.render = function() {
					return null
				}, t
			}(t.Component);
		vt.propTypes = {
			push: Ce.bool,
			from: Ce.string,
			to: Ce.oneOfType([Ce.string, Ce.object]).isRequired
		}, vt.defaultProps = {
			push: !1
		}, vt.contextTypes = {
			router: Ce.shape({
				history: Ce.shape({
					push: Ce.func.isRequired,
					replace: Ce.func.isRequired
				}).isRequired,
				staticContext: Ce.object
			}).isRequired
		};
		var yt = Object.assign || function(e) {
				for (var t = 1; t < arguments.length; t++) {
					var n = arguments[t];
					for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r])
				}
				return e
			},
			bt = function(e) {
				var t = e.pathname,
					n = void 0 === t ? "/" : t,
					r = e.search,
					i = void 0 === r ? "" : r,
					o = e.hash,
					a = void 0 === o ? "" : o;
				return {
					pathname: n,
					search: "?" === i ? "" : i,
					hash: "#" === a ? "" : a
				}
			},
			xt = function(e, t) {
				return e ? yt({}, t, {
					pathname: Ne(e) + t.pathname
				}) : t
			},
			wt = function(e, t) {
				if (!e) return t;
				var n = Ne(e);
				return 0 !== t.pathname.indexOf(n) ? t : yt({}, t, {
					pathname: t.pathname.substr(n.length)
				})
			},
			St = function(e) {
				return "string" == typeof e ? ze(e) : bt(e)
			},
			_t = function(e) {
				return "string" == typeof e ? e : He(e)
			},
			Tt = function(e) {
				return function() {
					ye(!1, "You cannot %s with <StaticRouter>", e)
				}
			},
			Ct = function() {},
			Et = function(e) {
				function n() {
					var t, r, i;
					G(this, n);
					for (var o = arguments.length, a = Array(o), s = 0; o > s; s++) a[s] = arguments[s];
					return t = r = X(this, e.call.apply(e, [this].concat(a))), r.createHref = function(e) {
						return Ne(r.props.basename + _t(e))
					}, r.handlePush = function(e) {
						var t = r.props,
							n = t.basename,
							i = t.context;
						i.action = "PUSH", i.location = xt(n, St(e)), i.url = _t(i.location)
					}, r.handleReplace = function(e) {
						var t = r.props,
							n = t.basename,
							i = t.context;
						i.action = "REPLACE", i.location = xt(n, St(e)), i.url = _t(i.location)
					}, r.handleListen = function() {
						return Ct
					}, r.handleBlock = function() {
						return Ct
					}, i = t, X(r, i)
				}
				return W(n, e), n.prototype.getChildContext = function() {
					return {
						router: {
							staticContext: this.props.context
						}
					}
				}, n.prototype.componentWillMount = function() {
					ve(!this.props.history,
						"<StaticRouter> ignores the history prop. To use a custom history, use `import { Router }` instead of `import { StaticRouter as Router }`."
					)
				}, n.prototype.render = function() {
					var e = this.props,
						n = e.basename,
						r = (e.context, e.location),
						i = H(e, ["basename", "context", "location"]),
						o = {
							createHref: this.createHref,
							action: "POP",
							location: wt(n, St(r)),
							push: this.handlePush,
							replace: this.handleReplace,
							go: Tt("go"),
							goBack: Tt("goBack"),
							goForward: Tt("goForward"),
							listen: this.handleListen,
							block: this.handleBlock
						};
					return t.createElement(Oe, yt({}, i, {
						history: o
					}))
				}, n
			}(t.Component);
		Et.propTypes = {
			basename: Ce.string,
			context: Ce.object.isRequired,
			location: Ce.oneOfType([Ce.string, Ce.object])
		}, Et.defaultProps = {
			basename: "",
			location: "/"
		}, Et.childContextTypes = {
			router: Ce.object.isRequired
		};
		var Ot = function(e) {
			function n() {
				return Y(this, n), q(this, e.apply(this, arguments))
			}
			return V(n, e), n.prototype.componentWillMount = function() {
				ye(this.context.router, "You should not use <Switch> outside a <Router>")
			}, n.prototype.componentWillReceiveProps = function(e) {
				ve(!(e.location && !this.props.location),
					'<Switch> elements should not change from uncontrolled to controlled (or vice versa). You initially used no "location" prop and then provided one on a subsequent render.'
				), ve(!(!e.location && this.props.location),
					'<Switch> elements should not change from controlled to uncontrolled (or vice versa). You provided a "location" prop initially but omitted it on a subsequent render.'
				)
			}, n.prototype.render = function() {
				var e = this.context.router.route,
					n = this.props.children,
					r = this.props.location || e.location,
					i = void 0,
					o = void 0;
				return t.Children.forEach(n, function(n) {
					if (t.isValidElement(n)) {
						var a = n.props,
							s = a.path,
							l = a.exact,
							c = a.strict,
							u = a.sensitive,
							h = a.from,
							f = s || h;
						null == i && (o = n, i = f ? st(r.pathname, {
							path: f,
							exact: l,
							strict: c,
							sensitive: u
						}) : e.match)
					}
				}), i ? t.cloneElement(o, {
					location: r,
					computedMatch: i
				}) : null
			}, n
		}(t.Component);
		Ot.contextTypes = {
			router: Ce.shape({
				route: Ce.object.isRequired
			}).isRequired
		}, Ot.propTypes = {
			children: Ce.node,
			location: Ce.object
		};
		var kt = {
				childContextTypes: !0,
				contextTypes: !0,
				defaultProps: !0,
				displayName: !0,
				getDefaultProps: !0,
				mixins: !0,
				propTypes: !0,
				type: !0
			},
			Rt = {
				name: !0,
				length: !0,
				prototype: !0,
				caller: !0,
				callee: !0,
				arguments: !0,
				arity: !0
			},
			Dt = Object.defineProperty,
			At = Object.getOwnPropertyNames,
			It = Object.getOwnPropertySymbols,
			Mt = Object.getOwnPropertyDescriptor,
			Lt = Object.getPrototypeOf,
			Pt = Lt && Lt(Object),
			Ft = function jt(e, t, n) {
				if ("string" != typeof t) {
					if (Pt) {
						var r = Lt(t);
						r && r !== Pt && jt(e, r, n)
					}
					var i = At(t);
					It && (i = i.concat(It(t)));
					for (var o = 0; o < i.length; ++o) {
						var a = i[o];
						if (!(kt[a] || Rt[a] || n && n[a])) {
							var s = Mt(t, a);
							try {
								Dt(e, a, s)
							} catch (jt) {}
						}
					}
					return e
				}
				return e
			},
			Ut = Object.assign || function(e) {
				for (var t = 1; t < arguments.length; t++) {
					var n = arguments[t];
					for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r])
				}
				return e
			};
		e.BrowserRouter = Le, e.HashRouter = Fe, e.Link = je, e.MemoryRouter = Ze, e.NavLink = ht, e.Prompt = ft, e.Redirect =
			vt, e.Route = ut, e.Router = Oe, e.StaticRouter = Et, e.Switch = Ot, e.matchPath = st, e.withRouter = function(e) {
				var n = function(n) {
					var r = n.wrappedComponentRef,
						i = K(n, ["wrappedComponentRef"]);
					return t.createElement(ut, {
						render: function(n) {
							return t.createElement(e, Ut({}, i, n, {
								ref: r
							}))
						}
					})
				};
				return n.displayName = "withRouter(" + (e.displayName || e.name) + ")", n.WrappedComponent = e, n.propTypes = {
					wrappedComponentRef: Ce.func
				}, Ft(n, e)
			}, Object.defineProperty(e, "__esModule", {
				value: !0
			})
	}),
	function(e) {
		function t(e, t, n, r, i) {
			this._listener = t, this._isOnce = n, this.context = r, this._signal = e, this._priority = i || 0
		}

		function n(e, t) {
			"function" != typeof e && console.warn("listener is a required param of {fn}() and should be a Function.".replace(
				"{fn}", t))
		}

		function r() {
			this._bindings = [];
			var e = this;
			this.dispatch = function() {
				return r.prototype.dispatch.apply(e, arguments)
			}
		}
		t.prototype = {
			active: !0,
			params: null,
			execute: function(e) {
				var t;
				return this.active && this._listener && (this.params = e, t = this._listener.call(this.context, this), this._isOnce &&
					this.detach()), t
			},
			reinvoke: function() {
				this._signal.dispatch.apply(this._signal, this.params)
			},
			detach: function() {
				return this.isBound() ? this._signal.remove(this._listener, this.context) : null
			},
			isBound: function() {
				return !!this._signal && !!this._listener
			},
			isOnce: function() {
				return this._isOnce
			},
			getListener: function() {
				return this._listener
			},
			getSignal: function() {
				return this._signal
			},
			getSignalTarget: function() {
				return this._signal.target
			},
			_destroy: function() {
				delete this._signal, delete this._listener, delete this.context
			},
			toString: function() {
				return "[SignalBinding isOnce:" + this._isOnce + ", isBound:" + this.isBound() + ", active:" + this.active + "]"
			}
		}, Object.defineProperty(t.prototype, "target", {
			get: function() {
				return this.getSignalTarget()
			}
		}), Object.defineProperty(t.prototype, "signal", {
			get: function() {
				return this.getSignal()
			}
		}), r.prototype = {
			VERSION: "1.0.0",
			_shouldPropagate: !0,
			active: !0,
			_registerListener: function(e, n, r, i) {
				var o, a = this._indexOfListener(e, r);
				if (-1 !== a) {
					if (o = this._bindings[a], o.isOnce() !== n) throw new Error("You cannot add" + (n ? "" : "Once") +
						"() then add" + (n ? "Once" : "") + "() the same listener without removing the relationship first.")
				} else o = new t(this, e, n, r, i), this._addBinding(o);
				return o
			},
			_addBinding: function(e) {
				var t = this._bindings.length;
				do --t; while (this._bindings[t] && e._priority <= this._bindings[t]._priority);
				this._bindings.splice(t + 1, 0, e)
			},
			_indexOfListener: function(e, t) {
				for (var n, r = this._bindings.length; r--;)
					if (n = this._bindings[r], n._listener === e && n.context === t) return r;
				return -1
			},
			has: function(e, t) {
				return -1 !== this._indexOfListener(e, t)
			},
			add: function(e, t, r) {
				return n(e, "add"), this._registerListener(e, !1, t, r)
			},
			addOnce: function(e, t, r) {
				return n(e, "addOnce"), this._registerListener(e, !0, t, r)
			},
			remove: function(e, t) {
				n(e, "remove");
				var r = this._indexOfListener(e, t);
				return -1 !== r && (this._bindings[r]._destroy(), this._bindings.splice(r, 1)), e
			},
			removeAll: function() {
				for (var e = this._bindings.length; e--;) this._bindings[e]._destroy();
				this._bindings.length = 0
			},
			getNumListeners: function() {
				return this._bindings.length
			},
			halt: function() {
				this._shouldPropagate = !1
			},
			dispatch: function(e) {
				if (!this.active) return !1;
				var t, n = Array.prototype.slice.call(arguments),
					r = this._bindings.length;
				for (t = this._bindings.slice(), this._shouldPropagate = !0; r-- >= 0;)
					if (t[r] && this._shouldPropagate && t[r].execute(n) === !1) return !1;
				return !0
			},
			dispose: function() {
				this.removeAll(), delete this._bindings
			},
			toString: function() {
				return "[Signal active:" + this.active + " numListeners:" + this.getNumListeners() + "]"
			}
		};
		var i = r;
		i.Signal = r, "function" == typeof define && define.amd ? define("signals", [], function() {
			return i
		}) : "undefined" != typeof module && module.exports ? module.exports = i : e.signals = i
	}(this);
var MXI_DEBUG = !1;
! function(e, t) {
	var n = function() {
		var e = {};
		return t.apply(e, arguments), e.moxie
	};
	"function" == typeof define && define.amd ? define("moxie", [], n) : "object" == typeof module && module.exports ?
		module.exports = n() : e.moxie = n()
}(this || window, function() {
	! function(e, t) {
		"use strict";

		function n(e, t) {
			for (var n, r = [], i = 0; i < e.length; ++i) {
				if (n = s[e[i]] || o(e[i]), !n) throw "module definition dependecy not found: " + e[i];
				r.push(n)
			}
			t.apply(null, r)
		}

		function r(e, r, i) {
			if ("string" != typeof e) throw "invalid module definition, module id must be defined and be a string";
			if (r === t) throw "invalid module definition, dependencies must be specified";
			if (i === t) throw "invalid module definition, definition function must be specified";
			n(r, function() {
				s[e] = i.apply(null, arguments)
			})
		}

		function i(e) {
			return !!s[e]
		}

		function o(t) {
			for (var n = e, r = t.split(/[.\/]/), i = 0; i < r.length; ++i) {
				if (!n[r[i]]) return;
				n = n[r[i]]
			}
			return n
		}

		function a(n) {
			for (var r = 0; r < n.length; r++) {
				for (var i = e, o = n[r], a = o.split(/[.\/]/), l = 0; l < a.length - 1; ++l) i[a[l]] === t && (i[a[l]] = {}), i =
					i[a[l]];
				i[a[a.length - 1]] = s[o]
			}
		}
		var s = {};
		r("moxie/core/utils/Basic", [], function() {
			function e(e) {
				var t;
				return e === t ? "undefined" : null === e ? "null" : e.nodeType ? "node" : {}.toString.call(e).match(
					/\s([a-z|A-Z]+)/)[1].toLowerCase()
			}

			function t() {
				return a(!1, !1, arguments)
			}

			function n() {
				return a(!0, !1, arguments)
			}

			function r() {
				return a(!1, !0, arguments)
			}

			function i() {
				return a(!0, !0, arguments)
			}

			function o(n) {
				switch (e(n)) {
					case "array":
						return Array.prototype.slice.call(n);
					case "object":
						return t({}, n)
				}
				return n
			}

			function a(t, n, r) {
				var i, s = r[0];
				return l(r, function(r, c) {
					c > 0 && l(r, function(r, l) {
						var c = -1 !== f(e(r), ["array", "object"]);
						return r === i || t && s[l] === i ? !0 : (c && n && (r = o(r)), void(e(s[l]) === e(r) && c ? a(t, n, [s[l],
							r
						]) : s[l] = r))
					})
				}), s
			}

			function s(e, t) {
				function n() {
					this.constructor = e
				}
				for (var r in t)({}).hasOwnProperty.call(t, r) && (e[r] = t[r]);
				return n.prototype = t.prototype, e.prototype = new n, e.__parent__ = t.prototype, e
			}

			function l(e, t) {
				var n, r, i, o;
				if (e) {
					try {
						n = e.length
					} catch (a) {
						n = o
					}
					if (n === o || "number" != typeof n) {
						for (r in e)
							if (e.hasOwnProperty(r) && t(e[r], r) === !1) return
					} else
						for (i = 0; n > i; i++)
							if (t(e[i], i) === !1) return
				}
			}

			function c(t) {
				var n;
				if (!t || "object" !== e(t)) return !0;
				for (n in t) return !1;
				return !0
			}

			function u(t, n) {
				var r = 0,
					i = t.length;
				"function" !== e(n) && (n = function() {}), t && t.length || n();
				var o = function(r) {
					"function" === e(t[r]) && t[r](function(e) {
						++r < i && !e ? o(r) : n(e)
					})
				};
				o(r)
			}

			function h(e, t) {
				var n = 0,
					r = e.length,
					i = new Array(r);
				l(e, function(e, o) {
					e(function(e) {
						if (e) return t(e);
						var a = [].slice.call(arguments);
						a.shift(), i[o] = a, n++, n === r && (i.unshift(null), t.apply(this, i))
					})
				})
			}

			function f(e, t) {
				if (t) {
					if (Array.prototype.indexOf) return Array.prototype.indexOf.call(t, e);
					for (var n = 0, r = t.length; r > n; n++)
						if (t[n] === e) return n
				}
				return -1
			}

			function d(t, n) {
				var r = [];
				"array" !== e(t) && (t = [t]), "array" !== e(n) && (n = [n]);
				for (var i in t) - 1 === f(t[i], n) && r.push(t[i]);
				return r.length ? r : !1
			}

			function p(e, t) {
				var n = [];
				return l(e, function(e) {
					-1 !== f(e, t) && n.push(e)
				}), n.length ? n : null
			}

			function g(e) {
				var t, n = [];
				for (t = 0; t < e.length; t++) n[t] = e[t];
				return n
			}

			function m(e) {
				return e ? String.prototype.trim ? String.prototype.trim.call(e) : e.toString().replace(/^\s*/, "").replace(
					/\s*$/, "") : e
			}

			function v(e) {
				if ("string" != typeof e) return e;
				var t, n = {
					t: 1099511627776,
					g: 1073741824,
					m: 1048576,
					k: 1024
				};
				return e = /^([0-9\.]+)([tmgk]?)$/.exec(e.toLowerCase().replace(/[^0-9\.tmkg]/g, "")), t = e[2], e = +e[1], n.hasOwnProperty(
					t) && (e *= n[t]), Math.floor(e)
			}

			function y(t) {
				var n = [].slice.call(arguments, 1);
				return t.replace(/%[a-z]/g, function() {
					var t = n.shift();
					return "undefined" !== e(t) ? t : ""
				})
			}

			function b(e, t) {
				var n = this;
				setTimeout(function() {
					e.call(n)
				}, t || 1)
			}
			var x = function() {
				var e = 0;
				return function(t) {
					var n, r = (new Date).getTime().toString(32);
					for (n = 0; 5 > n; n++) r += Math.floor(65535 * Math.random()).toString(32);
					return (t || "o_") + r + (e++).toString(32)
				}
			}();
			return {
				guid: x,
				typeOf: e,
				extend: t,
				extendIf: n,
				extendImmutable: r,
				extendImmutableIf: i,
				inherit: s,
				each: l,
				isEmptyObj: c,
				inSeries: u,
				inParallel: h,
				inArray: f,
				arrayDiff: d,
				arrayIntersect: p,
				toArray: g,
				trim: m,
				sprintf: y,
				parseSizeStr: v,
				delay: b
			}
		}), r("moxie/core/utils/Encode", [], function() {
			var e = function(e) {
					return unescape(encodeURIComponent(e))
				},
				t = function(e) {
					return decodeURIComponent(escape(e))
				},
				n = function(e, n) {
					if ("function" == typeof window.atob) return n ? t(window.atob(e)) : window.atob(e);
					var r, i, o, a, s, l, c, u, h = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",
						f = 0,
						d = 0,
						p = "",
						g = [];
					if (!e) return e;
					e += "";
					do a = h.indexOf(e.charAt(f++)), s = h.indexOf(e.charAt(f++)), l = h.indexOf(e.charAt(f++)), c = h.indexOf(e.charAt(
							f++)), u = a << 18 | s << 12 | l << 6 | c, r = u >> 16 & 255, i = u >> 8 & 255, o = 255 & u, 64 == l ? g[d++] =
						String.fromCharCode(r) : 64 == c ? g[d++] = String.fromCharCode(r, i) : g[d++] = String.fromCharCode(r, i, o); while (
						f < e.length);
					return p = g.join(""), n ? t(p) : p
				},
				r = function(t, n) {
					if (n && (t = e(t)), "function" == typeof window.btoa) return window.btoa(t);
					var r, i, o, a, s, l, c, u, h = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",
						f = 0,
						d = 0,
						p = "",
						g = [];
					if (!t) return t;
					do r = t.charCodeAt(f++), i = t.charCodeAt(f++), o = t.charCodeAt(f++), u = r << 16 | i << 8 | o, a = u >> 18 &
						63, s = u >> 12 & 63, l = u >> 6 & 63, c = 63 & u, g[d++] = h.charAt(a) + h.charAt(s) + h.charAt(l) + h.charAt(
							c); while (f < t.length);
					p = g.join("");
					var m = t.length % 3;
					return (m ? p.slice(0, m - 3) : p) + "===".slice(m || 3)
				};
			return {
				utf8_encode: e,
				utf8_decode: t,
				atob: n,
				btoa: r
			}
		}), r("moxie/core/utils/Env", ["moxie/core/utils/Basic"], function(e) {
			function t(e, t, n) {
				var r = 0,
					i = 0,
					o = 0,
					a = {
						dev: -6,
						alpha: -5,
						a: -5,
						beta: -4,
						b: -4,
						RC: -3,
						rc: -3,
						"#": -2,
						p: 1,
						pl: 1
					},
					s = function(e) {
						return e = ("" + e).replace(/[_\-+]/g, "."), e = e.replace(/([^.\d]+)/g, ".$1.").replace(/\.{2,}/g, "."), e.length ?
							e.split(".") : [-8]
					},
					l = function(e) {
						return e ? isNaN(e) ? a[e] || -7 : parseInt(e, 10) : 0
					};
				for (e = s(e), t = s(t), i = Math.max(e.length, t.length), r = 0; i > r; r++)
					if (e[r] != t[r]) {
						if (e[r] = l(e[r]), t[r] = l(t[r]), e[r] < t[r]) {
							o = -1;
							break
						}
						if (e[r] > t[r]) {
							o = 1;
							break
						}
					} if (!n) return o;
				switch (n) {
					case ">":
					case "gt":
						return o > 0;
					case ">=":
					case "ge":
						return o >= 0;
					case "<=":
					case "le":
						return 0 >= o;
					case "==":
					case "=":
					case "eq":
						return 0 === o;
					case "<>":
					case "!=":
					case "ne":
						return 0 !== o;
					case "":
					case "<":
					case "lt":
						return 0 > o;
					default:
						return null
				}
			}
			var n = function(e) {
					var t = "",
						n = "?",
						r = "function",
						i = "undefined",
						o = "object",
						a = "name",
						s = "version",
						l = {
							has: function(e, t) {
								return -1 !== t.toLowerCase().indexOf(e.toLowerCase())
							},
							lowerize: function(e) {
								return e.toLowerCase()
							}
						},
						c = {
							rgx: function() {
								for (var t, n, a, s, l, c, u, h = 0, f = arguments; h < f.length; h += 2) {
									var d = f[h],
										p = f[h + 1];
									if (typeof t === i) {
										t = {};
										for (s in p) l = p[s], typeof l === o ? t[l[0]] = e : t[l] = e
									}
									for (n = a = 0; n < d.length; n++)
										if (c = d[n].exec(this.getUA())) {
											for (s = 0; s < p.length; s++) u = c[++a], l = p[s], typeof l === o && l.length > 0 ? 2 == l.length ?
												typeof l[1] == r ? t[l[0]] = l[1].call(this, u) : t[l[0]] = l[1] : 3 == l.length ? typeof l[1] !== r ||
												l[1].exec && l[1].test ? t[l[0]] = u ? u.replace(l[1], l[2]) : e : t[l[0]] = u ? l[1].call(this, u, l[2]) :
												e : 4 == l.length && (t[l[0]] = u ? l[3].call(this, u.replace(l[1], l[2])) : e) : t[l] = u ? u : e;
											break
										} if (c) break
								}
								return t
							},
							str: function(t, r) {
								for (var i in r)
									if (typeof r[i] === o && r[i].length > 0) {
										for (var a = 0; a < r[i].length; a++)
											if (l.has(r[i][a], t)) return i === n ? e : i
									} else if (l.has(r[i], t)) return i === n ? e : i;
								return t
							}
						},
						u = {
							browser: {
								oldsafari: {
									major: {
										1: ["/8", "/1", "/3"],
										2: "/4",
										"?": "/"
									},
									version: {
										"1.0": "/8",
										1.2: "/1",
										1.3: "/3",
										"2.0": "/412",
										"2.0.2": "/416",
										"2.0.3": "/417",
										"2.0.4": "/419",
										"?": "/"
									}
								}
							},
							device: {
								sprint: {
									model: {
										"Evo Shift 4G": "7373KT"
									},
									vendor: {
										HTC: "APA",
										Sprint: "Sprint"
									}
								}
							},
							os: {
								windows: {
									version: {
										ME: "4.90",
										"NT 3.11": "NT3.51",
										"NT 4.0": "NT4.0",
										2000: "NT 5.0",
										XP: ["NT 5.1", "NT 5.2"],
										Vista: "NT 6.0",
										7: "NT 6.1",
										8: "NT 6.2",
										8.1: "NT 6.3",
										RT: "ARM"
									}
								}
							}
						},
						h = {
							browser: [
								[/(opera\smini)\/([\w\.-]+)/i, /(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,
									/(opera).+version\/([\w\.]+)/i, /(opera)[\/\s]+([\w\.]+)/i
								],
								[a, s],
								[/\s(opr)\/([\w\.]+)/i],
								[
									[a, "Opera"], s
								],
								[/(kindle)\/([\w\.]+)/i, /(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]+)*/i,
									/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i, /(?:ms|\()(ie)\s([\w\.]+)/i,
									/(rekonq)\/([\w\.]+)*/i,
									/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi)\/([\w\.-]+)/i
								],
								[a, s],
								[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],
								[
									[a, "IE"], s
								],
								[/(edge)\/((\d+)?[\w\.]+)/i],
								[a, s],
								[/(yabrowser)\/([\w\.]+)/i],
								[
									[a, "Yandex"], s
								],
								[/(comodo_dragon)\/([\w\.]+)/i],
								[
									[a, /_/g, " "], s
								],
								[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i,
									/(uc\s?browser|qqbrowser)[\/\s]?([\w\.]+)/i
								],
								[a, s],
								[/(dolfin)\/([\w\.]+)/i],
								[
									[a, "Dolphin"], s
								],
								[/((?:android.+)crmo|crios)\/([\w\.]+)/i],
								[
									[a, "Chrome"], s
								],
								[/XiaoMi\/MiuiBrowser\/([\w\.]+)/i],
								[s, [a, "MIUI Browser"]],
								[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)/i],
								[s, [a, "Android Browser"]],
								[/FBAV\/([\w\.]+);/i],
								[s, [a, "Facebook"]],
								[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],
								[s, [a, "Mobile Safari"]],
								[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],
								[s, a],
								[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],
								[a, [s, c.str, u.browser.oldsafari.version]],
								[/(konqueror)\/([\w\.]+)/i, /(webkit|khtml)\/([\w\.]+)/i],
								[a, s],
								[/(navigator|netscape)\/([\w\.-]+)/i],
								[
									[a, "Netscape"], s
								],
								[/(swiftfox)/i,
									/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,
									/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix)\/([\w\.-]+)/i,
									/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,
									/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf)[\/\s]?([\w\.]+)/i, /(links)\s\(([\w\.]+)/i,
									/(gobrowser)\/?([\w\.]+)*/i, /(ice\s?browser)\/v?([\w\._]+)/i, /(mosaic)[\/\s]([\w\.]+)/i
								],
								[a, s]
							],
							engine: [
								[/windows.+\sedge\/([\w\.]+)/i],
								[s, [a, "EdgeHTML"]],
								[/(presto)\/([\w\.]+)/i, /(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i,
									/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i, /(icab)[\/\s]([23]\.[\d\.]+)/i
								],
								[a, s],
								[/rv\:([\w\.]+).*(gecko)/i],
								[s, a]
							],
							os: [
								[/microsoft\s(windows)\s(vista|xp)/i],
								[a, s],
								[/(windows)\snt\s6\.2;\s(arm)/i,
									/(windows\sphone(?:\sos)*|windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i
								],
								[a, [s, c.str, u.os.windows.version]],
								[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],
								[
									[a, "Windows"],
									[s, c.str, u.os.windows.version]
								],
								[/\((bb)(10);/i],
								[
									[a, "BlackBerry"], s
								],
								[/(blackberry)\w*\/?([\w\.]+)*/i, /(tizen)[\/\s]([\w\.]+)/i,
									/(android|webos|palm\os|qnx|bada|rim\stablet\sos|meego|contiki)[\/\s-]?([\w\.]+)*/i,
									/linux;.+(sailfish);/i
								],
								[a, s],
								[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]+)*/i],
								[
									[a, "Symbian"], s
								],
								[/\((series40);/i],
								[a],
								[/mozilla.+\(mobile;.+gecko.+firefox/i],
								[
									[a, "Firefox OS"], s
								],
								[/(nintendo|playstation)\s([wids3portablevu]+)/i, /(mint)[\/\s\(]?(\w+)*/i, /(mageia|vectorlinux)[;\s]/i,
									/(joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?([\w\.-]+)*/i,
									/(hurd|linux)\s?([\w\.]+)*/i, /(gnu)\s?([\w\.]+)*/i
								],
								[a, s],
								[/(cros)\s[\w]+\s([\w\.]+\w)/i],
								[
									[a, "Chromium OS"], s
								],
								[/(sunos)\s?([\w\.]+\d)*/i],
								[
									[a, "Solaris"], s
								],
								[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]+)*/i],
								[a, s],
								[/(ip[honead]+)(?:.*os\s*([\w]+)*\slike\smac|;\sopera)/i],
								[
									[a, "iOS"],
									[s, /_/g, "."]
								],
								[/(mac\sos\sx)\s?([\w\s\.]+\w)*/i, /(macintosh|mac(?=_powerpc)\s)/i],
								[
									[a, "Mac OS"],
									[s, /_/g, "."]
								],
								[/((?:open)?solaris)[\/\s-]?([\w\.]+)*/i, /(haiku)\s(\w+)/i, /(aix)\s((\d)(?=\.|\)|\s)[\w\.]*)*/i,
									/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms)/i, /(unix)\s?([\w\.]+)*/i
								],
								[a, s]
							]
						},
						f = function(e) {
							var n = e || (window && window.navigator && window.navigator.userAgent ? window.navigator.userAgent : t);
							this.getBrowser = function() {
								return c.rgx.apply(this, h.browser)
							}, this.getEngine = function() {
								return c.rgx.apply(this, h.engine)
							}, this.getOS = function() {
								return c.rgx.apply(this, h.os)
							}, this.getResult = function() {
								return {
									ua: this.getUA(),
									browser: this.getBrowser(),
									engine: this.getEngine(),
									os: this.getOS()
								}
							}, this.getUA = function() {
								return n
							}, this.setUA = function(e) {
								return n = e, this
							}, this.setUA(n)
						};
					return f
				}(),
				r = function() {
					var t = {
						define_property: function() {
							return !1
						}(),
						create_canvas: function() {
							var e = document.createElement("canvas");
							return !(!e.getContext || !e.getContext("2d"))
						}(),
						return_response_type: function(t) {
							try {
								if (-1 !== e.inArray(t, ["", "text", "document"])) return !0;
								if (window.XMLHttpRequest) {
									var n = new XMLHttpRequest;
									if (n.open("get", "/"), "responseType" in n) return n.responseType = t, n.responseType !== t ? !1 : !0
								}
							} catch (r) {}
							return !1
						},
						use_data_uri: function() {
							var e = new Image;
							return e.onload = function() {
								t.use_data_uri = 1 === e.width && 1 === e.height
							}, setTimeout(function() {
								e.src = "data:image/gif;base64,R0lGODlhAQABAIAAAP8AAAAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw=="
							}, 1), !1
						}(),
						use_data_uri_over32kb: function() {
							return t.use_data_uri && ("IE" !== o.browser || o.version >= 9)
						},
						use_data_uri_of: function(e) {
							return t.use_data_uri && 33e3 > e || t.use_data_uri_over32kb()
						},
						use_fileinput: function() {
							if (navigator.userAgent.match(
									/(Android (1.0|1.1|1.5|1.6|2.0|2.1))|(Windows Phone (OS 7|8.0))|(XBLWP)|(ZuneWP)|(w(eb)?OSBrowser)|(webOS)|(Kindle\/(1.0|2.0|2.5|3.0))/
								)) return !1;
							var e = document.createElement("input");
							return e.setAttribute("type", "file"), !e.disabled
						}
					};
					return function(n) {
						var r = [].slice.call(arguments);
						return r.shift(), "function" === e.typeOf(t[n]) ? t[n].apply(this, r) : !!t[n]
					}
				}(),
				i = (new n).getResult(),
				o = {
					can: r,
					uaParser: n,
					browser: i.browser.name,
					version: i.browser.version,
					os: i.os.name,
					osVersion: i.os.version,
					verComp: t,
					swf_url: "../flash/Moxie.swf",
					xap_url: "../silverlight/Moxie.xap",
					global_event_dispatcher: "moxie.core.EventTarget.instance.dispatchEvent"
				};
			return o.OS = o.os, MXI_DEBUG && (o.debug = {
				runtime: !0,
				events: !1
			}, o.log = function() {
				function t(e) {
					r.appendChild(document.createTextNode(e + "\n"))
				}
				var n = arguments[0];
				if ("string" === e.typeOf(n) && (n = e.sprintf.apply(this, arguments)), window && window.console && window.console
					.log) window.console.log(n);
				else if (document) {
					var r = document.getElementById("moxie-console");
					r || (r = document.createElement("pre"), r.id = "moxie-console", document.body.appendChild(r)), -1 !== e.inArray(
						e.typeOf(n), ["object", "array"]) ? t(n) : r.appendChild(document.createTextNode(n + "\n"))
				}
			}), o
		}), r("moxie/core/Exceptions", ["moxie/core/utils/Basic"], function(e) {
			function t(e, t) {
				var n;
				for (n in e)
					if (e[n] === t) return n;
				return null
			}
			return {
				RuntimeError: function() {
					function n(e, n) {
						this.code = e, this.name = t(r, e), this.message = this.name + (n || ": RuntimeError " + this.code)
					}
					var r = {
						NOT_INIT_ERR: 1,
						EXCEPTION_ERR: 3,
						NOT_SUPPORTED_ERR: 9,
						JS_ERR: 4
					};
					return e.extend(n, r), n.prototype = Error.prototype, n
				}(),
				OperationNotAllowedException: function() {
					function t(e) {
						this.code = e, this.name = "OperationNotAllowedException"
					}
					return e.extend(t, {
						NOT_ALLOWED_ERR: 1
					}), t.prototype = Error.prototype, t
				}(),
				ImageError: function() {
					function n(e) {
						this.code = e, this.name = t(r, e), this.message = this.name + ": ImageError " + this.code
					}
					var r = {
						WRONG_FORMAT: 1,
						MAX_RESOLUTION_ERR: 2,
						INVALID_META_ERR: 3
					};
					return e.extend(n, r), n.prototype = Error.prototype, n
				}(),
				FileException: function() {
					function n(e) {
						this.code = e, this.name = t(r, e), this.message = this.name + ": FileException " + this.code
					}
					var r = {
						NOT_FOUND_ERR: 1,
						SECURITY_ERR: 2,
						ABORT_ERR: 3,
						NOT_READABLE_ERR: 4,
						ENCODING_ERR: 5,
						NO_MODIFICATION_ALLOWED_ERR: 6,
						INVALID_STATE_ERR: 7,
						SYNTAX_ERR: 8
					};
					return e.extend(n, r), n.prototype = Error.prototype, n
				}(),
				DOMException: function() {
					function n(e) {
						this.code = e, this.name = t(r, e), this.message = this.name + ": DOMException " + this.code
					}
					var r = {
						INDEX_SIZE_ERR: 1,
						DOMSTRING_SIZE_ERR: 2,
						HIERARCHY_REQUEST_ERR: 3,
						WRONG_DOCUMENT_ERR: 4,
						INVALID_CHARACTER_ERR: 5,
						NO_DATA_ALLOWED_ERR: 6,
						NO_MODIFICATION_ALLOWED_ERR: 7,
						NOT_FOUND_ERR: 8,
						NOT_SUPPORTED_ERR: 9,
						INUSE_ATTRIBUTE_ERR: 10,
						INVALID_STATE_ERR: 11,
						SYNTAX_ERR: 12,
						INVALID_MODIFICATION_ERR: 13,
						NAMESPACE_ERR: 14,
						INVALID_ACCESS_ERR: 15,
						VALIDATION_ERR: 16,
						TYPE_MISMATCH_ERR: 17,
						SECURITY_ERR: 18,
						NETWORK_ERR: 19,
						ABORT_ERR: 20,
						URL_MISMATCH_ERR: 21,
						QUOTA_EXCEEDED_ERR: 22,
						TIMEOUT_ERR: 23,
						INVALID_NODE_TYPE_ERR: 24,
						DATA_CLONE_ERR: 25
					};
					return e.extend(n, r), n.prototype = Error.prototype, n
				}(),
				EventException: function() {
					function t(e) {
						this.code = e, this.name = "EventException"
					}
					return e.extend(t, {
						UNSPECIFIED_EVENT_TYPE_ERR: 0
					}), t.prototype = Error.prototype, t
				}()
			}
		}), r("moxie/core/utils/Dom", ["moxie/core/utils/Env"], function(e) {
			var t = function(e) {
					return "string" != typeof e ? e : document.getElementById(e)
				},
				n = function(e, t) {
					if (!e.className) return !1;
					var n = new RegExp("(^|\\s+)" + t + "(\\s+|$)");
					return n.test(e.className)
				},
				r = function(e, t) {
					n(e, t) || (e.className = e.className ? e.className.replace(/\s+$/, "") + " " + t : t)
				},
				i = function(e, t) {
					if (e.className) {
						var n = new RegExp("(^|\\s+)" + t + "(\\s+|$)");
						e.className = e.className.replace(n, function(e, t, n) {
							return " " === t && " " === n ? " " : ""
						})
					}
				},
				o = function(e, t) {
					return e.currentStyle ? e.currentStyle[t] : window.getComputedStyle ? window.getComputedStyle(e, null)[t] :
						void 0
				},
				a = function(t, n) {
					function r(e) {
						var t, n, r = 0,
							i = 0;
						return e && (n = e.getBoundingClientRect(), t = "CSS1Compat" === c.compatMode ? c.documentElement : c.body, r =
							n.left + t.scrollLeft, i = n.top + t.scrollTop), {
							x: r,
							y: i
						}
					}
					var i, o, a, s = 0,
						l = 0,
						c = document;
					if (t = t, n = n || c.body, t && t.getBoundingClientRect && "IE" === e.browser && (!c.documentMode || c.documentMode <
							8)) return o = r(t), a = r(n), {
						x: o.x - a.x,
						y: o.y - a.y
					};
					for (i = t; i && i != n && i.nodeType;) s += i.offsetLeft || 0, l += i.offsetTop || 0, i = i.offsetParent;
					for (i = t.parentNode; i && i != n && i.nodeType;) s -= i.scrollLeft || 0, l -= i.scrollTop || 0, i = i.parentNode;
					return {
						x: s,
						y: l
					}
				},
				s = function(e) {
					return {
						w: e.offsetWidth || e.clientWidth,
						h: e.offsetHeight || e.clientHeight
					}
				};
			return {
				get: t,
				hasClass: n,
				addClass: r,
				removeClass: i,
				getStyle: o,
				getPos: a,
				getSize: s
			}
		}), r("moxie/core/EventTarget", ["moxie/core/utils/Env", "moxie/core/Exceptions", "moxie/core/utils/Basic"],
			function(e, t, n) {
				function r() {
					this.uid = n.guid()
				}
				var i = {};
				return n.extend(r.prototype, {
					init: function() {
						this.uid || (this.uid = n.guid("uid_"))
					},
					addEventListener: function(e, t, r, o) {
						var a, s = this;
						return this.hasOwnProperty("uid") || (this.uid = n.guid("uid_")), e = n.trim(e), /\s/.test(e) ? void n.each(
							e.split(/\s+/),
							function(e) {
								s.addEventListener(e, t, r, o)
							}) : (e = e.toLowerCase(), r = parseInt(r, 10) || 0, a = i[this.uid] && i[this.uid][e] || [], a.push({
							fn: t,
							priority: r,
							scope: o || this
						}), i[this.uid] || (i[this.uid] = {}), void(i[this.uid][e] = a))
					},
					hasEventListener: function(e) {
						var t;
						return e ? (e = e.toLowerCase(), t = i[this.uid] && i[this.uid][e]) : t = i[this.uid], t ? t : !1
					},
					removeEventListener: function(e, t) {
						var r, o, a = this;
						if (e = e.toLowerCase(), /\s/.test(e)) return void n.each(e.split(/\s+/), function(e) {
							a.removeEventListener(e, t)
						});
						if (r = i[this.uid] && i[this.uid][e]) {
							if (t) {
								for (o = r.length - 1; o >= 0; o--)
									if (r[o].fn === t) {
										r.splice(o, 1);
										break
									}
							} else r = [];
							r.length || (delete i[this.uid][e], n.isEmptyObj(i[this.uid]) && delete i[this.uid])
						}
					},
					removeAllEventListeners: function() {
						i[this.uid] && delete i[this.uid]
					},
					dispatchEvent: function(r) {
						var o, a, s, l, c, u = {},
							h = !0;
						if ("string" !== n.typeOf(r)) {
							if (l = r, "string" !== n.typeOf(l.type)) throw new t.EventException(t.EventException.UNSPECIFIED_EVENT_TYPE_ERR);
							r = l.type, l.total !== c && l.loaded !== c && (u.total = l.total, u.loaded = l.loaded), u.async = l.async ||
								!1
						}
						if (-1 !== r.indexOf("::") ? ! function(e) {
								o = e[0], r = e[1]
							}(r.split("::")) : o = this.uid, r = r.toLowerCase(), a = i[o] && i[o][r]) {
							a.sort(function(e, t) {
								return t.priority - e.priority
							}), s = [].slice.call(arguments), s.shift(), u.type = r, s.unshift(u), MXI_DEBUG && e.debug.events && e.log(
								"Event '%s' fired on %u", u.type, o);
							var f = [];
							n.each(a, function(e) {
								s[0].target = e.scope, u.async ? f.push(function(t) {
									setTimeout(function() {
										t(e.fn.apply(e.scope, s) === !1)
									}, 1)
								}) : f.push(function(t) {
									t(e.fn.apply(e.scope, s) === !1)
								})
							}), f.length && n.inSeries(f, function(e) {
								h = !e
							})
						}
						return h
					},
					bindOnce: function(e, t, n, r) {
						var i = this;
						i.bind.call(this, e, function o() {
							return i.unbind(e, o), t.apply(this, arguments)
						}, n, r)
					},
					bind: function() {
						this.addEventListener.apply(this, arguments)
					},
					unbind: function() {
						this.removeEventListener.apply(this, arguments)
					},
					unbindAll: function() {
						this.removeAllEventListeners.apply(this, arguments)
					},
					trigger: function() {
						return this.dispatchEvent.apply(this, arguments)
					},
					handleEventProps: function(e) {
						var t = this;
						this.bind(e.join(" "), function(e) {
							var t = "on" + e.type.toLowerCase();
							"function" === n.typeOf(this[t]) && this[t].apply(this, arguments)
						}), n.each(e, function(e) {
							e = "on" + e.toLowerCase(e), "undefined" === n.typeOf(t[e]) && (t[e] = null)
						})
					}
				}), r.instance = new r, r
			}), r("moxie/runtime/Runtime", ["moxie/core/utils/Env", "moxie/core/utils/Basic", "moxie/core/utils/Dom",
			"moxie/core/EventTarget"
		], function(e, t, n, r) {
			function i(r, o, s, l, c) {
				var u, h = this,
					f = t.guid(o + "_"),
					d = c || "browser";
				r = r || {}, a[f] = this, s = t.extend({
					access_binary: !1,
					access_image_binary: !1,
					display_media: !1,
					do_cors: !1,
					drag_and_drop: !1,
					filter_by_extension: !0,
					resize_image: !1,
					report_upload_progress: !1,
					return_response_headers: !1,
					return_response_type: !1,
					return_status_code: !0,
					send_custom_headers: !1,
					select_file: !1,
					select_folder: !1,
					select_multiple: !0,
					send_binary_string: !1,
					send_browser_cookies: !0,
					send_multipart: !0,
					slice_blob: !1,
					stream_upload: !1,
					summon_file_dialog: !1,
					upload_filesize: !0,
					use_http_method: !0
				}, s), r.preferred_caps && (d = i.getMode(l, r.preferred_caps, d)), MXI_DEBUG && e.debug.runtime && e.log(
					"	default mode: %s", d), u = function() {
					var e = {};
					return {
						exec: function(t, n, r, i) {
							return u[n] && (e[t] || (e[t] = {
								context: this,
								instance: new u[n]
							}), e[t].instance[r]) ? e[t].instance[r].apply(this, i) : void 0
						},
						removeInstance: function(t) {
							delete e[t]
						},
						removeAllInstances: function() {
							var n = this;
							t.each(e, function(e, r) {
								"function" === t.typeOf(e.instance.destroy) && e.instance.destroy.call(e.context), n.removeInstance(r)
							})
						}
					}
				}(), t.extend(this, {
					initialized: !1,
					uid: f,
					type: o,
					mode: i.getMode(l, r.required_caps, d),
					shimid: f + "_container",
					clients: 0,
					options: r,
					can: function(e, n) {
						var r = arguments[2] || s;
						if ("string" === t.typeOf(e) && "undefined" === t.typeOf(n) && (e = i.parseCaps(e)), "object" === t.typeOf(
								e)) {
							for (var o in e)
								if (!this.can(o, e[o], r)) return !1;
							return !0
						}
						return "function" === t.typeOf(r[e]) ? r[e].call(this, n) : n === r[e]
					},
					getShimContainer: function() {
						var e, r = n.get(this.shimid);
						return r || (e = n.get(this.options.container) || document.body, r = document.createElement("div"), r.id =
							this.shimid, r.className = "moxie-shim moxie-shim-" + this.type, t.extend(r.style, {
								position: "absolute",
								top: "0px",
								left: "0px",
								width: "1px",
								height: "1px",
								overflow: "hidden"
							}), e.appendChild(r), e = null), r
					},
					getShim: function() {
						return u
					},
					shimExec: function(e, t) {
						var n = [].slice.call(arguments, 2);
						return h.getShim().exec.call(this, this.uid, e, t, n)
					},
					exec: function(e, t) {
						var n = [].slice.call(arguments, 2);
						return h[e] && h[e][t] ? h[e][t].apply(this, n) : h.shimExec.apply(this, arguments)
					},
					destroy: function() {
						if (h) {
							var e = n.get(this.shimid);
							e && e.parentNode.removeChild(e), u && u.removeAllInstances(), this.unbindAll(), delete a[this.uid], this.uid =
								null, f = h = u = e = null
						}
					}
				}), this.mode && r.required_caps && !this.can(r.required_caps) && (this.mode = !1)
			}
			var o = {},
				a = {};
			return i.order = "html5,flash,silverlight,html4", i.getRuntime = function(e) {
				return a[e] ? a[e] : !1
			}, i.addConstructor = function(e, t) {
				t.prototype = r.instance, o[e] = t
			}, i.getConstructor = function(e) {
				return o[e] || null
			}, i.getInfo = function(e) {
				var t = i.getRuntime(e);
				return t ? {
					uid: t.uid,
					type: t.type,
					mode: t.mode,
					can: function() {
						return t.can.apply(t, arguments)
					}
				} : null
			}, i.parseCaps = function(e) {
				var n = {};
				return "string" !== t.typeOf(e) ? e || {} : (t.each(e.split(","), function(e) {
					n[e] = !0
				}), n)
			}, i.can = function(e, t) {
				var n, r, o = i.getConstructor(e);
				return o ? (n = new o({
					required_caps: t
				}), r = n.mode, n.destroy(), !!r) : !1
			}, i.thatCan = function(e, t) {
				var n = (t || i.order).split(/\s*,\s*/);
				for (var r in n)
					if (i.can(n[r], e)) return n[r];
				return null
			}, i.getMode = function(n, r, i) {
				var o = null;
				if ("undefined" === t.typeOf(i) && (i = "browser"), r && !t.isEmptyObj(n)) {
					if (t.each(r, function(r, i) {
							if (n.hasOwnProperty(i)) {
								var a = n[i](r);
								if ("string" == typeof a && (a = [a]), o) {
									if (!(o = t.arrayIntersect(o, a))) return MXI_DEBUG && e.debug.runtime && e.log(
										"		%c: %v (conflicting mode requested: %s)", i, r, a), o = !1
								} else o = a
							}
							MXI_DEBUG && e.debug.runtime && e.log("		%c: %v (compatible modes: %s)", i, r, o)
						}), o) return -1 !== t.inArray(i, o) ? i : o[0];
					if (o === !1) return !1
				}
				return i
			}, i.capTrue = function() {
				return !0
			}, i.capFalse = function() {
				return !1
			}, i.capTest = function(e) {
				return function() {
					return !!e
				}
			}, i
		}), r("moxie/runtime/RuntimeClient", ["moxie/core/utils/Env", "moxie/core/Exceptions", "moxie/core/utils/Basic",
			"moxie/runtime/Runtime"
		], function(e, t, n, r) {
			return function() {
				var i;
				n.extend(this, {
					connectRuntime: function(o) {
						function a(n) {
							var s, c;
							return n.length ? (s = n.shift().toLowerCase(), (c = r.getConstructor(s)) ? (MXI_DEBUG && e.debug.runtime &&
								(e.log("Trying runtime: %s", s), e.log(o)), i = new c(o), i.bind("Init", function() {
									i.initialized = !0, MXI_DEBUG && e.debug.runtime && e.log("Runtime '%s' initialized", i.type),
										setTimeout(function() {
											i.clients++, l.ruid = i.uid, l.trigger("RuntimeInit", i)
										}, 1)
								}), i.bind("Error", function() {
									MXI_DEBUG && e.debug.runtime && e.log("Runtime '%s' failed to initialize", i.type), i.destroy(), a(n)
								}), i.bind("Exception", function(n, r) {
									var i = r.name + "(#" + r.code + ")" + (r.message ? ", from: " + r.message : "");
									MXI_DEBUG && e.debug.runtime && e.log("Runtime '%s' has thrown an exception: %s", this.type, i), l.trigger(
										"RuntimeError", new t.RuntimeError(t.RuntimeError.EXCEPTION_ERR, i))
								}), MXI_DEBUG && e.debug.runtime && e.log("	selected mode: %s", i.mode), i.mode ? void i.init() : void i
								.trigger("Error")) : (MXI_DEBUG && e.debug.runtime && e.log(
								"Constructor for '%s' runtime is not available.", s), void a(n))) : (l.trigger("RuntimeError", new t.RuntimeError(
								t.RuntimeError.NOT_INIT_ERR)), void(i = null))
						}
						var s, l = this;
						if ("string" === n.typeOf(o) ? s = o : "string" === n.typeOf(o.ruid) && (s = o.ruid), s) {
							if (i = r.getRuntime(s)) return l.ruid = s, i.clients++, i;
							throw new t.RuntimeError(t.RuntimeError.NOT_INIT_ERR)
						}
						a((o.runtime_order || r.order).split(/\s*,\s*/))
					},
					disconnectRuntime: function() {
						i && --i.clients <= 0 && i.destroy(), i = null
					},
					getRuntime: function() {
						return i && i.uid ? i : i = null
					},
					exec: function() {
						return i ? i.exec.apply(this, arguments) : null
					},
					can: function(e) {
						return i ? i.can(e) : !1
					}
				})
			}
		}), r("moxie/file/Blob", ["moxie/core/utils/Basic", "moxie/core/utils/Encode", "moxie/runtime/RuntimeClient"],
			function(e, t, n) {
				function r(o, a) {
					function s(t, n, o) {
						var a, s = i[this.uid];
						return "string" === e.typeOf(s) && s.length ? (a = new r(null, {
							type: o,
							size: n - t
						}), a.detach(s.substr(t, a.size)), a) : null
					}
					n.call(this), o && this.connectRuntime(o), a ? "string" === e.typeOf(a) && (a = {
						data: a
					}) : a = {}, e.extend(this, {
						uid: a.uid || e.guid("uid_"),
						ruid: o,
						size: a.size || 0,
						type: a.type || "",
						slice: function(e, t, n) {
							return this.isDetached() ? s.apply(this, arguments) : this.getRuntime().exec.call(this, "Blob", "slice",
								this.getSource(), e, t, n)
						},
						getSource: function() {
							return i[this.uid] ? i[this.uid] : null
						},
						detach: function(e) {
							if (this.ruid && (this.getRuntime().exec.call(this, "Blob", "destroy"), this.disconnectRuntime(), this.ruid =
									null), e = e || "", "data:" == e.substr(0, 5)) {
								var n = e.indexOf(";base64,");
								this.type = e.substring(5, n), e = t.atob(e.substring(n + 8))
							}
							this.size = e.length, i[this.uid] = e
						},
						isDetached: function() {
							return !this.ruid && "string" === e.typeOf(i[this.uid])
						},
						destroy: function() {
							this.detach(), delete i[this.uid]
						}
					}), a.data ? this.detach(a.data) : i[this.uid] = a
				}
				var i = {};
				return r
			}), r("moxie/core/I18n", ["moxie/core/utils/Basic"], function(e) {
			var t = {};
			return {
				addI18n: function(n) {
					return e.extend(t, n)
				},
				translate: function(e) {
					return t[e] || e
				},
				_: function(e) {
					return this.translate(e)
				},
				sprintf: function(t) {
					var n = [].slice.call(arguments, 1);
					return t.replace(/%[a-z]/g, function() {
						var t = n.shift();
						return "undefined" !== e.typeOf(t) ? t : ""
					})
				}
			}
		}), r("moxie/core/utils/Mime", ["moxie/core/utils/Basic", "moxie/core/I18n"], function(e, t) {
			var n =
				"application/msword,doc dot,application/pdf,pdf,application/pgp-signature,pgp,application/postscript,ps ai eps,application/rtf,rtf,application/vnd.ms-excel,xls xlb,application/vnd.ms-powerpoint,ppt pps pot,application/zip,zip,application/x-shockwave-flash,swf swfl,application/vnd.openxmlformats-officedocument.wordprocessingml.document,docx,application/vnd.openxmlformats-officedocument.wordprocessingml.template,dotx,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,xlsx,application/vnd.openxmlformats-officedocument.presentationml.presentation,pptx,application/vnd.openxmlformats-officedocument.presentationml.template,potx,application/vnd.openxmlformats-officedocument.presentationml.slideshow,ppsx,application/x-javascript,js,application/json,json,audio/mpeg,mp3 mpga mpega mp2,audio/x-wav,wav,audio/x-m4a,m4a,audio/ogg,oga ogg,audio/aiff,aiff aif,audio/flac,flac,audio/aac,aac,audio/ac3,ac3,audio/x-ms-wma,wma,image/bmp,bmp,image/gif,gif,image/jpeg,jpg jpeg jpe,image/photoshop,psd,image/png,png,image/svg+xml,svg svgz,image/tiff,tiff tif,text/plain,asc txt text diff log,text/html,htm html xhtml,text/css,css,text/csv,csv,text/rtf,rtf,video/mpeg,mpeg mpg mpe m2v,video/quicktime,qt mov,video/mp4,mp4,video/x-m4v,m4v,video/x-flv,flv,video/x-ms-wmv,wmv,video/avi,avi,video/webm,webm,video/3gpp,3gpp 3gp,video/3gpp2,3g2,video/vnd.rn-realvideo,rv,video/ogg,ogv,video/x-matroska,mkv,application/vnd.oasis.opendocument.formula-template,otf,application/octet-stream,exe",
				r = {
					mimes: {},
					extensions: {},
					addMimeType: function(e) {
						var t, n, r, i = e.split(/,/);
						for (t = 0; t < i.length; t += 2) {
							for (r = i[t + 1].split(/ /), n = 0; n < r.length; n++) this.mimes[r[n]] = i[t];
							this.extensions[i[t]] = r
						}
					},
					extList2mimes: function(t, n) {
						var r, i, o, a, s = this,
							l = [];
						for (i = 0; i < t.length; i++)
							for (r = t[i].extensions.toLowerCase().split(/\s*,\s*/), o = 0; o < r.length; o++) {
								if ("*" === r[o]) return [];
								if (a = s.mimes[r[o]], n && /^\w+$/.test(r[o])) l.push("." + r[o]);
								else if (a && -1 === e.inArray(a, l)) l.push(a);
								else if (!a) return []
							}
						return l
					},
					mimes2exts: function(t) {
						var n = this,
							r = [];
						return e.each(t, function(t) {
							if (t = t.toLowerCase(), "*" === t) return r = [], !1;
							var i = t.match(/^(\w+)\/(\*|\w+)$/);
							i && ("*" === i[2] ? e.each(n.extensions, function(e, t) {
								new RegExp("^" + i[1] + "/").test(t) && [].push.apply(r, n.extensions[t])
							}) : n.extensions[t] && [].push.apply(r, n.extensions[t]))
						}), r
					},
					mimes2extList: function(n) {
						var r = [],
							i = [];
						return "string" === e.typeOf(n) && (n = e.trim(n).split(/\s*,\s*/)), i = this.mimes2exts(n), r.push({
							title: t.translate("Files"),
							extensions: i.length ? i.join(",") : "*"
						}), r.mimes = n, r
					},
					getFileExtension: function(e) {
						var t = e && e.match(/\.([^.]+)$/);
						return t ? t[1].toLowerCase() : ""
					},
					getFileMime: function(e) {
						return this.mimes[this.getFileExtension(e)] || ""
					}
				};
			return r.addMimeType(n), r
		}), r("moxie/file/FileInput", ["moxie/core/utils/Basic", "moxie/core/utils/Env", "moxie/core/utils/Mime",
			"moxie/core/utils/Dom", "moxie/core/Exceptions", "moxie/core/EventTarget", "moxie/core/I18n",
			"moxie/runtime/Runtime", "moxie/runtime/RuntimeClient"
		], function(e, t, n, r, i, o, a, s, l) {
			function c(o) {
				MXI_DEBUG && t.log("Instantiating FileInput...");
				var c, h, f;
				if (-1 !== e.inArray(e.typeOf(o), ["string", "node"]) && (o = {
						browse_button: o
					}), h = r.get(o.browse_button), !h) throw new i.DOMException(i.DOMException.NOT_FOUND_ERR);
				f = {
						accept: [{
							title: a.translate("All Files"),
							extensions: "*"
						}],
						multiple: !1,
						required_caps: !1,
						container: h.parentNode || document.body
					}, o = e.extend({}, f, o), "string" == typeof o.required_caps && (o.required_caps = s.parseCaps(o.required_caps)),
					"string" == typeof o.accept && (o.accept = n.mimes2extList(o.accept)), c = r.get(o.container), c || (c =
						document.body), "static" === r.getStyle(c, "position") && (c.style.position = "relative"), c = h = null, l.call(
						this), e.extend(this, {
						uid: e.guid("uid_"),
						ruid: null,
						shimid: null,
						files: null,
						init: function() {
							var t = this;
							t.bind("RuntimeInit", function(n, i) {
								t.ruid = i.uid, t.shimid = i.shimid, t.bind("Ready", function() {
									t.trigger("Refresh")
								}, 999), t.bind("Refresh", function() {
									var t, n, a, s, l;
									a = r.get(o.browse_button), s = r.get(i.shimid), a && (t = r.getPos(a, r.get(o.container)), n = r.getSize(
										a), l = parseInt(r.getStyle(a, "z-index"), 10) || 0, s && e.extend(s.style, {
										top: t.y + "px",
										left: t.x + "px",
										width: n.w + "px",
										height: n.h + "px",
										zIndex: l + 1
									})), s = a = null
								}), i.exec.call(t, "FileInput", "init", o)
							}), t.connectRuntime(e.extend({}, o, {
								required_caps: {
									select_file: !0
								}
							}))
						},
						getOption: function(e) {
							return o[e]
						},
						setOption: function(e, t) {
							if (o.hasOwnProperty(e)) {
								var r = o[e];
								switch (e) {
									case "accept":
										"string" == typeof t && (t = n.mimes2extList(t));
										break;
									case "container":
									case "required_caps":
										throw new i.FileException(i.FileException.NO_MODIFICATION_ALLOWED_ERR)
								}
								o[e] = t, this.exec("FileInput", "setOption", e, t), this.trigger("OptionChanged", e, t, r)
							}
						},
						disable: function(t) {
							var n = this.getRuntime();
							n && this.exec("FileInput", "disable", "undefined" === e.typeOf(t) ? !0 : t)
						},
						refresh: function() {
							this.trigger("Refresh")
						},
						destroy: function() {
							var t = this.getRuntime();
							t && (t.exec.call(this, "FileInput", "destroy"), this.disconnectRuntime()), "array" === e.typeOf(this.files) &&
								e.each(this.files, function(e) {
									e.destroy()
								}), this.files = null, this.unbindAll()
						}
					}), this.handleEventProps(u)
			}
			var u = ["ready", "change", "cancel", "mouseenter", "mouseleave", "mousedown", "mouseup"];
			return c.prototype = o.instance, c
		}), r("moxie/file/File", ["moxie/core/utils/Basic", "moxie/core/utils/Mime", "moxie/file/Blob"], function(e, t, n) {
			function r(r, i) {
				i || (i = {}), n.apply(this, arguments), this.type || (this.type = t.getFileMime(i.name));
				var o;
				if (i.name) o = i.name.replace(/\\/g, "/"), o = o.substr(o.lastIndexOf("/") + 1);
				else if (this.type) {
					var a = this.type.split("/")[0];
					o = e.guid(("" !== a ? a : "file") + "_"), t.extensions[this.type] && (o += "." + t.extensions[this.type][0])
				}
				e.extend(this, {
					name: o || e.guid("file_"),
					relativePath: "",
					lastModifiedDate: i.lastModifiedDate || (new Date).toLocaleString()
				})
			}
			return r.prototype = n.prototype, r
		}), r("moxie/file/FileDrop", ["moxie/core/I18n", "moxie/core/utils/Dom", "moxie/core/Exceptions",
			"moxie/core/utils/Basic", "moxie/core/utils/Env", "moxie/file/File", "moxie/runtime/RuntimeClient",
			"moxie/core/EventTarget", "moxie/core/utils/Mime"
		], function(e, t, n, r, i, o, a, s, l) {
			function c(n) {
				MXI_DEBUG && i.log("Instantiating FileDrop...");
				var o, s = this;
				"string" == typeof n && (n = {
						drop_zone: n
					}), o = {
						accept: [{
							title: e.translate("All Files"),
							extensions: "*"
						}],
						required_caps: {
							drag_and_drop: !0
						}
					}, n = "object" == typeof n ? r.extend({}, o, n) : o, n.container = t.get(n.drop_zone) || document.body,
					"static" === t.getStyle(n.container, "position") && (n.container.style.position = "relative"), "string" ==
					typeof n.accept && (n.accept = l.mimes2extList(n.accept)), a.call(s), r.extend(s, {
						uid: r.guid("uid_"),
						ruid: null,
						files: null,
						init: function() {
							s.bind("RuntimeInit", function(e, t) {
								s.ruid = t.uid, t.exec.call(s, "FileDrop", "init", n), s.dispatchEvent("ready")
							}), s.connectRuntime(n)
						},
						destroy: function() {
							var e = this.getRuntime();
							e && (e.exec.call(this, "FileDrop", "destroy"), this.disconnectRuntime()), this.files = null, this.unbindAll()
						}
					}), this.handleEventProps(u)
			}
			var u = ["ready", "dragenter", "dragleave", "drop", "error"];
			return c.prototype = s.instance, c
		}), r("moxie/file/FileReader", ["moxie/core/utils/Basic", "moxie/core/utils/Encode", "moxie/core/Exceptions",
			"moxie/core/EventTarget", "moxie/file/Blob", "moxie/runtime/RuntimeClient"
		], function(e, t, n, r, i, o) {
			function a() {
				function r(e, r) {
					if (this.trigger("loadstart"), this.readyState === a.LOADING) return this.trigger("error", new n.DOMException(n
						.DOMException.INVALID_STATE_ERR)), void this.trigger("loadend");
					if (!(r instanceof i)) return this.trigger("error", new n.DOMException(n.DOMException.NOT_FOUND_ERR)), void this
						.trigger("loadend");
					if (this.result = null, this.readyState = a.LOADING, r.isDetached()) {
						var o = r.getSource();
						switch (e) {
							case "readAsText":
							case "readAsBinaryString":
								this.result = o;
								break;
							case "readAsDataURL":
								this.result = "data:" + r.type + ";base64," + t.btoa(o)
						}
						this.readyState = a.DONE, this.trigger("load"), this.trigger("loadend")
					} else this.connectRuntime(r.ruid), this.exec("FileReader", "read", e, r)
				}
				o.call(this), e.extend(this, {
					uid: e.guid("uid_"),
					readyState: a.EMPTY,
					result: null,
					error: null,
					readAsBinaryString: function(e) {
						r.call(this, "readAsBinaryString", e)
					},
					readAsDataURL: function(e) {
						r.call(this, "readAsDataURL", e)
					},
					readAsText: function(e) {
						r.call(this, "readAsText", e)
					},
					abort: function() {
						this.result = null, -1 === e.inArray(this.readyState, [a.EMPTY, a.DONE]) && (this.readyState === a.LOADING &&
							(this.readyState = a.DONE), this.exec("FileReader", "abort"), this.trigger("abort"), this.trigger(
								"loadend"))
					},
					destroy: function() {
						this.abort(), this.exec("FileReader", "destroy"), this.disconnectRuntime(), this.unbindAll()
					}
				}), this.handleEventProps(s), this.bind("Error", function(e, t) {
					this.readyState = a.DONE, this.error = t
				}, 999), this.bind("Load", function(e) {
					this.readyState = a.DONE
				}, 999)
			}
			var s = ["loadstart", "progress", "load", "abort", "error", "loadend"];
			return a.EMPTY = 0, a.LOADING = 1, a.DONE = 2, a.prototype = r.instance, a
		}), r("moxie/core/utils/Url", ["moxie/core/utils/Basic"], function(e) {
			var t = function(n, r) {
					var i, o = ["source", "scheme", "authority", "userInfo", "user", "pass", "host", "port", "relative", "path",
							"directory", "file", "query", "fragment"
						],
						a = o.length,
						s = {
							http: 80,
							https: 443
						},
						l = {},
						c =
						/^(?:([^:\/?#]+):)?(?:\/\/()(?:(?:()(?:([^:@\/]*):?([^:@\/]*))?@)?(\[[\da-fA-F:]+\]|[^:\/?#]*)(?::(\d*))?))?()(?:(()(?:(?:[^?#\/]*\/)*)()(?:[^?#]*))(?:\\?([^#]*))?(?:#(.*))?)/,
						u = c.exec(n || ""),
						h = /^\/\/\w/.test(n);
					switch (e.typeOf(r)) {
						case "undefined":
							r = t(document.location.href, !1);
							break;
						case "string":
							r = t(r, !1)
					}
					for (; a--;) u[a] && (l[o[a]] = u[a]);
					if (i = !h && !l.scheme, (h || i) && (l.scheme = r.scheme), i) {
						l.host = r.host, l.port = r.port;
						var f = "";
						/^[^\/]/.test(l.path) && (f = r.path, f = /\/[^\/]*\.[^\/]*$/.test(f) ? f.replace(/\/[^\/]+$/, "/") : f.replace(
							/\/?$/, "/")), l.path = f + (l.path || "")
					}
					return l.port || (l.port = s[l.scheme] || 80), l.port = parseInt(l.port, 10), l.path || (l.path = "/"), delete l
						.source, l
				},
				n = function(e) {
					var n = {
							http: 80,
							https: 443
						},
						r = "object" == typeof e ? e : t(e);
					return r.scheme + "://" + r.host + (r.port !== n[r.scheme] ? ":" + r.port : "") + r.path + (r.query ? r.query :
						"")
				},
				r = function(e) {
					function n(e) {
						return [e.scheme, e.host, e.port].join("/")
					}
					return "string" == typeof e && (e = t(e)), n(t()) === n(e)
				};
			return {
				parseUrl: t,
				resolveUrl: n,
				hasSameOrigin: r
			}
		}), r("moxie/runtime/RuntimeTarget", ["moxie/core/utils/Basic", "moxie/runtime/RuntimeClient",
			"moxie/core/EventTarget"
		], function(e, t, n) {
			function r() {
				this.uid = e.guid("uid_"), t.call(this), this.destroy = function() {
					this.disconnectRuntime(), this.unbindAll()
				}
			}
			return r.prototype = n.instance, r
		}), r("moxie/file/FileReaderSync", ["moxie/core/utils/Basic", "moxie/runtime/RuntimeClient",
			"moxie/core/utils/Encode"
		], function(e, t, n) {
			return function() {
				function r(e, t) {
					if (!t.isDetached()) {
						var r = this.connectRuntime(t.ruid).exec.call(this, "FileReaderSync", "read", e, t);
						return this.disconnectRuntime(), r
					}
					var i = t.getSource();
					switch (e) {
						case "readAsBinaryString":
							return i;
						case "readAsDataURL":
							return "data:" + t.type + ";base64," + n.btoa(i);
						case "readAsText":
							for (var o = "", a = 0, s = i.length; s > a; a++) o += String.fromCharCode(i[a]);
							return o
					}
				}
				t.call(this), e.extend(this, {
					uid: e.guid("uid_"),
					readAsBinaryString: function(e) {
						return r.call(this, "readAsBinaryString", e)
					},
					readAsDataURL: function(e) {
						return r.call(this, "readAsDataURL", e)
					},
					readAsText: function(e) {
						return r.call(this, "readAsText", e)
					}
				})
			}
		}), r("moxie/xhr/FormData", ["moxie/core/Exceptions", "moxie/core/utils/Basic", "moxie/file/Blob"], function(e, t,
			n) {
			function r() {
				var e, r = [];
				t.extend(this, {
					append: function(i, o) {
						var a = this,
							s = t.typeOf(o);
						o instanceof n ? e = {
							name: i,
							value: o
						} : "array" === s ? (i += "[]", t.each(o, function(e) {
							a.append(i, e)
						})) : "object" === s ? t.each(o, function(e, t) {
							a.append(i + "[" + t + "]", e)
						}) : "null" === s || "undefined" === s || "number" === s && isNaN(o) ? a.append(i, "false") : r.push({
							name: i,
							value: o.toString()
						})
					},
					hasBlob: function() {
						return !!this.getBlob()
					},
					getBlob: function() {
						return e && e.value || null
					},
					getBlobName: function() {
						return e && e.name || null
					},
					each: function(n) {
						t.each(r, function(e) {
							n(e.value, e.name)
						}), e && n(e.value, e.name)
					},
					destroy: function() {
						e = null, r = []
					}
				})
			}
			return r
		}), r("moxie/xhr/XMLHttpRequest", ["moxie/core/utils/Basic", "moxie/core/Exceptions", "moxie/core/EventTarget",
			"moxie/core/utils/Encode", "moxie/core/utils/Url", "moxie/runtime/Runtime", "moxie/runtime/RuntimeTarget",
			"moxie/file/Blob", "moxie/file/FileReaderSync", "moxie/xhr/FormData", "moxie/core/utils/Env",
			"moxie/core/utils/Mime"
		], function(e, t, n, r, i, o, a, s, l, c, u, h) {
			function f() {
				this.uid = e.guid("uid_")
			}

			function d() {
				function n(e, t) {
					return E.hasOwnProperty(e) ? 1 === arguments.length ? u.can("define_property") ? E[e] : C[e] : void(u.can(
						"define_property") ? E[e] = t : C[e] = t) : void 0
				}

				function l(t) {
					function r() {
						_ && (_.destroy(), _ = null), s.dispatchEvent("loadend"), s = null
					}

					function i(i) {
						_.bind("LoadStart", function(e) {
							n("readyState", d.LOADING), s.dispatchEvent("readystatechange"), s.dispatchEvent(e), M && s.upload.dispatchEvent(
								e)
						}), _.bind("Progress", function(e) {
							n("readyState") !== d.LOADING && (n("readyState", d.LOADING), s.dispatchEvent("readystatechange")), s.dispatchEvent(
								e)
						}), _.bind("UploadProgress", function(e) {
							M && s.upload.dispatchEvent({
								type: "progress",
								lengthComputable: !1,
								total: e.total,
								loaded: e.loaded
							})
						}), _.bind("Load", function(t) {
							n("readyState", d.DONE), n("status", Number(i.exec.call(_, "XMLHttpRequest", "getStatus") || 0)), n(
									"statusText", p[n("status")] || ""), n("response", i.exec.call(_, "XMLHttpRequest", "getResponse", n(
									"responseType"))), ~e.inArray(n("responseType"), ["text", ""]) ? n("responseText", n("response")) :
								"document" === n("responseType") && n("responseXML", n("response")), N = i.exec.call(_, "XMLHttpRequest",
									"getAllResponseHeaders"), s.dispatchEvent("readystatechange"), n("status") > 0 ? (M && s.upload.dispatchEvent(
									t), s.dispatchEvent(t)) : (P = !0, s.dispatchEvent("error")), r()
						}), _.bind("Abort", function(e) {
							s.dispatchEvent(e), r()
						}), _.bind("Error", function(e) {
							P = !0, n("readyState", d.DONE), s.dispatchEvent("readystatechange"), L = !0, s.dispatchEvent(e), r()
						}), i.exec.call(_, "XMLHttpRequest", "send", {
							url: v,
							method: y,
							async: O,
							user: b,
							password: x,
							headers: k,
							mimeType: D,
							encoding: R,
							responseType: s.responseType,
							withCredentials: s.withCredentials,
							options: B
						}, t)
					}
					var s = this;
					w = (new Date).getTime(), _ = new a, "string" == typeof B.required_caps && (B.required_caps = o.parseCaps(B.required_caps)),
						B.required_caps = e.extend({}, B.required_caps, {
							return_response_type: s.responseType
						}), t instanceof c && (B.required_caps.send_multipart = !0), e.isEmptyObj(k) || (B.required_caps.send_custom_headers = !
							0), F || (B.required_caps.do_cors = !0), B.ruid ? i(_.connectRuntime(B)) : (_.bind("RuntimeInit", function(e,
							t) {
							i(t)
						}), _.bind("RuntimeError", function(e, t) {
							s.dispatchEvent("RuntimeError", t)
						}), _.connectRuntime(B))
				}

				function m() {
					n("responseText", ""), n("responseXML", null), n("response", null), n("status", 0), n("statusText", ""), w = S =
						null
				}
				var v, y, b, x, w, S, _, T, C = this,
					E = {
						timeout: 0,
						readyState: d.UNSENT,
						withCredentials: !1,
						status: 0,
						statusText: "",
						responseType: "",
						responseXML: null,
						responseText: null,
						response: null
					},
					O = !0,
					k = {},
					R = null,
					D = null,
					A = !1,
					I = !1,
					M = !1,
					L = !1,
					P = !1,
					F = !1,
					U = null,
					j = null,
					B = {},
					N = "";
				e.extend(this, E, {
					uid: e.guid("uid_"),
					upload: new f,
					open: function(o, a, s, l, c) {
						var u;
						if (!o || !a) throw new t.DOMException(t.DOMException.SYNTAX_ERR);
						if (/[\u0100-\uffff]/.test(o) || r.utf8_encode(o) !== o) throw new t.DOMException(t.DOMException.SYNTAX_ERR);
						if (~e.inArray(o.toUpperCase(), ["CONNECT", "DELETE", "GET", "HEAD", "OPTIONS", "POST", "PUT", "TRACE",
								"TRACK"
							]) && (y = o.toUpperCase()), ~e.inArray(y, ["CONNECT", "TRACE", "TRACK"])) throw new t.DOMException(t.DOMException
							.SECURITY_ERR);
						if (a = r.utf8_encode(a), u = i.parseUrl(a), F = i.hasSameOrigin(u), v = i.resolveUrl(a), (l || c) && !F)
							throw new t.DOMException(t.DOMException.INVALID_ACCESS_ERR);
						if (b = l || u.user, x = c || u.pass, O = s || !0, O === !1 && (n("timeout") || n("withCredentials") || "" !==
								n("responseType"))) throw new t.DOMException(t.DOMException.INVALID_ACCESS_ERR);
						A = !O, I = !1, k = {}, m.call(this), n("readyState", d.OPENED), this.dispatchEvent("readystatechange")
					},
					setRequestHeader: function(i, o) {
						var a = ["accept-charset", "accept-encoding", "access-control-request-headers",
							"access-control-request-method", "connection", "content-length", "cookie", "cookie2",
							"content-transfer-encoding", "date", "expect", "host", "keep-alive", "origin", "referer", "te", "trailer",
							"transfer-encoding", "upgrade", "user-agent", "via"
						];
						if (n("readyState") !== d.OPENED || I) throw new t.DOMException(t.DOMException.INVALID_STATE_ERR);
						if (/[\u0100-\uffff]/.test(i) || r.utf8_encode(i) !== i) throw new t.DOMException(t.DOMException.SYNTAX_ERR);
						return i = e.trim(i).toLowerCase(), ~e.inArray(i, a) || /^(proxy\-|sec\-)/.test(i) ? !1 : (k[i] ? k[i] +=
							", " + o : k[i] = o, !0)
					},
					hasRequestHeader: function(e) {
						return e && k[e.toLowerCase()] || !1
					},
					getAllResponseHeaders: function() {
						return N || ""
					},
					getResponseHeader: function(t) {
						return t = t.toLowerCase(), P || ~e.inArray(t, ["set-cookie", "set-cookie2"]) ? null : N && "" !== N && (T ||
							(T = {}, e.each(N.split(/\r\n/), function(t) {
								var n = t.split(/:\s+/);
								2 === n.length && (n[0] = e.trim(n[0]), T[n[0].toLowerCase()] = {
									header: n[0],
									value: e.trim(n[1])
								})
							})), T.hasOwnProperty(t)) ? T[t].header + ": " + T[t].value : null
					},
					overrideMimeType: function(r) {
						var i, o;
						if (~e.inArray(n("readyState"), [d.LOADING, d.DONE])) throw new t.DOMException(t.DOMException.INVALID_STATE_ERR);
						if (r = e.trim(r.toLowerCase()), /;/.test(r) && (i = r.match(/^([^;]+)(?:;\scharset\=)?(.*)$/)) && (r = i[1],
								i[2] && (o = i[2])), !h.mimes[r]) throw new t.DOMException(t.DOMException.SYNTAX_ERR);
						U = r, j = o
					},
					send: function(n, i) {
						if (B = "string" === e.typeOf(i) ? {
								ruid: i
							} : i ? i : {}, this.readyState !== d.OPENED || I) throw new t.DOMException(t.DOMException.INVALID_STATE_ERR);
						if (n instanceof s) B.ruid = n.ruid, D = n.type || "application/octet-stream";
						else if (n instanceof c) {
							if (n.hasBlob()) {
								var o = n.getBlob();
								B.ruid = o.ruid, D = o.type || "application/octet-stream"
							}
						} else "string" == typeof n && (R = "UTF-8", D = "text/plain;charset=UTF-8", n = r.utf8_encode(n));
						this.withCredentials || (this.withCredentials = B.required_caps && B.required_caps.send_browser_cookies &&
							!F), M = !A && this.upload.hasEventListener(), P = !1, L = !n, A || (I = !0), l.call(this, n)
					},
					abort: function() {
						if (P = !0, A = !1, ~e.inArray(n("readyState"), [d.UNSENT, d.OPENED, d.DONE])) n("readyState", d.UNSENT);
						else {
							if (n("readyState", d.DONE), I = !1, !_) throw new t.DOMException(t.DOMException.INVALID_STATE_ERR);
							_.getRuntime().exec.call(_, "XMLHttpRequest", "abort", L), L = !0
						}
					},
					destroy: function() {
						_ && ("function" === e.typeOf(_.destroy) && _.destroy(), _ = null), this.unbindAll(), this.upload && (this.upload
							.unbindAll(), this.upload = null)
					}
				}), this.handleEventProps(g.concat(["readystatechange"])), this.upload.handleEventProps(g)
			}
			var p = {
				100: "Continue",
				101: "Switching Protocols",
				102: "Processing",
				200: "OK",
				201: "Created",
				202: "Accepted",
				203: "Non-Authoritative Information",
				204: "No Content",
				205: "Reset Content",
				206: "Partial Content",
				207: "Multi-Status",
				226: "IM Used",
				300: "Multiple Choices",
				301: "Moved Permanently",
				302: "Found",
				303: "See Other",
				304: "Not Modified",
				305: "Use Proxy",
				306: "Reserved",
				307: "Temporary Redirect",
				400: "Bad Request",
				401: "Unauthorized",
				402: "Payment Required",
				403: "Forbidden",
				404: "Not Found",
				405: "Method Not Allowed",
				406: "Not Acceptable",
				407: "Proxy Authentication Required",
				408: "Request Timeout",
				409: "Conflict",
				410: "Gone",
				411: "Length Required",
				412: "Precondition Failed",
				413: "Request Entity Too Large",
				414: "Request-URI Too Long",
				415: "Unsupported Media Type",
				416: "Requested Range Not Satisfiable",
				417: "Expectation Failed",
				422: "Unprocessable Entity",
				423: "Locked",
				424: "Failed Dependency",
				426: "Upgrade Required",
				500: "Internal Server Error",
				501: "Not Implemented",
				502: "Bad Gateway",
				503: "Service Unavailable",
				504: "Gateway Timeout",
				505: "HTTP Version Not Supported",
				506: "Variant Also Negotiates",
				507: "Insufficient Storage",
				510: "Not Extended"
			};
			f.prototype = n.instance;
			var g = ["loadstart", "progress", "abort", "error", "load", "timeout", "loadend"];
			return d.UNSENT = 0, d.OPENED = 1, d.HEADERS_RECEIVED = 2, d.LOADING = 3, d.DONE = 4, d.prototype = n.instance, d
		}), r("moxie/runtime/Transporter", ["moxie/core/utils/Basic", "moxie/core/utils/Encode",
			"moxie/runtime/RuntimeClient", "moxie/core/EventTarget"
		], function(e, t, n, r) {
			function i() {
				function r() {
					u = h = 0, c = this.result = null
				}

				function o(t, n) {
					var r = this;
					l = n, r.bind("TransportingProgress", function(t) {
						h = t.loaded, u > h && -1 === e.inArray(r.state, [i.IDLE, i.DONE]) && a.call(r)
					}, 999), r.bind("TransportingComplete", function() {
						h = u, r.state = i.DONE, c = null, r.result = l.exec.call(r, "Transporter", "getAsBlob", t || "")
					}, 999), r.state = i.BUSY, r.trigger("TransportingStarted"), a.call(r)
				}

				function a() {
					var e, n = this,
						r = u - h;
					f > r && (f = r), e = t.btoa(c.substr(h, f)), l.exec.call(n, "Transporter", "receive", e, u)
				}
				var s, l, c, u, h, f;
				n.call(this), e.extend(this, {
					uid: e.guid("uid_"),
					state: i.IDLE,
					result: null,
					transport: function(t, n, i) {
						var a = this;
						if (i = e.extend({
								chunk_size: 204798
							}, i), (s = i.chunk_size % 3) && (i.chunk_size += 3 - s), f = i.chunk_size, r.call(this), c = t, u = t.length,
							"string" === e.typeOf(i) || i.ruid) o.call(a, n, this.connectRuntime(i));
						else {
							var l = function(e, t) {
								a.unbind("RuntimeInit", l), o.call(a, n, t)
							};
							this.bind("RuntimeInit", l), this.connectRuntime(i)
						}
					},
					abort: function() {
						var e = this;
						e.state = i.IDLE, l && (l.exec.call(e, "Transporter", "clear"), e.trigger("TransportingAborted")), r.call(e)
					},
					destroy: function() {
						this.unbindAll(), l = null, this.disconnectRuntime(), r.call(this)
					}
				})
			}
			return i.IDLE = 0, i.BUSY = 1, i.DONE = 2, i.prototype = r.instance, i
		}), r("moxie/image/Image", ["moxie/core/utils/Basic", "moxie/core/utils/Dom", "moxie/core/Exceptions",
			"moxie/file/FileReaderSync", "moxie/xhr/XMLHttpRequest", "moxie/runtime/Runtime", "moxie/runtime/RuntimeClient",
			"moxie/runtime/Transporter", "moxie/core/utils/Env", "moxie/core/EventTarget", "moxie/file/Blob",
			"moxie/file/File", "moxie/core/utils/Encode"
		], function(e, t, n, r, i, o, a, s, l, c, u, h, f) {
			function d() {
				function r(e) {
					try {
						return e || (e = this.exec("Image", "getInfo")), this.size = e.size, this.width = e.width, this.height = e.height,
							this.type = e.type, this.meta = e.meta, "" === this.name && (this.name = e.name), !0
					} catch (t) {
						return this.trigger("error", t.code), !1
					}
				}

				function c(t) {
					var r = e.typeOf(t);
					try {
						if (t instanceof d) {
							if (!t.size) throw new n.DOMException(n.DOMException.INVALID_STATE_ERR);
							g.apply(this, arguments)
						} else if (t instanceof u) {
							if (!~e.inArray(t.type, ["image/jpeg", "image/png"])) throw new n.ImageError(n.ImageError.WRONG_FORMAT);
							m.apply(this, arguments)
						} else if (-1 !== e.inArray(r, ["blob", "file"])) c.call(this, new h(null, t), arguments[1]);
						else if ("string" === r) "data:" === t.substr(0, 5) ? c.call(this, new u(null, {
							data: t
						}), arguments[1]) : v.apply(this, arguments);
						else {
							if ("node" !== r || "img" !== t.nodeName.toLowerCase()) throw new n.DOMException(n.DOMException.TYPE_MISMATCH_ERR);
							c.call(this, t.src, arguments[1])
						}
					} catch (i) {
						this.trigger("error", i.code)
					}
				}

				function g(t, n) {
					var r = this.connectRuntime(t.ruid);
					this.ruid = r.uid, r.exec.call(this, "Image", "loadFromImage", t, "undefined" === e.typeOf(n) ? !0 : n)
				}

				function m(t, n) {
					function r(e) {
						i.ruid = e.uid, e.exec.call(i, "Image", "loadFromBlob", t)
					}
					var i = this;
					i.name = t.name || "", t.isDetached() ? (this.bind("RuntimeInit", function(e, t) {
						r(t)
					}), n && "string" == typeof n.required_caps && (n.required_caps = o.parseCaps(n.required_caps)), this.connectRuntime(
						e.extend({
							required_caps: {
								access_image_binary: !0,
								resize_image: !0
							}
						}, n))) : r(this.connectRuntime(t.ruid))
				}

				function v(e, t) {
					var n, r = this;
					n = new i, n.open("get", e), n.responseType = "blob", n.onprogress = function(e) {
						r.trigger(e)
					}, n.onload = function() {
						m.call(r, n.response, !0)
					}, n.onerror = function(e) {
						r.trigger(e)
					}, n.onloadend = function() {
						n.destroy()
					}, n.bind("RuntimeError", function(e, t) {
						r.trigger("RuntimeError", t)
					}), n.send(null, t)
				}
				a.call(this), e.extend(this, {
					uid: e.guid("uid_"),
					ruid: null,
					name: "",
					size: 0,
					width: 0,
					height: 0,
					type: "",
					meta: {},
					clone: function() {
						this.load.apply(this, arguments)
					},
					load: function() {
						c.apply(this, arguments)
					},
					resize: function(t) {
						var r, i, o = this,
							a = {
								x: 0,
								y: 0,
								width: o.width,
								height: o.height
							},
							s = e.extendIf({
								width: o.width,
								height: o.height,
								type: o.type || "image/jpeg",
								quality: 90,
								crop: !1,
								fit: !0,
								preserveHeaders: !0,
								resample: "default",
								multipass: !0
							}, t);
						try {
							if (!o.size) throw new n.DOMException(n.DOMException.INVALID_STATE_ERR);
							if (o.width > d.MAX_RESIZE_WIDTH || o.height > d.MAX_RESIZE_HEIGHT) throw new n.ImageError(n.ImageError.MAX_RESOLUTION_ERR);
							if (r = o.meta && o.meta.tiff && o.meta.tiff.Orientation || 1, -1 !== e.inArray(r, [5, 6, 7, 8])) {
								var l = s.width;
								s.width = s.height, s.height = l
							}
							if (s.crop) {
								switch (i = Math.max(s.width / o.width, s.height / o.height), t.fit ? (a.width = Math.min(Math.ceil(s.width /
										i), o.width), a.height = Math.min(Math.ceil(s.height / i), o.height), i = s.width / a.width) : (a.width =
										Math.min(s.width, o.width), a.height = Math.min(s.height, o.height), i = 1), "boolean" == typeof s.crop &&
									(s.crop = "cc"), s.crop.toLowerCase().replace(/_/, "-")) {
									case "rb":
									case "right-bottom":
										a.x = o.width - a.width, a.y = o.height - a.height;
										break;
									case "cb":
									case "center-bottom":
										a.x = Math.floor((o.width - a.width) / 2), a.y = o.height - a.height;
										break;
									case "lb":
									case "left-bottom":
										a.x = 0, a.y = o.height - a.height;
										break;
									case "lt":
									case "left-top":
										a.x = 0, a.y = 0;
										break;
									case "ct":
									case "center-top":
										a.x = Math.floor((o.width - a.width) / 2), a.y = 0;
										break;
									case "rt":
									case "right-top":
										a.x = o.width - a.width, a.y = 0;
										break;
									case "rc":
									case "right-center":
									case "right-middle":
										a.x = o.width - a.width, a.y = Math.floor((o.height - a.height) / 2);
										break;
									case "lc":
									case "left-center":
									case "left-middle":
										a.x = 0, a.y = Math.floor((o.height - a.height) / 2);
										break;
									case "cc":
									case "center-center":
									case "center-middle":
									default:
										a.x = Math.floor((o.width - a.width) / 2), a.y = Math.floor((o.height - a.height) / 2)
								}
								a.x = Math.max(a.x, 0), a.y = Math.max(a.y, 0)
							} else {
								var c = Math.min(s.width, o.width),
									u = Math.min(s.height, o.height);
								i = Math.min(c / o.width, u / o.height)
							}
							this.exec("Image", "resize", a, i, s)
						} catch (h) {
							o.trigger("error", h.code)
						}
					},
					downsize: function(t) {
						var n, r = {
							width: this.width,
							height: this.height,
							type: this.type || "image/jpeg",
							quality: 90,
							crop: !1,
							preserveHeaders: !0,
							resample: "default"
						};
						n = "object" == typeof t ? e.extend(r, t) : e.extend(r, {
							width: arguments[0],
							height: arguments[1],
							crop: arguments[2],
							preserveHeaders: arguments[3]
						}), this.resize(n)
					},
					crop: function(e, t, n) {
						this.downsize(e, t, !0, n)
					},
					getAsCanvas: function() {
						if (!l.can("create_canvas")) throw new n.RuntimeError(n.RuntimeError.NOT_SUPPORTED_ERR);
						return this.exec("Image", "getAsCanvas")
					},
					getAsBlob: function(e, t) {
						if (!this.size) throw new n.DOMException(n.DOMException.INVALID_STATE_ERR);
						return this.exec("Image", "getAsBlob", e || "image/jpeg", t || 90)
					},
					getAsDataURL: function(e, t) {
						if (!this.size) throw new n.DOMException(n.DOMException.INVALID_STATE_ERR);
						return this.exec("Image", "getAsDataURL", e || "image/jpeg", t || 90)
					},
					getAsBinaryString: function(e, t) {
						var n = this.getAsDataURL(e, t);
						return f.atob(n.substring(n.indexOf("base64,") + 7))
					},
					embed: function(r, i) {
						function o(t, i) {
							var o = this;
							if (l.can("create_canvas")) {
								var u = o.getAsCanvas();
								if (u) return r.appendChild(u), u = null, o.destroy(), void c.trigger("embedded")
							}
							var h = o.getAsDataURL(t, i);
							if (!h) throw new n.ImageError(n.ImageError.WRONG_FORMAT);
							if (l.can("use_data_uri_of", h.length)) r.innerHTML = '<img src="' + h + '" width="' + o.width +
								'" height="' + o.height + '" />', o.destroy(), c.trigger("embedded");
							else {
								var d = new s;
								d.bind("TransportingComplete", function() {
									a = c.connectRuntime(this.result.ruid), c.bind("Embedded", function() {
										e.extend(a.getShimContainer().style, {
											top: "0px",
											left: "0px",
											width: o.width + "px",
											height: o.height + "px"
										}), a = null
									}, 999), a.exec.call(c, "ImageView", "display", this.result.uid, width, height), o.destroy()
								}), d.transport(f.atob(h.substring(h.indexOf("base64,") + 7)), t, {
									required_caps: {
										display_media: !0
									},
									runtime_order: "flash,silverlight",
									container: r
								})
							}
						}
						var a, c = this,
							u = e.extend({
								width: this.width,
								height: this.height,
								type: this.type || "image/jpeg",
								quality: 90
							}, i);
						try {
							if (!(r = t.get(r))) throw new n.DOMException(n.DOMException.INVALID_NODE_TYPE_ERR);
							if (!this.size) throw new n.DOMException(n.DOMException.INVALID_STATE_ERR);
							this.width > d.MAX_RESIZE_WIDTH || this.height > d.MAX_RESIZE_HEIGHT;
							var h = new d;
							return h.bind("Resize", function() {
								o.call(this, u.type, u.quality)
							}), h.bind("Load", function() {
								this.downsize(u)
							}), this.meta.thumb && this.meta.thumb.width >= u.width && this.meta.thumb.height >= u.height ? h.load(
								this.meta.thumb.data) : h.clone(this, !1), h
						} catch (p) {
							this.trigger("error", p.code)
						}
					},
					destroy: function() {
						this.ruid && (this.getRuntime().exec.call(this, "Image", "destroy"), this.disconnectRuntime()), this.meta &&
							this.meta.thumb && this.meta.thumb.data.destroy(), this.unbindAll()
					}
				}), this.handleEventProps(p), this.bind("Load Resize", function() {
					return r.call(this)
				}, 999)
			}
			var p = ["progress", "load", "error", "resize", "embedded"];
			return d.MAX_RESIZE_WIDTH = 8192, d.MAX_RESIZE_HEIGHT = 8192, d.prototype = c.instance, d
		}), r("moxie/runtime/html5/Runtime", ["moxie/core/utils/Basic", "moxie/core/Exceptions", "moxie/runtime/Runtime",
			"moxie/core/utils/Env"
		], function(e, t, n, r) {
			function o(t) {
				var o = this,
					l = n.capTest,
					c = n.capTrue,
					u = e.extend({
						access_binary: l(window.FileReader || window.File && window.File.getAsDataURL),
						access_image_binary: function() {
							return o.can("access_binary") && !!s.Image
						},
						display_media: l((r.can("create_canvas") || r.can("use_data_uri_over32kb")) && i("moxie/image/Image")),
						do_cors: l(window.XMLHttpRequest && "withCredentials" in new XMLHttpRequest),
						drag_and_drop: l(function() {
							var e = document.createElement("div");
							return ("draggable" in e || "ondragstart" in e && "ondrop" in e) && ("IE" !== r.browser || r.verComp(r.version,
								9, ">"))
						}()),
						filter_by_extension: l(function() {
							return !("Chrome" === r.browser && r.verComp(r.version, 28, "<") || "IE" === r.browser && r.verComp(r.version,
								10, "<") || "Safari" === r.browser && r.verComp(r.version, 7, "<") || "Firefox" === r.browser && r.verComp(
								r.version, 37, "<"))
						}()),
						return_response_headers: c,
						return_response_type: function(e) {
							return "json" === e && window.JSON ? !0 : r.can("return_response_type", e)
						},
						return_status_code: c,
						report_upload_progress: l(window.XMLHttpRequest && (new XMLHttpRequest).upload),
						resize_image: function() {
							return o.can("access_binary") && r.can("create_canvas")
						},
						select_file: function() {
							return r.can("use_fileinput") && window.File
						},
						select_folder: function() {
							return o.can("select_file") && ("Chrome" === r.browser && r.verComp(r.version, 21, ">=") || "Firefox" ===
								r.browser && r.verComp(r.version, 42, ">="))
						},
						select_multiple: function() {
							return o.can("select_file") && !("Safari" === r.browser && "Windows" === r.os) && !("iOS" === r.os && r.verComp(
								r.osVersion, "7.0.0", ">") && r.verComp(r.osVersion, "8.0.0", "<"))
						},
						send_binary_string: l(window.XMLHttpRequest && ((new XMLHttpRequest).sendAsBinary || window.Uint8Array &&
							window.ArrayBuffer)),
						send_custom_headers: l(window.XMLHttpRequest),
						send_multipart: function() {
							return !!(window.XMLHttpRequest && (new XMLHttpRequest).upload && window.FormData) || o.can(
								"send_binary_string")
						},
						slice_blob: l(window.File && (File.prototype.mozSlice || File.prototype.webkitSlice || File.prototype.slice)),
						stream_upload: function() {
							return o.can("slice_blob") && o.can("send_multipart")
						},
						summon_file_dialog: function() {
							return !0
						},
						upload_filesize: c,
						use_http_method: c
					}, arguments[2]);
				n.call(this, t, arguments[1] || a, u), e.extend(this, {
					init: function() {
						this.trigger("Init")
					},
					destroy: function(e) {
						return function() {
							e.call(o), e = o = null
						}
					}(this.destroy)
				}), e.extend(this.getShim(), s)
			}
			var a = "html5",
				s = {};
			return n.addConstructor(a, o), s
		}), r("moxie/runtime/html5/file/Blob", ["moxie/runtime/html5/Runtime", "moxie/file/Blob"], function(e, t) {
			function n() {
				function e(e, t, n) {
					var r;
					if (!window.File.prototype.slice) return (r = window.File.prototype.webkitSlice || window.File.prototype.mozSlice) ?
						r.call(e, t, n) : null;
					try {
						return e.slice(), e.slice(t, n)
					} catch (i) {
						return e.slice(t, n - t)
					}
				}
				this.slice = function() {
					return new t(this.getRuntime().uid, e.apply(this, arguments))
				}
			}
			return e.Blob = n
		}), r("moxie/core/utils/Events", ["moxie/core/utils/Basic"], function(e) {
			function t() {
				this.returnValue = !1
			}

			function n() {
				this.cancelBubble = !0
			}
			var r = {},
				i = "moxie_" + e.guid(),
				o = function(o, a, s, l) {
					var c, u;
					a = a.toLowerCase(), o.addEventListener ? (c = s, o.addEventListener(a, c, !1)) : o.attachEvent && (c =
						function() {
							var e = window.event;
							e.target || (e.target = e.srcElement), e.preventDefault = t, e.stopPropagation = n, s(e)
						}, o.attachEvent("on" + a, c)), o[i] || (o[i] = e.guid()), r.hasOwnProperty(o[i]) || (r[o[i]] = {}), u = r[o[
						i]], u.hasOwnProperty(a) || (u[a] = []), u[a].push({
						func: c,
						orig: s,
						key: l
					})
				},
				a = function(t, n, o) {
					var a, s;
					if (n = n.toLowerCase(), t[i] && r[t[i]] && r[t[i]][n]) {
						a = r[t[i]][n];
						for (var l = a.length - 1; l >= 0 && (a[l].orig !== o && a[l].key !== o || (t.removeEventListener ? t.removeEventListener(
									n, a[l].func, !1) : t.detachEvent && t.detachEvent("on" + n, a[l].func), a[l].orig = null, a[l].func =
								null, a.splice(l, 1), o === s)); l--);
						if (a.length || delete r[t[i]][n], e.isEmptyObj(r[t[i]])) {
							delete r[t[i]];
							try {
								delete t[i]
							} catch (c) {
								t[i] = s
							}
						}
					}
				},
				s = function(t, n) {
					t && t[i] && e.each(r[t[i]], function(e, r) {
						a(t, r, n)
					})
				};
			return {
				addEvent: o,
				removeEvent: a,
				removeAllEvents: s
			}
		}), r("moxie/runtime/html5/file/FileInput", ["moxie/runtime/html5/Runtime", "moxie/file/File",
			"moxie/core/utils/Basic", "moxie/core/utils/Dom", "moxie/core/utils/Events", "moxie/core/utils/Mime",
			"moxie/core/utils/Env"
		], function(e, t, n, r, i, o, a) {
			function s() {
				var e, s;
				n.extend(this, {
					init: function(l) {
						var c, u, h, f, d, p, g = this,
							m = g.getRuntime();
						e = l, h = e.accept.mimes || o.extList2mimes(e.accept, m.can("filter_by_extension")), u = m.getShimContainer(),
							u.innerHTML = '<input id="' + m.uid + '" type="file" style="font-size:999px;opacity:0;"' + (e.multiple &&
								m.can("select_multiple") ? "multiple" : "") + (e.directory && m.can("select_folder") ?
								"webkitdirectory directory" : "") + (h ? ' accept="' + h.join(",") + '"' : "") + " />", c = r.get(m.uid),
							n.extend(c.style, {
								position: "absolute",
								top: 0,
								left: 0,
								width: "100%",
								height: "100%"
							}), f = r.get(e.browse_button), s = r.getStyle(f, "z-index") || "auto", m.can("summon_file_dialog") && (
								"static" === r.getStyle(f, "position") && (f.style.position = "relative"), i.addEvent(f, "click",
									function(e) {
										var t = r.get(m.uid);
										t && !t.disabled && t.click(), e.preventDefault()
									}, g.uid), g.bind("Refresh", function() {
									d = parseInt(s, 10) || 1, r.get(e.browse_button).style.zIndex = d, this.getRuntime().getShimContainer()
										.style.zIndex = d - 1
								})), p = m.can("summon_file_dialog") ? f : u, i.addEvent(p, "mouseover", function() {
								g.trigger("mouseenter")
							}, g.uid), i.addEvent(p, "mouseout", function() {
								g.trigger("mouseleave")
							}, g.uid), i.addEvent(p, "mousedown", function() {
								g.trigger("mousedown")
							}, g.uid), i.addEvent(r.get(e.container), "mouseup", function() {
								g.trigger("mouseup")
							}, g.uid), c.onchange = function v(r) {
								if (g.files = [], n.each(this.files, function(n) {
										var r = "";
										return e.directory && "." == n.name ? !0 : (n.webkitRelativePath && (r = "/" + n.webkitRelativePath.replace(
											/^\//, "")), n = new t(m.uid, n), n.relativePath = r, void g.files.push(n))
									}), "IE" !== a.browser && "IEMobile" !== a.browser) this.value = "";
								else {
									var i = this.cloneNode(!0);
									this.parentNode.replaceChild(i, this), i.onchange = v
								}
								g.files.length && g.trigger("change")
							}, g.trigger({
								type: "ready",
								async: !0
							}), u = null
					},
					setOption: function(e, t) {
						var n = this.getRuntime(),
							i = r.get(n.uid);
						switch (e) {
							case "accept":
								if (t) {
									var a = t.mimes || o.extList2mimes(t, n.can("filter_by_extension"));
									i.setAttribute("accept", a.join(","))
								} else i.removeAttribute("accept");
								break;
							case "directory":
								t && n.can("select_folder") ? (i.setAttribute("directory", ""), i.setAttribute("webkitdirectory", "")) :
									(i.removeAttribute("directory"), i.removeAttribute("webkitdirectory"));
								break;
							case "multiple":
								t && n.can("select_multiple") ? i.setAttribute("multiple", "") : i.removeAttribute("multiple")
						}
					},
					disable: function(e) {
						var t, n = this.getRuntime();
						(t = r.get(n.uid)) && (t.disabled = !!e)
					},
					destroy: function() {
						var t = this.getRuntime(),
							n = t.getShim(),
							o = t.getShimContainer(),
							a = e && r.get(e.container),
							l = e && r.get(e.browse_button);
						a && i.removeAllEvents(a, this.uid), l && (i.removeAllEvents(l, this.uid), l.style.zIndex = s), o && (i.removeAllEvents(
							o, this.uid), o.innerHTML = ""), n.removeInstance(this.uid), e = o = a = l = n = null
					}
				})
			}
			return e.FileInput = s
		}), r("moxie/runtime/html5/file/FileDrop", ["moxie/runtime/html5/Runtime", "moxie/file/File",
			"moxie/core/utils/Basic", "moxie/core/utils/Dom", "moxie/core/utils/Events", "moxie/core/utils/Mime"
		], function(e, t, n, r, i, o) {
			function a() {
				function e(e) {
					if (!e.dataTransfer || !e.dataTransfer.types) return !1;
					var t = n.toArray(e.dataTransfer.types || []);
					return -1 !== n.inArray("Files", t) || -1 !== n.inArray("public.file-url", t) || -1 !== n.inArray(
						"application/x-moz-file", t)
				}

				function a(e, n) {
					if (l(e)) {
						var r = new t(p, e);
						r.relativePath = n || "", g.push(r)
					}
				}

				function s(e) {
					for (var t = [], r = 0; r < e.length; r++)[].push.apply(t, e[r].extensions.split(/\s*,\s*/));
					return -1 === n.inArray("*", t) ? t : []
				}

				function l(e) {
					if (!m.length) return !0;
					var t = o.getFileExtension(e.name);
					return !t || -1 !== n.inArray(t, m)
				}

				function c(e, t) {
					var r = [];
					n.each(e, function(e) {
						var t = e.webkitGetAsEntry();
						t && (t.isFile ? a(e.getAsFile(), t.fullPath) : r.push(t))
					}), r.length ? u(r, t) : t()
				}

				function u(e, t) {
					var r = [];
					n.each(e, function(e) {
						r.push(function(t) {
							h(e, t)
						})
					}), n.inSeries(r, function() {
						t()
					})
				}

				function h(e, t) {
					e.isFile ? e.file(function(n) {
						a(n, e.fullPath), t()
					}, function() {
						t()
					}) : e.isDirectory ? f(e, t) : t()
				}

				function f(e, t) {
					function n(e) {
						i.readEntries(function(t) {
							t.length ? ([].push.apply(r, t), n(e)) : e()
						}, e)
					}
					var r = [],
						i = e.createReader();
					n(function() {
						u(r, t)
					})
				}
				var d, p, g = [],
					m = [];
				n.extend(this, {
					init: function(t) {
						var r, o = this;
						d = t, p = o.ruid, m = s(d.accept), r = d.container, i.addEvent(r, "dragover", function(t) {
							e(t) && (t.preventDefault(), t.dataTransfer.dropEffect = "copy")
						}, o.uid), i.addEvent(r, "drop", function(t) {
							e(t) && (t.preventDefault(), g = [], t.dataTransfer.items && t.dataTransfer.items[0].webkitGetAsEntry ?
								c(t.dataTransfer.items, function() {
									o.files = g, o.trigger("drop")
								}) : (n.each(t.dataTransfer.files, function(e) {
									a(e)
								}), o.files = g, o.trigger("drop")))
						}, o.uid), i.addEvent(r, "dragenter", function(e) {
							o.trigger("dragenter")
						}, o.uid), i.addEvent(r, "dragleave", function(e) {
							o.trigger("dragleave")
						}, o.uid)
					},
					destroy: function() {
						i.removeAllEvents(d && r.get(d.container), this.uid), p = g = m = d = null
					}
				})
			}
			return e.FileDrop = a
		}), r("moxie/runtime/html5/file/FileReader", ["moxie/runtime/html5/Runtime", "moxie/core/utils/Encode",
			"moxie/core/utils/Basic"
		], function(e, t, n) {
			function r() {
				function e(e) {
					return t.atob(e.substring(e.indexOf("base64,") + 7))
				}
				var r, i = !1;
				n.extend(this, {
					read: function(t, o) {
						var a = this;
						a.result = "", r = new window.FileReader, r.addEventListener("progress", function(e) {
							a.trigger(e)
						}), r.addEventListener("load", function(t) {
							a.result = i ? e(r.result) : r.result, a.trigger(t)
						}), r.addEventListener("error", function(e) {
							a.trigger(e, r.error)
						}), r.addEventListener("loadend", function(e) {
							r = null, a.trigger(e)
						}), "function" === n.typeOf(r[t]) ? (i = !1, r[t](o.getSource())) : "readAsBinaryString" === t && (i = !0,
							r.readAsDataURL(o.getSource()))
					},
					abort: function() {
						r && r.abort()
					},
					destroy: function() {
						r = null
					}
				})
			}
			return e.FileReader = r
		}), r("moxie/runtime/html5/xhr/XMLHttpRequest", ["moxie/runtime/html5/Runtime", "moxie/core/utils/Basic",
			"moxie/core/utils/Mime", "moxie/core/utils/Url", "moxie/file/File", "moxie/file/Blob", "moxie/xhr/FormData",
			"moxie/core/Exceptions", "moxie/core/utils/Env"
		], function(e, t, n, r, i, o, a, s, l) {
			function c() {
				function e(e, t) {
					var n, r, i = this;
					n = t.getBlob().getSource(), r = new window.FileReader, r.onload = function() {
						t.append(t.getBlobName(), new o(null, {
							type: n.type,
							data: r.result
						})), p.send.call(i, e, t)
					}, r.readAsBinaryString(n)
				}

				function c() {
					return !window.XMLHttpRequest || "IE" === l.browser && l.verComp(l.version, 8, "<") ? function() {
						for (var e = ["Msxml2.XMLHTTP.6.0", "Microsoft.XMLHTTP"], t = 0; t < e.length; t++) try {
							return new ActiveXObject(e[t])
						} catch (n) {}
					}() : new window.XMLHttpRequest
				}

				function u(e) {
					var t = e.responseXML,
						n = e.responseText;
					return "IE" === l.browser && n && t && !t.documentElement && /[^\/]+\/[^\+]+\+xml/.test(e.getResponseHeader(
						"Content-Type")) && (t = new window.ActiveXObject("Microsoft.XMLDOM"), t.async = !1, t.validateOnParse = !1,
						t.loadXML(n)), t && ("IE" === l.browser && 0 !== t.parseError || !t.documentElement || "parsererror" === t.documentElement
						.tagName) ? null : t
				}

				function h(e) {
					var t = "----moxieboundary" + (new Date).getTime(),
						n = "--",
						r = "\r\n",
						i = "",
						a = this.getRuntime();
					if (!a.can("send_binary_string")) throw new s.RuntimeError(s.RuntimeError.NOT_SUPPORTED_ERR);
					return f.setRequestHeader("Content-Type", "multipart/form-data; boundary=" + t), e.each(function(e, a) {
						i += e instanceof o ? n + t + r + 'Content-Disposition: form-data; name="' + a + '"; filename="' + unescape(
								encodeURIComponent(e.name || "blob")) + '"' + r + "Content-Type: " + (e.type || "application/octet-stream") +
							r + r + e.getSource() + r : n + t + r + 'Content-Disposition: form-data; name="' + a + '"' + r + r +
							unescape(encodeURIComponent(e)) + r
					}), i += n + t + n + r
				}
				var f, d, p = this;
				t.extend(this, {
					send: function(n, i) {
						var s = this,
							u = "Mozilla" === l.browser && l.verComp(l.version, 4, ">=") && l.verComp(l.version, 7, "<"),
							p = "Android Browser" === l.browser,
							g = !1;
						if (d = n.url.replace(/^.+?\/([\w\-\.]+)$/, "$1").toLowerCase(), f = c(), f.open(n.method, n.url, n.async,
								n.user, n.password), i instanceof o) i.isDetached() && (g = !0), i = i.getSource();
						else if (i instanceof a) {
							if (i.hasBlob())
								if (i.getBlob().isDetached()) i = h.call(s, i), g = !0;
								else if ((u || p) && "blob" === t.typeOf(i.getBlob().getSource()) && window.FileReader) return void e.call(
								s, n, i);
							if (i instanceof a) {
								var m = new window.FormData;
								i.each(function(e, t) {
									e instanceof o ? m.append(t, e.getSource()) : m.append(t, e)
								}), i = m
							}
						}
						f.upload ? (n.withCredentials && (f.withCredentials = !0), f.addEventListener("load", function(e) {
								s.trigger(e)
							}), f.addEventListener("error", function(e) {
								s.trigger(e)
							}), f.addEventListener("progress", function(e) {
								s.trigger(e)
							}), f.upload.addEventListener("progress", function(e) {
								s.trigger({
									type: "UploadProgress",
									loaded: e.loaded,
									total: e.total
								})
							})) : f.onreadystatechange = function() {
								switch (f.readyState) {
									case 1:
										break;
									case 2:
										break;
									case 3:
										var e, t;
										try {
											r.hasSameOrigin(n.url) && (e = f.getResponseHeader("Content-Length") || 0), f.responseText && (t = f.responseText
												.length)
										} catch (i) {
											e = t = 0
										}
										s.trigger({
											type: "progress",
											lengthComputable: !!e,
											total: parseInt(e, 10),
											loaded: t
										});
										break;
									case 4:
										f.onreadystatechange = function() {}, 0 === f.status ? s.trigger("error") : s.trigger("load")
								}
							}, t.isEmptyObj(n.headers) || t.each(n.headers, function(e, t) {
								f.setRequestHeader(t, e)
							}), "" !== n.responseType && "responseType" in f && ("json" !== n.responseType || l.can(
								"return_response_type", "json") ? f.responseType = n.responseType : f.responseType = "text"), g ? f.sendAsBinary ?
							f.sendAsBinary(i) : ! function() {
								for (var e = new Uint8Array(i.length), t = 0; t < i.length; t++) e[t] = 255 & i.charCodeAt(t);
								f.send(e.buffer)
							}() : f.send(i), s.trigger("loadstart")
					},
					getStatus: function() {
						try {
							if (f) return f.status
						} catch (e) {}
						return 0
					},
					getResponse: function(e) {
						var t = this.getRuntime();
						try {
							switch (e) {
								case "blob":
									var r = new i(t.uid, f.response),
										o = f.getResponseHeader("Content-Disposition");
									if (o) {
										var a = o.match(/filename=([\'\"'])([^\1]+)\1/);
										a && (d = a[2])
									}
									return r.name = d, r.type || (r.type = n.getFileMime(d)), r;
								case "json":
									return l.can("return_response_type", "json") ? f.response : 200 === f.status && window.JSON ? JSON.parse(
										f.responseText) : null;
								case "document":
									return u(f);
								default:
									return "" !== f.responseText ? f.responseText : null
							}
						} catch (s) {
							return null
						}
					},
					getAllResponseHeaders: function() {
						try {
							return f.getAllResponseHeaders()
						} catch (e) {}
						return ""
					},
					abort: function() {
						f && f.abort()
					},
					destroy: function() {
						p = d = null
					}
				})
			}
			return e.XMLHttpRequest = c
		}), r("moxie/runtime/html5/utils/BinaryReader", ["moxie/core/utils/Basic"], function(e) {
			function t(e) {
				e instanceof ArrayBuffer ? n.apply(this, arguments) : r.apply(this, arguments)
			}

			function n(t) {
				var n = new DataView(t);
				e.extend(this, {
					readByteAt: function(e) {
						return n.getUint8(e)
					},
					writeByteAt: function(e, t) {
						n.setUint8(e, t)
					},
					SEGMENT: function(e, r, i) {
						switch (arguments.length) {
							case 2:
								return t.slice(e, e + r);
							case 1:
								return t.slice(e);
							case 3:
								if (null === i && (i = new ArrayBuffer), i instanceof ArrayBuffer) {
									var o = new Uint8Array(this.length() - r + i.byteLength);
									e > 0 && o.set(new Uint8Array(t.slice(0, e)), 0), o.set(new Uint8Array(i), e), o.set(new Uint8Array(t.slice(
										e + r)), e + i.byteLength), this.clear(), t = o.buffer, n = new DataView(t);
									break
								}
							default:
								return t
						}
					},
					length: function() {
						return t ? t.byteLength : 0
					},
					clear: function() {
						n = t = null
					}
				})
			}

			function r(t) {
				function n(e, n, r) {
					r = 3 === arguments.length ? r : t.length - n - 1, t = t.substr(0, n) + e + t.substr(r + n)
				}
				e.extend(this, {
					readByteAt: function(e) {
						return t.charCodeAt(e)
					},
					writeByteAt: function(e, t) {
						n(String.fromCharCode(t), e, 1)
					},
					SEGMENT: function(e, r, i) {
						switch (arguments.length) {
							case 1:
								return t.substr(e);
							case 2:
								return t.substr(e, r);
							case 3:
								n(null !== i ? i : "", e, r);
								break;
							default:
								return t
						}
					},
					length: function() {
						return t ? t.length : 0
					},
					clear: function() {
						t = null
					}
				})
			}
			return e.extend(t.prototype, {
				littleEndian: !1,
				read: function(e, t) {
					var n, r, i;
					if (e + t > this.length()) throw new Error("You are trying to read outside the source boundaries.");
					for (r = this.littleEndian ? 0 : -8 * (t - 1), i = 0, n = 0; t > i; i++) n |= this.readByteAt(e + i) << Math
						.abs(r + 8 * i);
					return n
				},
				write: function(e, t, n) {
					var r, i;
					if (e > this.length()) throw new Error("You are trying to write outside the source boundaries.");
					for (r = this.littleEndian ? 0 : -8 * (n - 1), i = 0; n > i; i++) this.writeByteAt(e + i, t >> Math.abs(r +
						8 * i) & 255)
				},
				BYTE: function(e) {
					return this.read(e, 1)
				},
				SHORT: function(e) {
					return this.read(e, 2)
				},
				LONG: function(e) {
					return this.read(e, 4)
				},
				SLONG: function(e) {
					var t = this.read(e, 4);
					return t > 2147483647 ? t - 4294967296 : t
				},
				CHAR: function(e) {
					return String.fromCharCode(this.read(e, 1))
				},
				STRING: function(e, t) {
					return this.asArray("CHAR", e, t).join("")
				},
				asArray: function(e, t, n) {
					for (var r = [], i = 0; n > i; i++) r[i] = this[e](t + i);
					return r
				}
			}), t
		}), r("moxie/runtime/html5/image/JPEGHeaders", ["moxie/runtime/html5/utils/BinaryReader", "moxie/core/Exceptions"],
			function(e, t) {
				return function n(r) {
					var i, o, a, s = [],
						l = 0;
					if (i = new e(r), 65496 !== i.SHORT(0)) throw i.clear(), new t.ImageError(t.ImageError.WRONG_FORMAT);
					for (o = 2; o <= i.length();)
						if (a = i.SHORT(o), a >= 65488 && 65495 >= a) o += 2;
						else {
							if (65498 === a || 65497 === a) break;
							l = i.SHORT(o + 2) + 2, a >= 65505 && 65519 >= a && s.push({
								hex: a,
								name: "APP" + (15 & a),
								start: o,
								length: l,
								segment: i.SEGMENT(o, l)
							}), o += l
						} return i.clear(), {
						headers: s,
						restore: function(t) {
							var n, r, i;
							for (i = new e(t), o = 65504 == i.SHORT(2) ? 4 + i.SHORT(4) : 2, r = 0, n = s.length; n > r; r++) i.SEGMENT(
								o, 0, s[r].segment), o += s[r].length;
							return t = i.SEGMENT(), i.clear(), t
						},
						strip: function(t) {
							var r, i, o, a;
							for (o = new n(t), i = o.headers, o.purge(), r = new e(t), a = i.length; a--;) r.SEGMENT(i[a].start, i[a].length,
								"");
							return t = r.SEGMENT(), r.clear(), t
						},
						get: function(e) {
							for (var t = [], n = 0, r = s.length; r > n; n++) s[n].name === e.toUpperCase() && t.push(s[n].segment);
							return t
						},
						set: function(e, t) {
							var n, r, i, o = [];
							for ("string" == typeof t ? o.push(t) : o = t, n = r = 0, i = s.length; i > n && (s[n].name === e.toUpperCase() &&
									(s[n].segment = o[r], s[n].length = o[r].length, r++), !(r >= o.length)); n++);
						},
						purge: function() {
							this.headers = s = []
						}
					}
				}
			}), r("moxie/runtime/html5/image/ExifParser", ["moxie/core/utils/Basic", "moxie/runtime/html5/utils/BinaryReader",
			"moxie/core/Exceptions"
		], function(e, n, r) {
			function i(o) {
				function a(n, i) {
					var o, a, s, l, c, f, d, p, g = this,
						m = [],
						v = {},
						y = {
							1: "BYTE",
							7: "UNDEFINED",
							2: "ASCII",
							3: "SHORT",
							4: "LONG",
							5: "RATIONAL",
							9: "SLONG",
							10: "SRATIONAL"
						},
						b = {
							BYTE: 1,
							UNDEFINED: 1,
							ASCII: 1,
							SHORT: 2,
							LONG: 4,
							RATIONAL: 8,
							SLONG: 4,
							SRATIONAL: 8
						};
					for (o = g.SHORT(n), a = 0; o > a; a++)
						if (m = [], d = n + 2 + 12 * a, s = i[g.SHORT(d)], s !== t) {
							if (l = y[g.SHORT(d += 2)], c = g.LONG(d += 2), f = b[l], !f) throw new r.ImageError(r.ImageError.INVALID_META_ERR);
							if (d += 4, f * c > 4 && (d = g.LONG(d) + h.tiffHeader), d + f * c >= this.length()) throw new r.ImageError(r
								.ImageError.INVALID_META_ERR);
							"ASCII" !== l ? (m = g.asArray(l, d, c), p = 1 == c ? m[0] : m, u.hasOwnProperty(s) && "object" != typeof p ?
								v[s] = u[s][p] : v[s] = p) : v[s] = e.trim(g.STRING(d, c).replace(/\0$/, ""))
						} return v
				}

				function s(e, t, n) {
					var r, i, o, a = 0;
					if ("string" == typeof t) {
						var s = c[e.toLowerCase()];
						for (var l in s)
							if (s[l] === t) {
								t = l;
								break
							}
					}
					r = h[e.toLowerCase() + "IFD"], i = this.SHORT(r);
					for (var u = 0; i > u; u++)
						if (o = r + 12 * u + 2, this.SHORT(o) == t) {
							a = o + 8;
							break
						} if (!a) return !1;
					try {
						this.write(a, n, 4)
					} catch (f) {
						return !1
					}
					return !0
				}
				var l, c, u, h, f, d;
				if (n.call(this, o), c = {
						tiff: {
							274: "Orientation",
							270: "ImageDescription",
							271: "Make",
							272: "Model",
							305: "Software",
							34665: "ExifIFDPointer",
							34853: "GPSInfoIFDPointer"
						},
						exif: {
							36864: "ExifVersion",
							40961: "ColorSpace",
							40962: "PixelXDimension",
							40963: "PixelYDimension",
							36867: "DateTimeOriginal",
							33434: "ExposureTime",
							33437: "FNumber",
							34855: "ISOSpeedRatings",
							37377: "ShutterSpeedValue",
							37378: "ApertureValue",
							37383: "MeteringMode",
							37384: "LightSource",
							37385: "Flash",
							37386: "FocalLength",
							41986: "ExposureMode",
							41987: "WhiteBalance",
							41990: "SceneCaptureType",
							41988: "DigitalZoomRatio",
							41992: "Contrast",
							41993: "Saturation",
							41994: "Sharpness"
						},
						gps: {
							0: "GPSVersionID",
							1: "GPSLatitudeRef",
							2: "GPSLatitude",
							3: "GPSLongitudeRef",
							4: "GPSLongitude"
						},
						thumb: {
							513: "JPEGInterchangeFormat",
							514: "JPEGInterchangeFormatLength"
						}
					}, u = {
						ColorSpace: {
							1: "sRGB",
							0: "Uncalibrated"
						},
						MeteringMode: {
							0: "Unknown",
							1: "Average",
							2: "CenterWeightedAverage",
							3: "Spot",
							4: "MultiSpot",
							5: "Pattern",
							6: "Partial",
							255: "Other"
						},
						LightSource: {
							1: "Daylight",
							2: "Fliorescent",
							3: "Tungsten",
							4: "Flash",
							9: "Fine weather",
							10: "Cloudy weather",
							11: "Shade",
							12: "Daylight fluorescent (D 5700 - 7100K)",
							13: "Day white fluorescent (N 4600 -5400K)",
							14: "Cool white fluorescent (W 3900 - 4500K)",
							15: "White fluorescent (WW 3200 - 3700K)",
							17: "Standard light A",
							18: "Standard light B",
							19: "Standard light C",
							20: "D55",
							21: "D65",
							22: "D75",
							23: "D50",
							24: "ISO studio tungsten",
							255: "Other"
						},
						Flash: {
							0: "Flash did not fire",
							1: "Flash fired",
							5: "Strobe return light not detected",
							7: "Strobe return light detected",
							9: "Flash fired, compulsory flash mode",
							13: "Flash fired, compulsory flash mode, return light not detected",
							15: "Flash fired, compulsory flash mode, return light detected",
							16: "Flash did not fire, compulsory flash mode",
							24: "Flash did not fire, auto mode",
							25: "Flash fired, auto mode",
							29: "Flash fired, auto mode, return light not detected",
							31: "Flash fired, auto mode, return light detected",
							32: "No flash function",
							65: "Flash fired, red-eye reduction mode",
							69: "Flash fired, red-eye reduction mode, return light not detected",
							71: "Flash fired, red-eye reduction mode, return light detected",
							73: "Flash fired, compulsory flash mode, red-eye reduction mode",
							77: "Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",
							79: "Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",
							89: "Flash fired, auto mode, red-eye reduction mode",
							93: "Flash fired, auto mode, return light not detected, red-eye reduction mode",
							95: "Flash fired, auto mode, return light detected, red-eye reduction mode"
						},
						ExposureMode: {
							0: "Auto exposure",
							1: "Manual exposure",
							2: "Auto bracket"
						},
						WhiteBalance: {
							0: "Auto white balance",
							1: "Manual white balance"
						},
						SceneCaptureType: {
							0: "Standard",
							1: "Landscape",
							2: "Portrait",
							3: "Night scene"
						},
						Contrast: {
							0: "Normal",
							1: "Soft",
							2: "Hard"
						},
						Saturation: {
							0: "Normal",
							1: "Low saturation",
							2: "High saturation"
						},
						Sharpness: {
							0: "Normal",
							1: "Soft",
							2: "Hard"
						},
						GPSLatitudeRef: {
							N: "North latitude",
							S: "South latitude"
						},
						GPSLongitudeRef: {
							E: "East longitude",
							W: "West longitude"
						}
					}, h = {
						tiffHeader: 10
					}, f = h.tiffHeader, l = {
						clear: this.clear
					}, e.extend(this, {
						read: function() {
							try {
								return i.prototype.read.apply(this, arguments)
							} catch (e) {
								throw new r.ImageError(r.ImageError.INVALID_META_ERR)
							}
						},
						write: function() {
							try {
								return i.prototype.write.apply(this, arguments)
							} catch (e) {
								throw new r.ImageError(r.ImageError.INVALID_META_ERR)
							}
						},
						UNDEFINED: function() {
							return this.BYTE.apply(this, arguments)
						},
						RATIONAL: function(e) {
							return this.LONG(e) / this.LONG(e + 4)
						},
						SRATIONAL: function(e) {
							return this.SLONG(e) / this.SLONG(e + 4)
						},
						ASCII: function(e) {
							return this.CHAR(e)
						},
						TIFF: function() {
							return d || null
						},
						EXIF: function() {
							var t = null;
							if (h.exifIFD) {
								try {
									t = a.call(this, h.exifIFD, c.exif)
								} catch (n) {
									return null
								}
								if (t.ExifVersion && "array" === e.typeOf(t.ExifVersion)) {
									for (var r = 0, i = ""; r < t.ExifVersion.length; r++) i += String.fromCharCode(t.ExifVersion[r]);
									t.ExifVersion = i
								}
							}
							return t
						},
						GPS: function() {
							var t = null;
							if (h.gpsIFD) {
								try {
									t = a.call(this, h.gpsIFD, c.gps)
								} catch (n) {
									return null
								}
								t.GPSVersionID && "array" === e.typeOf(t.GPSVersionID) && (t.GPSVersionID = t.GPSVersionID.join("."))
							}
							return t
						},
						thumb: function() {
							if (h.IFD1) try {
								var e = a.call(this, h.IFD1, c.thumb);
								if ("JPEGInterchangeFormat" in e) return this.SEGMENT(h.tiffHeader + e.JPEGInterchangeFormat, e.JPEGInterchangeFormatLength)
							} catch (t) {}
							return null
						},
						setExif: function(e, t) {
							return "PixelXDimension" !== e && "PixelYDimension" !== e ? !1 : s.call(this, "exif", e, t)
						},
						clear: function() {
							l.clear(), o = c = u = d = h = l = null
						}
					}), 65505 !== this.SHORT(0) || "EXIF\x00" !== this.STRING(4, 5).toUpperCase()) throw new r.ImageError(r.ImageError
					.INVALID_META_ERR);
				if (this.littleEndian = 18761 == this.SHORT(f), 42 !== this.SHORT(f += 2)) throw new r.ImageError(r.ImageError.INVALID_META_ERR);
				h.IFD0 = h.tiffHeader + this.LONG(f += 2), d = a.call(this, h.IFD0, c.tiff), "ExifIFDPointer" in d && (h.exifIFD =
					h.tiffHeader + d.ExifIFDPointer, delete d.ExifIFDPointer), "GPSInfoIFDPointer" in d && (h.gpsIFD = h.tiffHeader +
					d.GPSInfoIFDPointer, delete d.GPSInfoIFDPointer), e.isEmptyObj(d) && (d = null);
				var p = this.LONG(h.IFD0 + 12 * this.SHORT(h.IFD0) + 2);
				p && (h.IFD1 = h.tiffHeader + p)
			}
			return i.prototype = n.prototype, i
		}), r("moxie/runtime/html5/image/JPEG", ["moxie/core/utils/Basic", "moxie/core/Exceptions",
			"moxie/runtime/html5/image/JPEGHeaders", "moxie/runtime/html5/utils/BinaryReader",
			"moxie/runtime/html5/image/ExifParser"
		], function(e, t, n, r, i) {
			function o(o) {
				function a(e) {
					var t, n, r = 0;
					for (e || (e = c); r <= e.length();) {
						if (t = e.SHORT(r += 2), t >= 65472 && 65475 >= t) return r += 5, {
							height: e.SHORT(r),
							width: e.SHORT(r += 2)
						};
						n = e.SHORT(r += 2), r += n - 2
					}
					return null
				}

				function s() {
					var e, t, n = h.thumb();
					return n && (e = new r(n), t = a(e), e.clear(), t) ? (t.data = n, t) : null
				}

				function l() {
					h && u && c && (h.clear(), u.purge(), c.clear(), f = u = h = c = null)
				}
				var c, u, h, f;
				if (c = new r(o), 65496 !== c.SHORT(0)) throw new t.ImageError(t.ImageError.WRONG_FORMAT);
				u = new n(o);
				try {
					h = new i(u.get("app1")[0])
				} catch (d) {}
				f = a.call(this), e.extend(this, {
					type: "image/jpeg",
					size: c.length(),
					width: f && f.width || 0,
					height: f && f.height || 0,
					setExif: function(t, n) {
						return h ? ("object" === e.typeOf(t) ? e.each(t, function(e, t) {
							h.setExif(t, e)
						}) : h.setExif(t, n), void u.set("app1", h.SEGMENT())) : !1
					},
					writeHeaders: function() {
						return arguments.length ? u.restore(arguments[0]) : u.restore(o)
					},
					stripHeaders: function(e) {
						return u.strip(e)
					},
					purge: function() {
						l.call(this)
					}
				}), h && (this.meta = {
					tiff: h.TIFF(),
					exif: h.EXIF(),
					gps: h.GPS(),
					thumb: s()
				})
			}
			return o
		}), r("moxie/runtime/html5/image/PNG", ["moxie/core/Exceptions", "moxie/core/utils/Basic",
			"moxie/runtime/html5/utils/BinaryReader"
		], function(e, t, n) {
			function r(r) {
				function i() {
					var e, t;
					return e = a.call(this, 8), "IHDR" == e.type ? (t = e.start, {
						width: s.LONG(t),
						height: s.LONG(t += 4)
					}) : null
				}

				function o() {
					s && (s.clear(), r = u = l = c = s = null)
				}

				function a(e) {
					var t, n, r, i;
					return t = s.LONG(e), n = s.STRING(e += 4, 4), r = e += 4, i = s.LONG(e + t), {
						length: t,
						type: n,
						start: r,
						CRC: i
					}
				}
				var s, l, c, u;
				s = new n(r),
					function() {
						var t = 0,
							n = 0,
							r = [35152, 20039, 3338, 6666];
						for (n = 0; n < r.length; n++, t += 2)
							if (r[n] != s.SHORT(t)) throw new e.ImageError(e.ImageError.WRONG_FORMAT)
					}(), u = i.call(this), t.extend(this, {
						type: "image/png",
						size: s.length(),
						width: u.width,
						height: u.height,
						purge: function() {
							o.call(this)
						}
					}), o.call(this)
			}
			return r
		}), r("moxie/runtime/html5/image/ImageInfo", ["moxie/core/utils/Basic", "moxie/core/Exceptions",
			"moxie/runtime/html5/image/JPEG", "moxie/runtime/html5/image/PNG"
		], function(e, t, n, r) {
			return function(i) {
				var o, a = [n, r];
				o = function() {
					for (var e = 0; e < a.length; e++) try {
						return new a[e](i)
					} catch (n) {}
					throw new t.ImageError(t.ImageError.WRONG_FORMAT)
				}(), e.extend(this, {
					type: "",
					size: 0,
					width: 0,
					height: 0,
					setExif: function() {},
					writeHeaders: function(e) {
						return e
					},
					stripHeaders: function(e) {
						return e
					},
					purge: function() {
						i = null
					}
				}), e.extend(this, o), this.purge = function() {
					o.purge(), o = null
				}
			}
		}), r("moxie/runtime/html5/image/ResizerCanvas", [], function() {
			function e(n, r) {
				var i = n.width,
					o = Math.floor(i * r),
					a = !1;
				(.5 > r || r > 2) && (r = .5 > r ? .5 : 2, a = !0);
				var s = t(n, r);
				return a ? e(s, o / s.width) : s
			}

			function t(e, t) {
				var n = e.width,
					r = e.height,
					i = Math.floor(n * t),
					o = Math.floor(r * t),
					a = document.createElement("canvas");
				return a.width = i, a.height = o, a.getContext("2d").drawImage(e, 0, 0, n, r, 0, 0, i, o), e = null, a
			}
			return {
				scale: e
			}
		}), r("moxie/runtime/html5/image/Image", ["moxie/runtime/html5/Runtime", "moxie/core/utils/Basic",
			"moxie/core/Exceptions", "moxie/core/utils/Encode", "moxie/file/Blob", "moxie/file/File",
			"moxie/runtime/html5/image/ImageInfo", "moxie/runtime/html5/image/ResizerCanvas", "moxie/core/utils/Mime",
			"moxie/core/utils/Env"
		], function(e, t, n, r, i, o, a, s, l, c) {
			function u() {
				function e() {
					if (!y && !m) throw new n.ImageError(n.DOMException.INVALID_STATE_ERR);
					return y || m
				}

				function c() {
					var t = e();
					return "canvas" == t.nodeName.toLowerCase() ? t : (y = document.createElement("canvas"), y.width = t.width, y.height =
						t.height, y.getContext("2d").drawImage(t, 0, 0), y)
				}

				function u(e) {
					return r.atob(e.substring(e.indexOf("base64,") + 7))
				}

				function h(e, t) {
					return "data:" + (t || "") + ";base64," + r.btoa(e)
				}

				function f(e) {
					var t = this;
					m = new Image, m.onerror = function() {
						g.call(this), t.trigger("error", n.ImageError.WRONG_FORMAT)
					}, m.onload = function() {
						t.trigger("load")
					}, m.src = "data:" == e.substr(0, 5) ? e : h(e, x.type)
				}

				function d(e, t) {
					var r, i = this;
					return window.FileReader ? (r = new FileReader, r.onload = function() {
						t.call(i, this.result)
					}, r.onerror = function() {
						i.trigger("error", n.ImageError.WRONG_FORMAT)
					}, r.readAsDataURL(e), void 0) : t.call(this, e.getAsDataURL())
				}

				function p(e, n) {
					var r = Math.PI / 180,
						i = document.createElement("canvas"),
						o = i.getContext("2d"),
						a = e.width,
						s = e.height;
					switch (t.inArray(n, [5, 6, 7, 8]) > -1 ? (i.width = s, i.height = a) : (i.width = a, i.height = s), n) {
						case 2:
							o.translate(a, 0), o.scale(-1, 1);
							break;
						case 3:
							o.translate(a, s), o.rotate(180 * r);
							break;
						case 4:
							o.translate(0, s), o.scale(1, -1);
							break;
						case 5:
							o.rotate(90 * r), o.scale(1, -1);
							break;
						case 6:
							o.rotate(90 * r), o.translate(0, -s);
							break;
						case 7:
							o.rotate(90 * r), o.translate(a, -s), o.scale(-1, 1);
							break;
						case 8:
							o.rotate(-90 * r), o.translate(-a, 0)
					}
					return o.drawImage(e, 0, 0, a, s), i
				}

				function g() {
					v && (v.purge(), v = null), b = m = y = x = null, S = !1
				}
				var m, v, y, b, x, w = this,
					S = !1,
					_ = !0;
				t.extend(this, {
					loadFromBlob: function(e) {
						var t = this.getRuntime(),
							r = arguments.length > 1 ? arguments[1] : !0;
						if (!t.can("access_binary")) throw new n.RuntimeError(n.RuntimeError.NOT_SUPPORTED_ERR);
						return x = e, e.isDetached() ? (b = e.getSource(), void f.call(this, b)) : void d.call(this, e.getSource(),
							function(e) {
								r && (b = u(e)), f.call(this, e)
							})
					},
					loadFromImage: function(e, t) {
						this.meta = e.meta, x = new o(null, {
							name: e.name,
							size: e.size,
							type: e.type
						}), f.call(this, t ? b = e.getAsBinaryString() : e.getAsDataURL())
					},
					getInfo: function() {
						var t, n = this.getRuntime();
						return !v && b && n.can("access_image_binary") && (v = new a(b)), t = {
							width: e().width || 0,
							height: e().height || 0,
							type: x.type || l.getFileMime(x.name),
							size: b && b.length || x.size || 0,
							name: x.name || "",
							meta: null
						}, _ && (t.meta = v && v.meta || this.meta || {}, !t.meta || !t.meta.thumb || t.meta.thumb.data instanceof i ||
							(t.meta.thumb.data = new i(null, {
								type: "image/jpeg",
								data: t.meta.thumb.data
							}))), t
					},
					resize: function(t, n, r) {
						var i = document.createElement("canvas");
						if (i.width = t.width, i.height = t.height, i.getContext("2d").drawImage(e(), t.x, t.y, t.width, t.height,
								0, 0, i.width, i.height), y = s.scale(i, n), _ = r.preserveHeaders, !_) {
							var o = this.meta && this.meta.tiff && this.meta.tiff.Orientation || 1;
							y = p(y, o)
						}
						this.width = y.width, this.height = y.height, S = !0, this.trigger("Resize")
					},
					getAsCanvas: function() {
						return y || (y = c()), y.id = this.uid + "_canvas", y
					},
					getAsBlob: function(e, t) {
						return e !== this.type ? (S = !0, new o(null, {
							name: x.name || "",
							type: e,
							data: w.getAsDataURL(e, t)
						})) : new o(null, {
							name: x.name || "",
							type: e,
							data: w.getAsBinaryString(e, t)
						})
					},
					getAsDataURL: function(e) {
						var t = arguments[1] || 90;
						if (!S) return m.src;
						if (c(), "image/jpeg" !== e) return y.toDataURL("image/png");
						try {
							return y.toDataURL("image/jpeg", t / 100)
						} catch (n) {
							return y.toDataURL("image/jpeg")
						}
					},
					getAsBinaryString: function(e, t) {
						if (!S) return b || (b = u(w.getAsDataURL(e, t))), b;
						if ("image/jpeg" !== e) b = u(w.getAsDataURL(e, t));
						else {
							var n;
							t || (t = 90), c();
							try {
								n = y.toDataURL("image/jpeg", t / 100)
							} catch (r) {
								n = y.toDataURL("image/jpeg")
							}
							b = u(n), v && (b = v.stripHeaders(b), _ && (v.meta && v.meta.exif && v.setExif({
								PixelXDimension: this.width,
								PixelYDimension: this.height
							}), b = v.writeHeaders(b)), v.purge(), v = null)
						}
						return S = !1, b
					},
					destroy: function() {
						w = null, g.call(this), this.getRuntime().getShim().removeInstance(this.uid)
					}
				})
			}
			return e.Image = u
		}), r("moxie/runtime/flash/Runtime", ["moxie/core/utils/Basic", "moxie/core/utils/Env", "moxie/core/utils/Dom",
			"moxie/core/Exceptions", "moxie/runtime/Runtime"
		], function(e, t, n, r, o) {
			function a() {
				var e;
				try {
					e = navigator.plugins["Shockwave Flash"], e = e.description
				} catch (t) {
					try {
						e = new ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version")
					} catch (n) {
						e = "0.0"
					}
				}
				return e = e.match(/\d+/g), parseFloat(e[0] + "." + e[1])
			}

			function s(e) {
				var r = n.get(e);
				r && "OBJECT" == r.nodeName && ("IE" === t.browser ? (r.style.display = "none", function i() {
					4 == r.readyState ? l(e) : setTimeout(i, 10)
				}()) : r.parentNode.removeChild(r))
			}

			function l(e) {
				var t = n.get(e);
				if (t) {
					for (var r in t) "function" == typeof t[r] && (t[r] = null);
					t.parentNode.removeChild(t)
				}
			}

			function c(l) {
				var c, f = this;
				l = e.extend({
					swf_url: t.swf_url
				}, l), o.call(this, l, u, {
					access_binary: function(e) {
						return e && "browser" === f.mode
					},
					access_image_binary: function(e) {
						return e && "browser" === f.mode
					},
					display_media: o.capTest(i("moxie/image/Image")),
					do_cors: o.capTrue,
					drag_and_drop: !1,
					report_upload_progress: function() {
						return "client" === f.mode
					},
					resize_image: o.capTrue,
					return_response_headers: !1,
					return_response_type: function(t) {
						return "json" === t && window.JSON ? !0 : !e.arrayDiff(t, ["", "text", "document"]) || "browser" === f.mode
					},
					return_status_code: function(t) {
						return "browser" === f.mode || !e.arrayDiff(t, [200, 404])
					},
					select_file: o.capTrue,
					select_multiple: o.capTrue,
					send_binary_string: function(e) {
						return e && "browser" === f.mode
					},
					send_browser_cookies: function(e) {
						return e && "browser" === f.mode
					},
					send_custom_headers: function(e) {
						return e && "browser" === f.mode
					},
					send_multipart: o.capTrue,
					slice_blob: function(e) {
						return e && "browser" === f.mode
					},
					stream_upload: function(e) {
						return e && "browser" === f.mode
					},
					summon_file_dialog: !1,
					upload_filesize: function(t) {
						return e.parseSizeStr(t) <= 2097152 || "client" === f.mode
					},
					use_http_method: function(t) {
						return !e.arrayDiff(t, ["GET", "POST"])
					}
				}, {
					access_binary: function(e) {
						return e ? "browser" : "client"
					},
					access_image_binary: function(e) {
						return e ? "browser" : "client"
					},
					report_upload_progress: function(e) {
						return e ? "browser" : "client"
					},
					return_response_type: function(t) {
						return e.arrayDiff(t, ["", "text", "json", "document"]) ? "browser" : ["client", "browser"]
					},
					return_status_code: function(t) {
						return e.arrayDiff(t, [200, 404]) ? "browser" : ["client", "browser"]
					},
					send_binary_string: function(e) {
						return e ? "browser" : "client"
					},
					send_browser_cookies: function(e) {
						return e ? "browser" : "client"
					},
					send_custom_headers: function(e) {
						return e ? "browser" : "client"
					},
					slice_blob: function(e) {
						return e ? "browser" : "client"
					},
					stream_upload: function(e) {
						return e ? "client" : "browser"
					},
					upload_filesize: function(t) {
						return e.parseSizeStr(t) >= 2097152 ? "client" : "browser"
					}
				}, "client"), a() < 11.3 && (MXI_DEBUG && t.debug.runtime && t.log(
					"	Flash didn't meet minimal version requirement (11.3)."), this.mode = !1), e.extend(this, {
					getShim: function() {
						return n.get(this.uid)
					},
					shimExec: function(e, t) {
						var n = [].slice.call(arguments, 2);
						return f.getShim().exec(this.uid, e, t, n)
					},
					init: function() {
						var n, i, o;
						o = this.getShimContainer(), e.extend(o.style, {
								position: "absolute",
								top: "-8px",
								left: "-8px",
								width: "9px",
								height: "9px",
								overflow: "hidden"
							}), n = '<object id="' + this.uid + '" type="application/x-shockwave-flash" data="' + l.swf_url + '" ',
							"IE" === t.browser && (n += 'classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" '), n +=
							'width="100%" height="100%" style="outline:0"><param name="movie" value="' + l.swf_url +
							'" /><param name="flashvars" value="uid=' + escape(this.uid) + "&target=" + t.global_event_dispatcher +
							'" /><param name="wmode" value="transparent" /><param name="allowscriptaccess" value="always" /></object>',
							"IE" === t.browser ? (i = document.createElement("div"), o.appendChild(i), i.outerHTML = n, i = o = null) :
							o.innerHTML = n, c = setTimeout(function() {
								f && !f.initialized && (f.trigger("Error", new r.RuntimeError(r.RuntimeError.NOT_INIT_ERR)), MXI_DEBUG &&
									t.debug.runtime && t.log(
										"	Flash failed to initialize within a specified period of time (typically 5s)."))
							}, 5e3)
					},
					destroy: function(e) {
						return function() {
							s(f.uid), e.call(f), clearTimeout(c), l = c = e = f = null
						}
					}(this.destroy)
				}, h)
			}
			var u = "flash",
				h = {};
			return o.addConstructor(u, c), h
		}), r("moxie/runtime/flash/file/Blob", ["moxie/runtime/flash/Runtime", "moxie/file/Blob"], function(e, t) {
			var n = {
				slice: function(e, n, r, i) {
					var o = this.getRuntime();
					return 0 > n ? n = Math.max(e.size + n, 0) : n > 0 && (n = Math.min(n, e.size)), 0 > r ? r = Math.max(e.size +
							r, 0) : r > 0 && (r = Math.min(r, e.size)), e = o.shimExec.call(this, "Blob", "slice", n, r, i || ""), e &&
						(e = new t(o.uid, e)), e
				}
			};
			return e.Blob = n
		}), r("moxie/runtime/flash/file/FileInput", ["moxie/runtime/flash/Runtime", "moxie/file/File",
			"moxie/core/utils/Basic"
		], function(e, t, n) {
			var r = {
				init: function(e) {
					var r = this,
						i = this.getRuntime();
					this.bind("Change", function() {
						var e = i.shimExec.call(r, "FileInput", "getFiles");
						r.files = [], n.each(e, function(e) {
							r.files.push(new t(i.uid, e))
						})
					}, 999), this.getRuntime().shimExec.call(this, "FileInput", "init", {
						accept: e.accept,
						multiple: e.multiple
					}), this.trigger("ready")
				}
			};
			return e.FileInput = r
		}), r("moxie/runtime/flash/file/FileReader", ["moxie/runtime/flash/Runtime", "moxie/core/utils/Encode"], function(e,
			t) {
			function n(e, n) {
				switch (n) {
					case "readAsText":
						return t.atob(e, "utf8");
					case "readAsBinaryString":
						return t.atob(e);
					case "readAsDataURL":
						return e
				}
				return null
			}
			var r = {
				read: function(e, t) {
					var r = this;
					return r.result = "", "readAsDataURL" === e && (r.result = "data:" + (t.type || "") + ";base64,"), r.bind(
						"Progress",
						function(t, i) {
							i && (r.result += n(i, e))
						}, 999), r.getRuntime().shimExec.call(this, "FileReader", "readAsBase64", t.uid)
				}
			};
			return e.FileReader = r
		}), r("moxie/runtime/flash/file/FileReaderSync", ["moxie/runtime/flash/Runtime", "moxie/core/utils/Encode"],
			function(e, t) {
				function n(e, n) {
					switch (n) {
						case "readAsText":
							return t.atob(e, "utf8");
						case "readAsBinaryString":
							return t.atob(e);
						case "readAsDataURL":
							return e
					}
					return null
				}
				var r = {
					read: function(e, t) {
						var r, i = this.getRuntime();
						return (r = i.shimExec.call(this, "FileReaderSync", "readAsBase64", t.uid)) ? ("readAsDataURL" === e && (r =
							"data:" + (t.type || "") + ";base64," + r), n(r, e, t.type)) : null
					}
				};
				return e.FileReaderSync = r
			}), r("moxie/runtime/flash/runtime/Transporter", ["moxie/runtime/flash/Runtime", "moxie/file/Blob"], function(e, t) {
			var n = {
				getAsBlob: function(e) {
					var n = this.getRuntime(),
						r = n.shimExec.call(this, "Transporter", "getAsBlob", e);
					return r ? new t(n.uid, r) : null
				}
			};
			return e.Transporter = n
		}), r("moxie/runtime/flash/xhr/XMLHttpRequest", ["moxie/runtime/flash/Runtime", "moxie/core/utils/Basic",
			"moxie/file/Blob", "moxie/file/File", "moxie/file/FileReaderSync", "moxie/runtime/flash/file/FileReaderSync",
			"moxie/xhr/FormData", "moxie/runtime/Transporter", "moxie/runtime/flash/runtime/Transporter"
		], function(e, t, n, r, i, o, a, s, l) {
			var c = {
				send: function(e, r) {
					function i() {
						e.transport = u.mode, u.shimExec.call(c, "XMLHttpRequest", "send", e, r)
					}

					function o(e, t) {
						u.shimExec.call(c, "XMLHttpRequest", "appendBlob", e, t.uid), r = null, i()
					}

					function l(e, t) {
						var n = new s;
						n.bind("TransportingComplete", function() {
							t(this.result)
						}), n.transport(e.getSource(), e.type, {
							ruid: u.uid
						})
					}
					var c = this,
						u = c.getRuntime();
					if (t.isEmptyObj(e.headers) || t.each(e.headers, function(e, t) {
							u.shimExec.call(c, "XMLHttpRequest", "setRequestHeader", t, e.toString())
						}), r instanceof a) {
						var h;
						if (r.each(function(e, t) {
								e instanceof n ? h = t : u.shimExec.call(c, "XMLHttpRequest", "append", t, e)
							}), r.hasBlob()) {
							var f = r.getBlob();
							f.isDetached() ? l(f, function(e) {
								f.destroy(), o(h, e)
							}) : o(h, f)
						} else r = null, i()
					} else r instanceof n ? r.isDetached() ? l(r, function(e) {
						r.destroy(), r = e.uid, i()
					}) : (r = r.uid, i()) : i()
				},
				getResponse: function(e) {
					var n, o, a = this.getRuntime();
					if (o = a.shimExec.call(this, "XMLHttpRequest", "getResponseAsBlob")) {
						if (o = new r(a.uid, o), "blob" === e) return o;
						try {
							if (n = new i, ~t.inArray(e, ["", "text"])) return n.readAsText(o);
							if ("json" === e && window.JSON) return JSON.parse(n.readAsText(o))
						} finally {
							o.destroy()
						}
					}
					return null
				},
				abort: function(e) {
					var t = this.getRuntime();
					t.shimExec.call(this, "XMLHttpRequest", "abort"), this.dispatchEvent("readystatechange"), this.dispatchEvent(
						"abort")
				}
			};
			return e.XMLHttpRequest = c
		}), r("moxie/runtime/flash/image/Image", ["moxie/runtime/flash/Runtime", "moxie/core/utils/Basic",
			"moxie/runtime/Transporter", "moxie/file/Blob", "moxie/file/FileReaderSync"
		], function(e, t, n, r, i) {
			var o = {
				loadFromBlob: function(e) {
					function t(e) {
						i.shimExec.call(r, "Image", "loadFromBlob", e.uid), r = i = null
					}
					var r = this,
						i = r.getRuntime();
					if (e.isDetached()) {
						var o = new n;
						o.bind("TransportingComplete", function() {
							t(o.result.getSource())
						}), o.transport(e.getSource(), e.type, {
							ruid: i.uid
						})
					} else t(e.getSource())
				},
				loadFromImage: function(e) {
					var t = this.getRuntime();
					return t.shimExec.call(this, "Image", "loadFromImage", e.uid)
				},
				getInfo: function() {
					var e = this.getRuntime(),
						t = e.shimExec.call(this, "Image", "getInfo");
					return t.meta && t.meta.thumb && t.meta.thumb.data && !(e.meta.thumb.data instanceof r) && (t.meta.thumb.data =
						new r(e.uid, t.meta.thumb.data)), t
				},
				getAsBlob: function(e, t) {
					var n = this.getRuntime(),
						i = n.shimExec.call(this, "Image", "getAsBlob", e, t);
					return i ? new r(n.uid, i) : null
				},
				getAsDataURL: function() {
					var e, t = this.getRuntime(),
						n = t.Image.getAsBlob.apply(this, arguments);
					return n ? (e = new i, e.readAsDataURL(n)) : null
				}
			};
			return e.Image = o
		}), r("moxie/runtime/silverlight/Runtime", ["moxie/core/utils/Basic", "moxie/core/utils/Env",
			"moxie/core/utils/Dom", "moxie/core/Exceptions", "moxie/runtime/Runtime"
		], function(e, t, n, r, o) {
			function a(e) {
				var t, n, r, i, o, a = !1,
					s = null,
					l = 0;
				try {
					try {
						s = new ActiveXObject("AgControl.AgControl"), s.IsVersionSupported(e) && (a = !0), s = null
					} catch (c) {
						var u = navigator.plugins["Silverlight Plug-In"];
						if (u) {
							for (t = u.description, "1.0.30226.2" === t && (t = "2.0.30226.2"), n = t.split("."); n.length > 3;) n.pop();
							for (; n.length < 4;) n.push(0);
							for (r = e.split("."); r.length > 4;) r.pop();
							do i = parseInt(r[l], 10), o = parseInt(n[l], 10), l++; while (l < r.length && i === o);
							o >= i && !isNaN(i) && (a = !0)
						}
					}
				} catch (h) {
					a = !1
				}
				return a
			}

			function s(s) {
				var u, h = this;
				s = e.extend({
					xap_url: t.xap_url
				}, s), o.call(this, s, l, {
					access_binary: o.capTrue,
					access_image_binary: o.capTrue,
					display_media: o.capTest(i("moxie/image/Image")),
					do_cors: o.capTrue,
					drag_and_drop: !1,
					report_upload_progress: o.capTrue,
					resize_image: o.capTrue,
					return_response_headers: function(e) {
						return e && "client" === h.mode
					},
					return_response_type: function(e) {
						return "json" !== e ? !0 : !!window.JSON
					},
					return_status_code: function(t) {
						return "client" === h.mode || !e.arrayDiff(t, [200, 404])
					},
					select_file: o.capTrue,
					select_multiple: o.capTrue,
					send_binary_string: o.capTrue,
					send_browser_cookies: function(e) {
						return e && "browser" === h.mode
					},
					send_custom_headers: function(e) {
						return e && "client" === h.mode
					},
					send_multipart: o.capTrue,
					slice_blob: o.capTrue,
					stream_upload: !0,
					summon_file_dialog: !1,
					upload_filesize: o.capTrue,
					use_http_method: function(t) {
						return "client" === h.mode || !e.arrayDiff(t, ["GET", "POST"])
					}
				}, {
					return_response_headers: function(e) {
						return e ? "client" : "browser"
					},
					return_status_code: function(t) {
						return e.arrayDiff(t, [200, 404]) ? "client" : ["client", "browser"]
					},
					send_browser_cookies: function(e) {
						return e ? "browser" : "client"
					},
					send_custom_headers: function(e) {
						return e ? "client" : "browser"
					},
					use_http_method: function(t) {
						return e.arrayDiff(t, ["GET", "POST"]) ? "client" : ["client", "browser"]
					}
				}), a("2.0.31005.0") && "Opera" !== t.browser || (MXI_DEBUG && t.debug.runtime && t.log(
						"	Silverlight is not installed or minimal version (2.0.31005.0) requirement not met (not likely)."), this.mode = !
					1), e.extend(this, {
					getShim: function() {
						return n.get(this.uid).content.Moxie
					},
					shimExec: function(e, t) {
						var n = [].slice.call(arguments, 2);
						return h.getShim().exec(this.uid, e, t, n)
					},
					init: function() {
						var e;
						e = this.getShimContainer(), e.innerHTML = '<object id="' + this.uid +
							'" data="data:application/x-silverlight," type="application/x-silverlight-2" width="100%" height="100%" style="outline:none;"><param name="source" value="' +
							s.xap_url +
							'"/><param name="background" value="Transparent"/><param name="windowless" value="true"/><param name="enablehtmlaccess" value="true"/><param name="initParams" value="uid=' +
							this.uid + ",target=" + t.global_event_dispatcher + '"/></object>', u = setTimeout(function() {
								h && !h.initialized && (h.trigger("Error", new r.RuntimeError(r.RuntimeError.NOT_INIT_ERR)), MXI_DEBUG &&
									t.debug.runtime && t.log("Silverlight failed to initialize within a specified period of time (5-10s).")
								)
							}, "Windows" !== t.OS ? 1e4 : 5e3)
					},
					destroy: function(e) {
						return function() {
							e.call(h), clearTimeout(u), s = u = e = h = null
						}
					}(this.destroy)
				}, c)
			}
			var l = "silverlight",
				c = {};
			return o.addConstructor(l, s), c
		}), r("moxie/runtime/silverlight/file/Blob", ["moxie/runtime/silverlight/Runtime", "moxie/core/utils/Basic",
			"moxie/runtime/flash/file/Blob"
		], function(e, t, n) {
			return e.Blob = t.extend({}, n)
		}), r("moxie/runtime/silverlight/file/FileInput", ["moxie/runtime/silverlight/Runtime", "moxie/file/File",
			"moxie/core/utils/Basic"
		], function(e, t, n) {
			function r(e) {
				for (var t = "", n = 0; n < e.length; n++) t += ("" !== t ? "|" : "") + e[n].title + " | *." + e[n].extensions.replace(
					/,/g, ";*.");
				return t
			}
			var i = {
				init: function(e) {
					var i = this,
						o = this.getRuntime();
					this.bind("Change", function() {
						var e = o.shimExec.call(i, "FileInput", "getFiles");
						i.files = [], n.each(e, function(e) {
							i.files.push(new t(o.uid, e))
						})
					}, 999), o.shimExec.call(this, "FileInput", "init", r(e.accept), e.multiple), this.trigger("ready")
				},
				setOption: function(e, t) {
					"accept" == e && (t = r(t)), this.getRuntime().shimExec.call(this, "FileInput", "setOption", e, t)
				}
			};
			return e.FileInput = i
		}), r("moxie/runtime/silverlight/file/FileDrop", ["moxie/runtime/silverlight/Runtime", "moxie/core/utils/Dom",
			"moxie/core/utils/Events"
		], function(e, t, n) {
			var r = {
				init: function() {
					var e, r = this,
						i = r.getRuntime();
					return e = i.getShimContainer(), n.addEvent(e, "dragover", function(e) {
						e.preventDefault(), e.stopPropagation(), e.dataTransfer.dropEffect = "copy"
					}, r.uid), n.addEvent(e, "dragenter", function(e) {
						e.preventDefault();
						var n = t.get(i.uid).dragEnter(e);
						n && e.stopPropagation()
					}, r.uid), n.addEvent(e, "drop", function(e) {
						e.preventDefault();
						var n = t.get(i.uid).dragDrop(e);
						n && e.stopPropagation()
					}, r.uid), i.shimExec.call(this, "FileDrop", "init")
				}
			};
			return e.FileDrop = r
		}), r("moxie/runtime/silverlight/file/FileReader", ["moxie/runtime/silverlight/Runtime", "moxie/core/utils/Basic",
			"moxie/runtime/flash/file/FileReader"
		], function(e, t, n) {
			return e.FileReader = t.extend({}, n)
		}), r("moxie/runtime/silverlight/file/FileReaderSync", ["moxie/runtime/silverlight/Runtime",
			"moxie/core/utils/Basic", "moxie/runtime/flash/file/FileReaderSync"
		], function(e, t, n) {
			return e.FileReaderSync = t.extend({}, n)
		}), r("moxie/runtime/silverlight/runtime/Transporter", ["moxie/runtime/silverlight/Runtime",
			"moxie/core/utils/Basic", "moxie/runtime/flash/runtime/Transporter"
		], function(e, t, n) {
			return e.Transporter = t.extend({}, n)
		}), r("moxie/runtime/silverlight/xhr/XMLHttpRequest", ["moxie/runtime/silverlight/Runtime",
			"moxie/core/utils/Basic", "moxie/runtime/flash/xhr/XMLHttpRequest",
			"moxie/runtime/silverlight/file/FileReaderSync", "moxie/runtime/silverlight/runtime/Transporter"
		], function(e, t, n, r, i) {
			return e.XMLHttpRequest = t.extend({}, n)
		}), r("moxie/runtime/silverlight/image/Image", ["moxie/runtime/silverlight/Runtime", "moxie/core/utils/Basic",
			"moxie/file/Blob", "moxie/runtime/flash/image/Image"
		], function(e, t, n, r) {
			return e.Image = t.extend({}, r, {
				getInfo: function() {
					var e = this.getRuntime(),
						r = ["tiff", "exif", "gps", "thumb"],
						i = {
							meta: {}
						},
						o = e.shimExec.call(this, "Image", "getInfo");
					return o.meta && (t.each(r, function(e) {
							var t, n, r, a, s = o.meta[e];
							if (s && s.keys)
								for (i.meta[e] = {}, n = 0, r = s.keys.length; r > n; n++) t = s.keys[n], a = s[t], a && (
									/^(\d|[1-9]\d+)$/.test(a) ? a = parseInt(a, 10) : /^\d*\.\d+$/.test(a) && (a = parseFloat(a)), i.meta[
										e][t] = a)
						}), i.meta && i.meta.thumb && i.meta.thumb.data && !(e.meta.thumb.data instanceof n) && (i.meta.thumb.data =
							new n(e.uid, i.meta.thumb.data))), i.width = parseInt(o.width, 10), i.height = parseInt(o.height, 10), i.size =
						parseInt(o.size, 10), i.type = o.type, i.name = o.name, i
				},
				resize: function(e, t, n) {
					this.getRuntime().shimExec.call(this, "Image", "resize", e.x, e.y, e.width, e.height, t, n.preserveHeaders,
						n.resample)
				}
			})
		}), r("moxie/runtime/html4/Runtime", ["moxie/core/utils/Basic", "moxie/core/Exceptions", "moxie/runtime/Runtime",
			"moxie/core/utils/Env"
		], function(e, t, n, r) {
			function o(t) {
				var o = this,
					l = n.capTest,
					c = n.capTrue;
				n.call(this, t, a, {
					access_binary: l(window.FileReader || window.File && File.getAsDataURL),
					access_image_binary: !1,
					display_media: l((r.can("create_canvas") || r.can("use_data_uri_over32kb")) && i("moxie/image/Image")),
					do_cors: !1,
					drag_and_drop: !1,
					filter_by_extension: l(function() {
						return !("Chrome" === r.browser && r.verComp(r.version, 28, "<") || "IE" === r.browser && r.verComp(r.version,
							10, "<") || "Safari" === r.browser && r.verComp(r.version, 7, "<") || "Firefox" === r.browser && r.verComp(
							r.version, 37, "<"))
					}()),
					resize_image: function() {
						return s.Image && o.can("access_binary") && r.can("create_canvas")
					},
					report_upload_progress: !1,
					return_response_headers: !1,
					return_response_type: function(t) {
						return "json" === t && window.JSON ? !0 : !!~e.inArray(t, ["text", "document", ""])
					},
					return_status_code: function(t) {
						return !e.arrayDiff(t, [200, 404])
					},
					select_file: function() {
						return r.can("use_fileinput")
					},
					select_multiple: !1,
					send_binary_string: !1,
					send_custom_headers: !1,
					send_multipart: !0,
					slice_blob: !1,
					stream_upload: function() {
						return o.can("select_file")
					},
					summon_file_dialog: function() {
						return !0
					},
					upload_filesize: c,
					use_http_method: function(t) {
						return !e.arrayDiff(t, ["GET", "POST"])
					}
				}), e.extend(this, {
					init: function() {
						this.trigger("Init")
					},
					destroy: function(e) {
						return function() {
							e.call(o), e = o = null
						}
					}(this.destroy)
				}), e.extend(this.getShim(), s)
			}
			var a = "html4",
				s = {};
			return n.addConstructor(a, o), s
		}), r("moxie/runtime/html4/file/FileInput", ["moxie/runtime/html4/Runtime", "moxie/file/File",
			"moxie/core/utils/Basic", "moxie/core/utils/Dom", "moxie/core/utils/Events", "moxie/core/utils/Mime",
			"moxie/core/utils/Env"
		], function(e, t, n, r, i, o, a) {
			function s() {
				function e() {
					var o, c, h, f, d, p, g = this,
						m = g.getRuntime();
					p = n.guid("uid_"), o = m.getShimContainer(), s && (h = r.get(s + "_form"), h && n.extend(h.style, {
							top: "100%"
						})), f = document.createElement("form"), f.setAttribute("id", p + "_form"), f.setAttribute("method", "post"),
						f.setAttribute("enctype", "multipart/form-data"), f.setAttribute("encoding", "multipart/form-data"), n.extend(
							f.style, {
								overflow: "hidden",
								position: "absolute",
								top: 0,
								left: 0,
								width: "100%",
								height: "100%"
							}), d = document.createElement("input"), d.setAttribute("id", p), d.setAttribute("type", "file"), d.setAttribute(
							"accept", u.join(",")), n.extend(d.style, {
							fontSize: "999px",
							opacity: 0
						}), f.appendChild(d), o.appendChild(f), n.extend(d.style, {
							position: "absolute",
							top: 0,
							left: 0,
							width: "100%",
							height: "100%"
						}), "IE" === a.browser && a.verComp(a.version, 10, "<") && n.extend(d.style, {
							filter: "progid:DXImageTransform.Microsoft.Alpha(opacity=0)"
						}), d.onchange = function() {
							var n;
							if (this.value) {
								if (this.files) {
									if (n = this.files[0], 0 === n.size) return void f.parentNode.removeChild(f)
								} else n = {
									name: this.value
								};
								n = new t(m.uid, n), this.onchange = function() {}, e.call(g), g.files = [n], d.setAttribute("id", n.uid), f
									.setAttribute("id", n.uid + "_form"), g.trigger("change"), d = f = null
							}
						}, m.can("summon_file_dialog") && (c = r.get(l.browse_button), i.removeEvent(c, "click", g.uid), i.addEvent(c,
							"click",
							function(e) {
								d && !d.disabled && d.click(), e.preventDefault()
							}, g.uid)), s = p, o = h = c = null
				}
				var s, l, c, u = [];
				n.extend(this, {
					init: function(t) {
						var n, a = this,
							s = a.getRuntime();
						l = t, u = t.accept.mimes || o.extList2mimes(t.accept, s.can("filter_by_extension")), n = s.getShimContainer(),
							function() {
								var e, o, u;
								e = r.get(t.browse_button), c = r.getStyle(e, "z-index") || "auto", s.can("summon_file_dialog") && (
									"static" === r.getStyle(e, "position") && (e.style.position = "relative"), a.bind("Refresh", function() {
										o = parseInt(c, 10) || 1, r.get(l.browse_button).style.zIndex = o, this.getRuntime().getShimContainer()
											.style.zIndex = o - 1
									})), u = s.can("summon_file_dialog") ? e : n, i.addEvent(u, "mouseover", function() {
									a.trigger("mouseenter")
								}, a.uid), i.addEvent(u, "mouseout", function() {
									a.trigger("mouseleave")
								}, a.uid), i.addEvent(u, "mousedown", function() {
									a.trigger("mousedown")
								}, a.uid), i.addEvent(r.get(t.container), "mouseup", function() {
									a.trigger("mouseup")
								}, a.uid), e = null
							}(), e.call(this), n = null, a.trigger({
								type: "ready",
								async: !0
							})
					},
					setOption: function(e, t) {
						var n, i = this.getRuntime();
						"accept" == e && (u = t.mimes || o.extList2mimes(t, i.can("filter_by_extension"))), n = r.get(s), n && n.setAttribute(
							"accept", u.join(","))
					},
					disable: function(e) {
						var t;
						(t = r.get(s)) && (t.disabled = !!e)
					},
					destroy: function() {
						var e = this.getRuntime(),
							t = e.getShim(),
							n = e.getShimContainer(),
							o = l && r.get(l.container),
							a = l && r.get(l.browse_button);
						o && i.removeAllEvents(o, this.uid), a && (i.removeAllEvents(a, this.uid), a.style.zIndex = c), n && (i.removeAllEvents(
							n, this.uid), n.innerHTML = ""), t.removeInstance(this.uid), s = u = l = n = o = a = t = null
					}
				})
			}
			return e.FileInput = s
		}), r("moxie/runtime/html4/file/FileReader", ["moxie/runtime/html4/Runtime", "moxie/runtime/html5/file/FileReader"],
			function(e, t) {
				return e.FileReader = t
			}), r("moxie/runtime/html4/xhr/XMLHttpRequest", ["moxie/runtime/html4/Runtime", "moxie/core/utils/Basic",
			"moxie/core/utils/Dom", "moxie/core/utils/Url", "moxie/core/Exceptions", "moxie/core/utils/Events",
			"moxie/file/Blob", "moxie/xhr/FormData"
		], function(e, t, n, r, i, o, a, s) {
			function l() {
				function e(e) {
					var t, r, i, a, s = this,
						l = !1;
					if (u) {
						if (t = u.id.replace(/_iframe$/, ""), r = n.get(t + "_form")) {
							for (i = r.getElementsByTagName("input"), a = i.length; a--;) switch (i[a].getAttribute("type")) {
								case "hidden":
									i[a].parentNode.removeChild(i[a]);
									break;
								case "file":
									l = !0
							}
							i = [], l || r.parentNode.removeChild(r), r = null
						}
						setTimeout(function() {
							o.removeEvent(u, "load", s.uid), u.parentNode && u.parentNode.removeChild(u);
							var t = s.getRuntime().getShimContainer();
							t.children.length || t.parentNode.removeChild(t), t = u = null, e()
						}, 1)
					}
				}
				var l, c, u;
				t.extend(this, {
					send: function(h, f) {
						function d() {
							var n = b.getShimContainer() || document.body,
								i = document.createElement("div");
							i.innerHTML = '<iframe id="' + p + '_iframe" name="' + p +
								'_iframe" src="javascript:&quot;&quot;" style="display:none"></iframe>', u = i.firstChild, n.appendChild(
									u), o.addEvent(u, "load", function() {
									var n;
									try {
										n = u.contentWindow.document || u.contentDocument || window.frames[u.id].document,
											/^4(0[0-9]|1[0-7]|2[2346])\s/.test(n.title) ? l = n.title.replace(/^(\d+).*$/, "$1") : (l = 200, c =
												t.trim(n.body.innerHTML), y.trigger({
													type: "progress",
													loaded: c.length,
													total: c.length
												}), v && y.trigger({
													type: "uploadprogress",
													loaded: v.size || 1025,
													total: v.size || 1025
												}))
									} catch (i) {
										if (!r.hasSameOrigin(h.url)) return void e.call(y, function() {
											y.trigger("error")
										});
										l = 404
									}
									e.call(y, function() {
										y.trigger("load")
									})
								}, y.uid)
						}
						var p, g, m, v, y = this,
							b = y.getRuntime();
						if (l = c = null, f instanceof s && f.hasBlob()) {
							if (v = f.getBlob(), p = v.uid, m = n.get(p), g = n.get(p + "_form"), !g) throw new i.DOMException(i.DOMException
								.NOT_FOUND_ERR)
						} else p = t.guid("uid_"), g = document.createElement("form"), g.setAttribute("id", p + "_form"), g.setAttribute(
							"method", h.method), g.setAttribute("enctype", "multipart/form-data"), g.setAttribute("encoding",
							"multipart/form-data"), b.getShimContainer().appendChild(g);
						g.setAttribute("target", p + "_iframe"), f instanceof s && f.each(function(e, n) {
							if (e instanceof a) m && m.setAttribute("name", n);
							else {
								var r = document.createElement("input");
								t.extend(r, {
									type: "hidden",
									name: n,
									value: e
								}), m ? g.insertBefore(r, m) : g.appendChild(r)
							}
						}), g.setAttribute("action", h.url), d(), g.submit(), y.trigger("loadstart")
					},
					getStatus: function() {
						return l
					},
					getResponse: function(e) {
						if ("json" === e && "string" === t.typeOf(c) && window.JSON) try {
							return JSON.parse(c.replace(/^\s*<pre[^>]*>/, "").replace(/<\/pre>\s*$/, ""))
						} catch (n) {
							return null
						}
						return c
					},
					abort: function() {
						var t = this;
						u && u.contentWindow && (u.contentWindow.stop ? u.contentWindow.stop() : u.contentWindow.document.execCommand ?
								u.contentWindow.document.execCommand("Stop") : u.src = "about:blank"),
							e.call(this, function() {
								t.dispatchEvent("abort")
							})
					}
				})
			}
			return e.XMLHttpRequest = l
		}), r("moxie/runtime/html4/image/Image", ["moxie/runtime/html4/Runtime", "moxie/runtime/html5/image/Image"],
			function(e, t) {
				return e.Image = t
			}), a(["moxie/core/utils/Basic", "moxie/core/utils/Encode", "moxie/core/utils/Env", "moxie/core/Exceptions",
			"moxie/core/utils/Dom", "moxie/core/EventTarget", "moxie/runtime/Runtime", "moxie/runtime/RuntimeClient",
			"moxie/file/Blob", "moxie/core/I18n", "moxie/core/utils/Mime", "moxie/file/FileInput", "moxie/file/File",
			"moxie/file/FileDrop", "moxie/file/FileReader", "moxie/core/utils/Url", "moxie/runtime/RuntimeTarget",
			"moxie/xhr/FormData", "moxie/xhr/XMLHttpRequest", "moxie/runtime/Transporter", "moxie/image/Image",
			"moxie/core/utils/Events", "moxie/runtime/html5/image/ResizerCanvas"
		])
	}(this)
}),
function(e, t) {
	var n = function() {
		var e = {};
		return t.apply(e, arguments), e.plupload
	};
	"function" == typeof define && define.amd ? define("plupload", ["moxie"], n) : "object" == typeof module && module.exports ?
		module.exports = n(require("moxie")) : e.plupload = n(e.moxie)
}(this || window, function(e) {
	! function(e, t, n) {
		function r(e) {
			function t(e, t, n) {
				var i = {
					chunks: "slice_blob",
					jpgresize: "send_binary_string",
					pngresize: "send_binary_string",
					progress: "report_upload_progress",
					multi_selection: "select_multiple",
					dragdrop: "drag_and_drop",
					drop_element: "drag_and_drop",
					headers: "send_custom_headers",
					urlstream_upload: "send_binary_string",
					canSendBinary: "send_binary",
					triggerDialog: "summon_file_dialog"
				};
				i[e] ? r[i[e]] = t : n || (r[e] = t)
			}
			var n = e.required_features,
				r = {};
			return "string" == typeof n ? l.each(n.split(/\s*,\s*/), function(e) {
				t(e, !0)
			}) : "object" == typeof n ? l.each(n, function(e, n) {
				t(n, e)
			}) : n === !0 && (e.chunk_size && e.chunk_size > 0 && (r.slice_blob = !0), l.isEmptyObj(e.resize) && e.multipart !==
				!1 || (r.send_binary_string = !0), e.http_method && (r.use_http_method = e.http_method), l.each(e, function(e, n) {
					t(n, !!e, !0)
				})), r
		}
		var i = window.setTimeout,
			o = {},
			a = t.core.utils,
			s = t.runtime.Runtime,
			l = {
				VERSION: "2.3.1",
				STOPPED: 1,
				STARTED: 2,
				QUEUED: 1,
				UPLOADING: 2,
				FAILED: 4,
				DONE: 5,
				GENERIC_ERROR: -100,
				HTTP_ERROR: -200,
				IO_ERROR: -300,
				SECURITY_ERROR: -400,
				INIT_ERROR: -500,
				FILE_SIZE_ERROR: -600,
				FILE_EXTENSION_ERROR: -601,
				FILE_DUPLICATE_ERROR: -602,
				IMAGE_FORMAT_ERROR: -700,
				MEMORY_ERROR: -701,
				IMAGE_DIMENSIONS_ERROR: -702,
				mimeTypes: a.Mime.mimes,
				ua: a.Env,
				typeOf: a.Basic.typeOf,
				extend: a.Basic.extend,
				guid: a.Basic.guid,
				getAll: function(e) {
					var t, n = [];
					"array" !== l.typeOf(e) && (e = [e]);
					for (var r = e.length; r--;) t = l.get(e[r]), t && n.push(t);
					return n.length ? n : null
				},
				get: a.Dom.get,
				each: a.Basic.each,
				getPos: a.Dom.getPos,
				getSize: a.Dom.getSize,
				xmlEncode: function(e) {
					var t = {
							"<": "lt",
							">": "gt",
							"&": "amp",
							'"': "quot",
							"'": "#39"
						},
						n = /[<>&\"\']/g;
					return e ? ("" + e).replace(n, function(e) {
						return t[e] ? "&" + t[e] + ";" : e
					}) : e
				},
				toArray: a.Basic.toArray,
				inArray: a.Basic.inArray,
				inSeries: a.Basic.inSeries,
				addI18n: t.core.I18n.addI18n,
				translate: t.core.I18n.translate,
				sprintf: a.Basic.sprintf,
				isEmptyObj: a.Basic.isEmptyObj,
				hasClass: a.Dom.hasClass,
				addClass: a.Dom.addClass,
				removeClass: a.Dom.removeClass,
				getStyle: a.Dom.getStyle,
				addEvent: a.Events.addEvent,
				removeEvent: a.Events.removeEvent,
				removeAllEvents: a.Events.removeAllEvents,
				cleanName: function(e) {
					var t, n;
					for (n = [/[\300-\306]/g, "A", /[\340-\346]/g, "a", /\307/g, "C", /\347/g, "c", /[\310-\313]/g, "E",
							/[\350-\353]/g, "e", /[\314-\317]/g, "I", /[\354-\357]/g, "i", /\321/g, "N", /\361/g, "n", /[\322-\330]/g, "O",
							/[\362-\370]/g, "o", /[\331-\334]/g, "U", /[\371-\374]/g, "u"
						], t = 0; t < n.length; t += 2) e = e.replace(n[t], n[t + 1]);
					return e = e.replace(/\s+/g, "_"), e = e.replace(/[^a-z0-9_\-\.]+/gi, "")
				},
				buildUrl: function(e, t) {
					var n = "";
					return l.each(t, function(e, t) {
						n += (n ? "&" : "") + encodeURIComponent(t) + "=" + encodeURIComponent(e)
					}), n && (e += (e.indexOf("?") > 0 ? "&" : "?") + n), e
				},
				formatSize: function(e) {
					function t(e, t) {
						return Math.round(e * Math.pow(10, t)) / Math.pow(10, t)
					}
					if (e === n || /\D/.test(e)) return l.translate("N/A");
					var r = Math.pow(1024, 4);
					return e > r ? t(e / r, 1) + " " + l.translate("tb") : e > (r /= 1024) ? t(e / r, 1) + " " + l.translate("gb") :
						e > (r /= 1024) ? t(e / r, 1) + " " + l.translate("mb") : e > 1024 ? Math.round(e / 1024) + " " + l.translate(
							"kb") : e + " " + l.translate("b")
				},
				parseSize: a.Basic.parseSizeStr,
				predictRuntime: function(e, t) {
					var n, r;
					return n = new l.Uploader(e), r = s.thatCan(n.getOption().required_features, t || e.runtimes), n.destroy(), r
				},
				addFileFilter: function(e, t) {
					o[e] = t
				}
			};
		l.addFileFilter("mime_types", function(e, t, n) {
			e.length && !e.regexp.test(t.name) ? (this.trigger("Error", {
				code: l.FILE_EXTENSION_ERROR,
				message: l.translate("File extension error."),
				file: t
			}), n(!1)) : n(!0)
		}), l.addFileFilter("max_file_size", function(e, t, n) {
			var r;
			e = l.parseSize(e), t.size !== r && e && t.size > e ? (this.trigger("Error", {
				code: l.FILE_SIZE_ERROR,
				message: l.translate("File size error."),
				file: t
			}), n(!1)) : n(!0)
		}), l.addFileFilter("prevent_duplicates", function(e, t, n) {
			if (e)
				for (var r = this.files.length; r--;)
					if (t.name === this.files[r].name && t.size === this.files[r].size) return this.trigger("Error", {
						code: l.FILE_DUPLICATE_ERROR,
						message: l.translate("Duplicate file error."),
						file: t
					}), void n(!1);
			n(!0)
		}), l.Uploader = function(e) {
			function a() {
				var e, t, n = 0;
				if (this.state == l.STARTED) {
					for (t = 0; t < D.length; t++) e || D[t].status != l.QUEUED ? n++ : (e = D[t], this.trigger("BeforeUpload", e) &&
						(e.status = l.UPLOADING, this.trigger("UploadFile", e)));
					n == D.length && (this.state !== l.STOPPED && (this.state = l.STOPPED, this.trigger("StateChanged")), this.trigger(
						"UploadComplete", D))
				}
			}

			function c(e) {
				e.percent = e.size > 0 ? Math.ceil(e.loaded / e.size * 100) : 100, u()
			}

			function u() {
				var e, t, r, i = 0;
				for (O.reset(), e = 0; e < D.length; e++) t = D[e], t.size !== n ? (O.size += t.origSize, r = t.loaded * t.origSize /
						t.size, (!t.completeTimestamp || t.completeTimestamp > E) && (i += r), O.loaded += r) : O.size = n, t.status ==
					l.DONE ? O.uploaded++ : t.status == l.FAILED ? O.failed++ : O.queued++;
				O.size === n ? O.percent = D.length > 0 ? Math.ceil(O.uploaded / D.length * 100) : 0 : (O.bytesPerSec = Math.ceil(
					i / ((+new Date - E || 1) / 1e3)), O.percent = O.size > 0 ? Math.ceil(O.loaded / O.size * 100) : 0)
			}

			function h() {
				var e = I[0] || M[0];
				return e ? e.getRuntime().uid : !1
			}

			function f(e, t) {
				if (e.ruid) {
					var n = s.getInfo(e.ruid);
					if (n) return n.can(t)
				}
				return !1
			}

			function d() {
				this.bind("FilesAdded FilesRemoved", function(e) {
					e.trigger("QueueChanged"), e.refresh()
				}), this.bind("CancelUpload", w), this.bind("BeforeUpload", v), this.bind("UploadFile", y), this.bind(
					"UploadProgress", b), this.bind("StateChanged", x), this.bind("QueueChanged", u), this.bind("Error", _), this.bind(
					"FileUploaded", S), this.bind("Destroy", T)
			}

			function p(e, n) {
				var r = this,
					i = 0,
					o = [],
					a = {
						runtime_order: e.runtimes,
						required_caps: e.required_features,
						preferred_caps: A,
						swf_url: e.flash_swf_url,
						xap_url: e.silverlight_xap_url
					};
				l.each(e.runtimes.split(/\s*,\s*/), function(t) {
					e[t] && (a[t] = e[t])
				}), e.browse_button && l.each(e.browse_button, function(n) {
					o.push(function(o) {
						var c = new t.file.FileInput(l.extend({}, a, {
							accept: e.filters.mime_types,
							name: e.file_data_name,
							multiple: e.multi_selection,
							container: e.container,
							browse_button: n
						}));
						c.onready = function() {
							var e = s.getInfo(this.ruid);
							l.extend(r.features, {
								chunks: e.can("slice_blob"),
								multipart: e.can("send_multipart"),
								multi_selection: e.can("select_multiple")
							}), i++, I.push(this), o()
						}, c.onchange = function() {
							r.addFile(this.files)
						}, c.bind("mouseenter mouseleave mousedown mouseup", function(t) {
							L || (e.browse_button_hover && ("mouseenter" === t.type ? l.addClass(n, e.browse_button_hover) :
								"mouseleave" === t.type && l.removeClass(n, e.browse_button_hover)), e.browse_button_active && (
								"mousedown" === t.type ? l.addClass(n, e.browse_button_active) : "mouseup" === t.type && l.removeClass(
									n, e.browse_button_active)))
						}), c.bind("mousedown", function() {
							r.trigger("Browse")
						}), c.bind("error runtimeerror", function() {
							c = null, o()
						}), c.init()
					})
				}), e.drop_element && l.each(e.drop_element, function(e) {
					o.push(function(n) {
						var o = new t.file.FileDrop(l.extend({}, a, {
							drop_zone: e
						}));
						o.onready = function() {
							var e = s.getInfo(this.ruid);
							l.extend(r.features, {
								chunks: e.can("slice_blob"),
								multipart: e.can("send_multipart"),
								dragdrop: e.can("drag_and_drop")
							}), i++, M.push(this), n()
						}, o.ondrop = function() {
							r.addFile(this.files)
						}, o.bind("error runtimeerror", function() {
							o = null, n()
						}), o.init()
					})
				}), l.inSeries(o, function() {
					"function" == typeof n && n(i)
				})
			}

			function g(e, r, i) {
				var o = new t.image.Image;
				try {
					o.onload = function() {
						return !r.forceResize && r.width > this.width && r.height > this.height && r.quality === n && r.preserve_headers &&
							!r.crop ? (this.destroy(), i(e)) : void o.downsize(r.width, r.height, r.crop, r.preserve_headers)
					}, o.onresize = function() {
						i(this.getAsBlob(e.type, r.quality)), this.destroy()
					}, o.onerror = function(t, n) {
						i(e, t, n)
					}, o.load(e)
				} catch (a) {
					i(e)
				}
			}

			function m(e, n, i) {
				function o(e, n, r) {
					var i = C[e];
					switch (e) {
						case "max_file_size":
							"max_file_size" === e && (C.max_file_size = C.filters.max_file_size = n);
							break;
						case "chunk_size":
							(n = l.parseSize(n)) && (C[e] = n, C.send_file_name = !0);
							break;
						case "multipart":
							C[e] = n, n || (C.send_file_name = !0);
							break;
						case "http_method":
							C[e] = "PUT" === n.toUpperCase() ? "PUT" : "POST";
							break;
						case "unique_names":
							C[e] = n, n && (C.send_file_name = !0);
							break;
						case "filters":
							"array" === l.typeOf(n) && (n = {
								mime_types: n
							}), r ? l.extend(C.filters, n) : C.filters = n, n.mime_types && ("string" === l.typeOf(n.mime_types) && (n.mime_types =
								t.core.utils.Mime.mimes2extList(n.mime_types)), n.mime_types.regexp = function(e) {
								var t = [];
								return l.each(e, function(e) {
									l.each(e.extensions.split(/,/), function(e) {
										/^\s*\*\s*$/.test(e) ? t.push("\\.*") : t.push("\\." + e.replace(new RegExp("[" + "/^$.*+?|()[]{}\\".replace(
											/./g, "\\$&") + "]", "g"), "\\$&"))
									})
								}), new RegExp("(" + t.join("|") + ")$", "i")
							}(n.mime_types), C.filters.mime_types = n.mime_types);
							break;
						case "resize":
							n ? C.resize = l.extend({
								preserve_headers: !0,
								crop: !1
							}, n) : C.resize = !1;
							break;
						case "prevent_duplicates":
							C.prevent_duplicates = C.filters.prevent_duplicates = !!n;
							break;
						case "container":
						case "browse_button":
						case "drop_element":
							n = "container" === e ? l.get(n) : l.getAll(n);
						case "runtimes":
						case "multi_selection":
						case "flash_swf_url":
						case "silverlight_xap_url":
							C[e] = n, r || (c = !0);
							break;
						default:
							C[e] = n
					}
					r || a.trigger("OptionChanged", e, n, i)
				}
				var a = this,
					c = !1;
				"object" == typeof e ? l.each(e, function(e, t) {
					o(t, e, i)
				}) : o(e, n, i), i ? (C.required_features = r(l.extend({}, C)), A = r(l.extend({}, C, {
					required_features: !0
				}))) : c && (a.trigger("Destroy"), p.call(a, C, function(e) {
					e ? (a.runtime = s.getInfo(h()).type, a.trigger("Init", {
						runtime: a.runtime
					}), a.trigger("PostInit")) : a.trigger("Error", {
						code: l.INIT_ERROR,
						message: l.translate("Init error.")
					})
				}))
			}

			function v(e, t) {
				if (e.settings.unique_names) {
					var n = t.name.match(/\.([^.]+)$/),
						r = "part";
					n && (r = n[1]), t.target_name = t.id + "." + r
				}
			}

			function y(e, n) {
				function r() {
					h-- > 0 ? i(o, 1e3) : (n.loaded = p, e.trigger("Error", {
						code: l.HTTP_ERROR,
						message: l.translate("HTTP Error."),
						file: n,
						response: k.responseText,
						status: k.status,
						responseHeaders: k.getAllResponseHeaders()
					}))
				}

				function o() {
					var t, r, i = {};
					n.status === l.UPLOADING && e.state !== l.STOPPED && (e.settings.send_file_name && (i.name = n.target_name || n.name),
						u && d.chunks && s.size > u ? (r = Math.min(u, s.size - p), t = s.slice(p, p + r)) : (r = s.size, t = s), u &&
						d.chunks && (e.settings.send_chunk_number ? (i.chunk = Math.ceil(p / u), i.chunks = Math.ceil(s.size / u)) : (
							i.offset = p, i.total = s.size)), e.trigger("BeforeChunkUpload", n, i, t, p) && a(i, t, r))
				}

				function a(a, u, f) {
					var g;
					if (k = new t.xhr.XMLHttpRequest, k.upload && (k.upload.onprogress = function(t) {
							n.loaded = Math.min(n.size, p + t.loaded), e.trigger("UploadProgress", n)
						}), k.onload = function() {
							return k.status >= 400 ? void r() : (h = e.settings.max_retries, f < s.size ? (u.destroy(), p += f, n.loaded =
									Math.min(p, s.size), e.trigger("ChunkUploaded", n, {
										offset: n.loaded,
										total: s.size,
										response: k.responseText,
										status: k.status,
										responseHeaders: k.getAllResponseHeaders()
									}), "Android Browser" === l.ua.browser && e.trigger("UploadProgress", n)) : n.loaded = n.size, u = g = null,
								void(!p || p >= s.size ? (n.size != n.origSize && (s.destroy(), s = null), e.trigger("UploadProgress", n), n
									.status = l.DONE, n.completeTimestamp = +new Date, e.trigger("FileUploaded", n, {
										response: k.responseText,
										status: k.status,
										responseHeaders: k.getAllResponseHeaders()
									})) : i(o, 1)))
						}, k.onerror = function() {
							r()
						}, k.onloadend = function() {
							this.destroy(), k = null
						}, e.settings.multipart && d.multipart) k.open(e.settings.http_method, c, !0), l.each(e.settings.headers,
						function(e, t) {
							k.setRequestHeader(t, e)
						}), g = new t.xhr.FormData, l.each(l.extend(a, e.settings.multipart_params), function(e, t) {
						g.append(t, e)
					}), g.append(e.settings.file_data_name, u), k.send(g, {
						runtime_order: e.settings.runtimes,
						required_caps: e.settings.required_features,
						preferred_caps: A,
						swf_url: e.settings.flash_swf_url,
						xap_url: e.settings.silverlight_xap_url
					});
					else {
						var m = e.settings.url;
						void 0 != n.ownUploadUrl && (m = n.ownUploadUrl), c = l.buildUrl(m, l.extend(a, e.settings.multipart_params)),
							k.open(e.settings.http_method, c, !0), l.each(e.settings.headers, function(e, t) {
								k.setRequestHeader(t, e)
							}), k.hasRequestHeader("Content-Type") || k.setRequestHeader("Content-Type", "application/octet-stream"), k.send(
								u, {
									runtime_order: e.settings.runtimes,
									required_caps: e.settings.required_features,
									preferred_caps: A,
									swf_url: e.settings.flash_swf_url,
									xap_url: e.settings.silverlight_xap_url
								})
					}
				}
				var s, c = e.settings.url,
					u = e.settings.chunk_size,
					h = e.settings.max_retries,
					d = e.features,
					p = 0;
				n.loaded && (p = n.loaded = u ? u * Math.floor(n.loaded / u) : 0), s = n.getSource(), !l.isEmptyObj(e.settings.resize) &&
					f(s, "send_binary_string") && -1 !== l.inArray(s.type, ["image/jpeg", "image/png"]) ? g.call(this, s, e.settings
						.resize,
						function(e) {
							s = e, n.size = e.size, o()
						}) : o()
			}

			function b(e, t) {
				c(t)
			}

			function x(e) {
				if (e.state == l.STARTED) E = +new Date;
				else if (e.state == l.STOPPED)
					for (var t = e.files.length - 1; t >= 0; t--) e.files[t].status == l.UPLOADING && (e.files[t].status = l.QUEUED,
						u())
			}

			function w() {
				k && k.abort()
			}

			function S(e) {
				u(), i(function() {
					a.call(e)
				}, 1)
			}

			function _(e, t) {
				t.code === l.INIT_ERROR ? e.destroy() : t.code === l.HTTP_ERROR && (t.file.status = l.FAILED, t.file.completeTimestamp = +
					new Date, c(t.file), e.state == l.STARTED && (e.trigger("CancelUpload"), i(function() {
						a.call(e)
					}, 1)))
			}

			function T(e) {
				e.stop(), l.each(D, function(e) {
					e.destroy()
				}), D = [], I.length && (l.each(I, function(e) {
					e.destroy()
				}), I = []), M.length && (l.each(M, function(e) {
					e.destroy()
				}), M = []), A = {}, L = !1, E = k = null, O.reset()
			}
			var C, E, O, k, R = l.guid(),
				D = [],
				A = {},
				I = [],
				M = [],
				L = !1;
			C = {
				chunk_size: 0,
				file_data_name: "file",
				filters: {
					mime_types: [],
					prevent_duplicates: !1,
					max_file_size: 0
				},
				flash_swf_url: "js/Moxie.swf",
				http_method: "POST",
				max_retries: 0,
				multipart: !0,
				multi_selection: !0,
				resize: !1,
				runtimes: s.order,
				send_file_name: !0,
				send_chunk_number: !0,
				silverlight_xap_url: "js/Moxie.xap"
			}, m.call(this, e, null, !0), O = new l.QueueProgress, l.extend(this, {
				id: R,
				uid: R,
				state: l.STOPPED,
				features: {},
				runtime: null,
				files: D,
				settings: C,
				total: O,
				init: function() {
					var e, t, n = this;
					return e = n.getOption("preinit"), "function" == typeof e ? e(n) : l.each(e, function(e, t) {
						n.bind(t, e)
					}), d.call(n), l.each(["container", "browse_button", "drop_element"], function(e) {
						return null === n.getOption(e) ? (t = {
							code: l.INIT_ERROR,
							message: l.sprintf(l.translate("%s specified, but cannot be found."), e)
						}, !1) : void 0
					}), t ? n.trigger("Error", t) : C.browse_button || C.drop_element ? void p.call(n, C, function(e) {
						var t = n.getOption("init");
						"function" == typeof t ? t(n) : l.each(t, function(e, t) {
							n.bind(t, e)
						}), e ? (n.runtime = s.getInfo(h()).type, n.trigger("Init", {
							runtime: n.runtime
						}), n.trigger("PostInit")) : n.trigger("Error", {
							code: l.INIT_ERROR,
							message: l.translate("Init error.")
						})
					}) : n.trigger("Error", {
						code: l.INIT_ERROR,
						message: l.translate("You must specify either browse_button or drop_element.")
					})
				},
				setOption: function(e, t) {
					m.call(this, e, t, !this.runtime)
				},
				getOption: function(e) {
					return e ? C[e] : C
				},
				refresh: function() {
					I.length && l.each(I, function(e) {
						e.trigger("Refresh")
					}), this.trigger("Refresh")
				},
				start: function() {
					this.state != l.STARTED && (this.state = l.STARTED, this.trigger("StateChanged"), a.call(this))
				},
				startUploadFile: function(e) {
					e.status = l.UPLOADING, this.trigger("UploadFile", e)
				},
				stop: function() {
					this.state != l.STOPPED && (this.state = l.STOPPED, this.trigger("StateChanged"), this.trigger("CancelUpload"))
				},
				disableBrowse: function() {
					L = arguments[0] !== n ? arguments[0] : !0, I.length && l.each(I, function(e) {
						e.disable(L)
					}), this.trigger("DisableBrowse", L)
				},
				getFile: function(e) {
					var t;
					for (t = D.length - 1; t >= 0; t--)
						if (D[t].id === e) return D[t]
				},
				addFile: function(e, n, r) {
					function a(e, t) {
						var n = [];
						l.each(u.settings.filters, function(t, r) {
							o[r] && n.push(function(n) {
								o[r].call(u, t, e, function(e) {
									n(!e)
								})
							})
						}), l.inSeries(n, t)
					}

					function s(e) {
						var o = l.typeOf(e);
						if (e instanceof t.file.File) {
							if (!e.ruid && !e.isDetached()) {
								if (!c) return !1;
								e.ruid = c, e.connectRuntime(c)
							}
							r && r.id && (e.id = r.id), s(new l.File(e))
						} else e instanceof t.file.Blob ? (s(e.getSource()), e.destroy()) : e instanceof l.File ? (n && (e.name = n),
								f.push(function(t) {
									a(e, function(n) {
										n || (e.options = r, D.push(e), d.push(e), u.trigger("FileFiltered", e)), i(t, 1)
									})
								})) : -1 !== l.inArray(o, ["file", "blob"]) ? s(new t.file.File(null, e)) : "node" === o && "filelist" ===
							l.typeOf(e.files) ? l.each(e.files, s) : "array" === o && (n = null, l.each(e, s))
					}
					var c, u = this,
						f = [],
						d = [];
					r || (r = {}), c = h(), s(e), f.length && l.inSeries(f, function() {
						d.length && u.trigger("FilesAdded", d)
					})
				},
				removeFile: function(e) {
					for (var t = "string" == typeof e ? e : e.id, n = D.length - 1; n >= 0; n--)
						if (D[n].id === t) return this.splice(n, 1)[0]
				},
				splice: function(e, t) {
					var r = D.splice(e === n ? 0 : e, t === n ? D.length : t),
						i = !1;
					return this.state == l.STARTED && (l.each(r, function(e) {
						return e.status === l.UPLOADING ? (i = !0, !1) : void 0
					}), i && this.stop()), this.trigger("FilesRemoved", r), l.each(r, function(e) {
						e.destroy()
					}), i && this.start(), r
				},
				dispatchEvent: function(e) {
					var t, n;
					if (e = e.toLowerCase(), t = this.hasEventListener(e)) {
						t.sort(function(e, t) {
							return t.priority - e.priority
						}), n = [].slice.call(arguments), n.shift(), n.unshift(this);
						for (var r = 0; r < t.length; r++)
							if (t[r].fn.apply(t[r].scope, n) === !1) return !1
					}
					return !0
				},
				bind: function(e, t, n, r) {
					l.Uploader.prototype.bind.call(this, e, t, r, n)
				},
				destroy: function() {
					this.trigger("Destroy"), C = O = null, this.unbindAll()
				},
				resizeImage: g
			})
		}, l.Uploader.prototype = t.core.EventTarget.instance, l.File = function() {
			function e(e) {
				l.extend(this, {
					id: l.guid(),
					name: e.name || e.fileName,
					type: e.type || "",
					size: e.size || e.fileSize,
					origSize: e.size || e.fileSize,
					loaded: 0,
					percent: 0,
					status: l.QUEUED,
					lastModifiedDate: e.lastModifiedDate || (new Date).toLocaleString(),
					completeTimestamp: 0,
					getNative: function() {
						var e = this.getSource().getSource();
						return -1 !== l.inArray(l.typeOf(e), ["blob", "file"]) ? e : null
					},
					getSource: function() {
						return t[this.id] ? t[this.id] : null
					},
					setSource: function(e) {
						return t[this.id] ? (this.origSize = this.size = e.length || e.size || e.fileSize, t[this.id] = e) : null
					},
					destroy: function() {
						var e = this.getSource();
						e && (e.destroy(), delete t[this.id])
					}
				}), t[this.id] = e
			}
			var t = {};
			return e
		}(), l.QueueProgress = function() {
			var e = this;
			e.size = 0, e.loaded = 0, e.uploaded = 0, e.failed = 0, e.queued = 0, e.percent = 0, e.bytesPerSec = 0, e.reset =
				function() {
					e.size = e.loaded = e.uploaded = e.failed = e.queued = e.percent = e.bytesPerSec = 0
				}
		}, e.plupload = l
	}(this, e)
}), ! function(e) {
	"use strict";

	function t() {
		var t = e.crypto || e.msCrypto;
		if (!s && t && t.getRandomValues) try {
			var n = new Uint8Array(16);
			u = s = function() {
				return t.getRandomValues(n), n
			}, s()
		} catch (r) {}
		if (!s) {
			var i = new Array(16);
			l = s = function() {
				for (var e, t = 0; 16 > t; t++) 0 === (3 & t) && (e = 4294967296 * Math.random()), i[t] = e >>> ((3 & t) << 3) &
					255;
				return i
			}, "undefined" != typeof console && console.warn && console.warn(
				"[SECURITY] node-uuid: crypto not usable, falling back to insecure Math.random()")
		}
	}

	function n() {
		if ("function" == typeof require) try {
			var e = require("crypto").randomBytes;
			c = s = e && function() {
				return e(16)
			}, s()
		} catch (t) {}
	}

	function r(e, t, n) {
		var r = t && n || 0,
			i = 0;
		for (t = t || [], e.toLowerCase().replace(/[0-9a-f]{2}/g, function(e) {
				16 > i && (t[r + i++] = p[e])
			}); 16 > i;) t[r + i++] = 0;
		return t
	}

	function i(e, t) {
		var n = t || 0,
			r = d;
		return r[e[n++]] + r[e[n++]] + r[e[n++]] + r[e[n++]] + "-" + r[e[n++]] + r[e[n++]] + "-" + r[e[n++]] + r[e[n++]] +
			"-" + r[e[n++]] + r[e[n++]] + "-" + r[e[n++]] + r[e[n++]] + r[e[n++]] + r[e[n++]] + r[e[n++]] + r[e[n++]]
	}

	function o(e, t, n) {
		var r = t && n || 0,
			o = t || [];
		e = e || {};
		var a = null != e.clockseq ? e.clockseq : y,
			s = null != e.msecs ? e.msecs : (new Date).getTime(),
			l = null != e.nsecs ? e.nsecs : x + 1,
			c = s - b + (l - x) / 1e4;
		if (0 > c && null == e.clockseq && (a = a + 1 & 16383), (0 > c || s > b) && null == e.nsecs && (l = 0), l >= 1e4)
			throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");
		b = s, x = l, y = a, s += 122192928e5;
		var u = (1e4 * (268435455 & s) + l) % 4294967296;
		o[r++] = u >>> 24 & 255, o[r++] = u >>> 16 & 255, o[r++] = u >>> 8 & 255, o[r++] = 255 & u;
		var h = s / 4294967296 * 1e4 & 268435455;
		o[r++] = h >>> 8 & 255, o[r++] = 255 & h, o[r++] = h >>> 24 & 15 | 16, o[r++] = h >>> 16 & 255, o[r++] = a >>> 8 |
			128, o[r++] = 255 & a;
		for (var f = e.node || v, d = 0; 6 > d; d++) o[r + d] = f[d];
		return t ? t : i(o)
	}

	function a(e, t, n) {
		var r = t && n || 0;
		"string" == typeof e && (t = "binary" === e ? new f(16) : null, e = null), e = e || {};
		var o = e.random || (e.rng || s)();
		if (o[6] = 15 & o[6] | 64, o[8] = 63 & o[8] | 128, t)
			for (var a = 0; 16 > a; a++) t[r + a] = o[a];
		return t || i(o)
	}
	var s, l, c, u, h;
	e ? t() : n();
	for (var f = "function" == typeof Buffer ? Buffer : Array, d = [], p = {}, g = 0; 256 > g; g++) d[g] = (g + 256).toString(
		16).substr(1), p[d[g]] = g;
	var m = s(),
		v = [1 | m[0], m[1], m[2], m[3], m[4], m[5]],
		y = 16383 & (m[6] << 8 | m[7]),
		b = 0,
		x = 0,
		w = a;
	w.v1 = o, w.v4 = a, w.parse = r, w.unparse = i, w.BufferClass = f, w._rng = s, w._mathRNG = l, w._nodeRNG = c, w._whatwgRNG =
		u, "undefined" != typeof module && module.exports ? module.exports = w : "function" == typeof define && define.amd ?
		define("uuid", [], function() {
			return w
		}) : (h = e.uuid, w.noConflict = function() {
			return e.uuid = h, w
		}, e.uuid = w)
}("undefined" != typeof window ? window : null),
function() {
	function e() {}

	function t(e) {
		return e
	}

	function n(e) {
		return !!e
	}

	function r(e) {
		return !e
	}

	function i(e) {
		return function() {
			if (null === e) throw new Error("Callback was already called.");
			e.apply(this, arguments), e = null
		}
	}

	function o(e) {
		return function() {
			null !== e && (e.apply(this, arguments), e = null)
		}
	}

	function a(e) {
		return F(e) || "number" == typeof e.length && e.length >= 0 && e.length % 1 === 0
	}

	function s(e, t) {
		for (var n = -1, r = e.length; ++n < r;) t(e[n], n, e)
	}

	function l(e, t) {
		for (var n = -1, r = e.length, i = Array(r); ++n < r;) i[n] = t(e[n], n, e);
		return i
	}

	function c(e) {
		return l(Array(e), function(e, t) {
			return t
		})
	}

	function u(e, t, n) {
		return s(e, function(e, r, i) {
			n = t(n, e, r, i)
		}), n
	}

	function h(e, t) {
		s(j(e), function(n) {
			t(e[n], n)
		})
	}

	function f(e, t) {
		for (var n = 0; n < e.length; n++)
			if (e[n] === t) return n;
		return -1
	}

	function d(e) {
		var t, n, r = -1;
		return a(e) ? (t = e.length, function() {
			return r++, t > r ? r : null
		}) : (n = j(e), t = n.length, function() {
			return r++, t > r ? n[r] : null
		})
	}

	function p(e, t) {
		return t = null == t ? e.length - 1 : +t,
			function() {
				for (var n = Math.max(arguments.length - t, 0), r = Array(n), i = 0; n > i; i++) r[i] = arguments[i + t];
				switch (t) {
					case 0:
						return e.call(this, r);
					case 1:
						return e.call(this, arguments[0], r)
				}
			}
	}

	function g(e) {
		return function(t, n, r) {
			return e(t, r)
		}
	}

	function m(t) {
		return function(n, r, a) {
			a = o(a || e), n = n || [];
			var s = d(n);
			if (0 >= t) return a(null);
			var l = !1,
				c = 0,
				u = !1;
			! function h() {
				if (l && 0 >= c) return a(null);
				for (; t > c && !u;) {
					var e = s();
					if (null === e) return l = !0, void(0 >= c && a(null));
					c += 1, r(n[e], e, i(function(e) {
						c -= 1, e ? (a(e), u = !0) : h()
					}))
				}
			}()
		}
	}

	function v(e) {
		return function(t, n, r) {
			return e(M.eachOf, t, n, r)
		}
	}

	function y(e) {
		return function(t, n, r, i) {
			return e(m(n), t, r, i)
		}
	}

	function b(e) {
		return function(t, n, r) {
			return e(M.eachOfSeries, t, n, r)
		}
	}

	function x(t, n, r, i) {
		i = o(i || e), n = n || [];
		var s = a(n) ? [] : {};
		t(n, function(e, t, n) {
			r(e, function(e, r) {
				s[t] = r, n(e)
			})
		}, function(e) {
			i(e, s)
		})
	}

	function w(e, t, n, r) {
		var i = [];
		e(t, function(e, t, r) {
			n(e, function(n) {
				n && i.push({
					index: t,
					value: e
				}), r()
			})
		}, function() {
			r(l(i.sort(function(e, t) {
				return e.index - t.index
			}), function(e) {
				return e.value
			}))
		})
	}

	function S(e, t, n, r) {
		w(e, t, function(e, t) {
			n(e, function(e) {
				t(!e)
			})
		}, r)
	}

	function _(e, t, n) {
		return function(r, i, o, a) {
			function s() {
				a && a(n(!1, void 0))
			}

			function l(e, r, i) {
				return a ? void o(e, function(r) {
					a && t(r) && (a(n(!0, e)), a = o = !1), i()
				}) : i()
			}
			arguments.length > 3 ? e(r, i, l, s) : (a = o, o = i, e(r, l, s))
		}
	}

	function T(e, t) {
		return t
	}

	function C(t, n, r) {
		r = r || e;
		var i = a(n) ? [] : {};
		t(n, function(e, t, n) {
			e(p(function(e, r) {
				r.length <= 1 && (r = r[0]), i[t] = r, n(e)
			}))
		}, function(e) {
			r(e, i)
		})
	}

	function E(e, t, n, r) {
		var i = [];
		e(t, function(e, t, r) {
			n(e, function(e, t) {
				i = i.concat(t || []), r(e)
			})
		}, function(e) {
			r(e, i)
		})
	}

	function O(t, n, r) {
		function o(t, n, r, i) {
			if (null != i && "function" != typeof i) throw new Error("task callback must be a function");
			return t.started = !0, F(n) || (n = [n]), 0 === n.length && t.idle() ? M.setImmediate(function() {
				t.drain()
			}) : (s(n, function(n) {
				var o = {
					data: n,
					callback: i || e
				};
				r ? t.tasks.unshift(o) : t.tasks.push(o), t.tasks.length === t.concurrency && t.saturated()
			}), void M.setImmediate(t.process))
		}

		function a(e, t) {
			return function() {
				c -= 1;
				var n = !1,
					r = arguments;
				s(t, function(e) {
					s(u, function(t, r) {
						t !== e || n || (u.splice(r, 1), n = !0)
					}), e.callback.apply(e, r)
				}), e.tasks.length + c === 0 && e.drain(), e.process()
			}
		}
		if (null == n) n = 1;
		else if (0 === n) throw new Error("Concurrency must not be zero");
		var c = 0,
			u = [],
			h = {
				tasks: [],
				concurrency: n,
				payload: r,
				saturated: e,
				empty: e,
				drain: e,
				started: !1,
				paused: !1,
				push: function(e, t) {
					o(h, e, !1, t)
				},
				kill: function() {
					h.drain = e, h.tasks = []
				},
				unshift: function(e, t) {
					o(h, e, !0, t)
				},
				process: function() {
					for (; !h.paused && c < h.concurrency && h.tasks.length;) {
						var e = h.payload ? h.tasks.splice(0, h.payload) : h.tasks.splice(0, h.tasks.length),
							n = l(e, function(e) {
								return e.data
							});
						0 === h.tasks.length && h.empty(), c += 1, u.push(e[0]);
						var r = i(a(h, e));
						t(n, r)
					}
				},
				length: function() {
					return h.tasks.length
				},
				running: function() {
					return c
				},
				workersList: function() {
					return u
				},
				idle: function() {
					return h.tasks.length + c === 0
				},
				pause: function() {
					h.paused = !0
				},
				resume: function() {
					if (h.paused !== !1) {
						h.paused = !1;
						for (var e = Math.min(h.concurrency, h.tasks.length), t = 1; e >= t; t++) M.setImmediate(h.process)
					}
				}
			};
		return h
	}

	function k(e) {
		return p(function(t, n) {
			t.apply(null, n.concat([p(function(t, n) {
				"object" == typeof console && (t ? console.error && console.error(t) : console[e] && s(n, function(t) {
					console[e](t)
				}))
			})]))
		})
	}

	function R(e) {
		return function(t, n, r) {
			e(c(t), n, r)
		}
	}

	function D(e) {
		return p(function(t, n) {
			var r = p(function(n) {
				var r = this,
					i = n.pop();
				return e(t, function(e, t, i) {
					e.apply(r, n.concat([i]))
				}, i)
			});
			return n.length ? r.apply(this, n) : r
		})
	}

	function A(e) {
		return p(function(t) {
			var n = t.pop();
			t.push(function() {
				var e = arguments;
				r ? M.setImmediate(function() {
					n.apply(null, e)
				}) : n.apply(null, e)
			});
			var r = !0;
			e.apply(this, t), r = !1
		})
	}
	var I, M = {},
		L = "object" == typeof self && self.self === self && self || "object" == typeof global && global.global === global &&
		global || this;
	null != L && (I = L.async), M.noConflict = function() {
		return L.async = I, M
	};
	var P = Object.prototype.toString,
		F = Array.isArray || function(e) {
			return "[object Array]" === P.call(e)
		},
		U = function(e) {
			var t = typeof e;
			return "function" === t || "object" === t && !!e
		},
		j = Object.keys || function(e) {
			var t = [];
			for (var n in e) e.hasOwnProperty(n) && t.push(n);
			return t
		},
		B = "function" == typeof setImmediate && setImmediate,
		N = B ? function(e) {
			B(e)
		} : function(e) {
			setTimeout(e, 0)
		};
	"object" == typeof process && "function" == typeof process.nextTick ? M.nextTick = process.nextTick : M.nextTick = N,
		M.setImmediate = B ? N : M.nextTick, M.forEach = M.each = function(e, t, n) {
			return M.eachOf(e, g(t), n)
		}, M.forEachSeries = M.eachSeries = function(e, t, n) {
			return M.eachOfSeries(e, g(t), n)
		}, M.forEachLimit = M.eachLimit = function(e, t, n, r) {
			return m(t)(e, g(n), r)
		}, M.forEachOf = M.eachOf = function(t, n, r) {
			function a(e) {
				c--, e ? r(e) : null === s && 0 >= c && r(null)
			}
			r = o(r || e), t = t || [];
			for (var s, l = d(t), c = 0; null != (s = l());) c += 1, n(t[s], s, i(a));
			0 === c && r(null)
		}, M.forEachOfSeries = M.eachOfSeries = function(t, n, r) {
			function a() {
				var e = !0;
				return null === l ? r(null) : (n(t[l], l, i(function(t) {
					if (t) r(t);
					else {
						if (l = s(), null === l) return r(null);
						e ? M.setImmediate(a) : a()
					}
				})), void(e = !1))
			}
			r = o(r || e), t = t || [];
			var s = d(t),
				l = s();
			a()
		}, M.forEachOfLimit = M.eachOfLimit = function(e, t, n, r) {
			m(t)(e, n, r)
		}, M.map = v(x), M.mapSeries = b(x), M.mapLimit = y(x), M.inject = M.foldl = M.reduce = function(e, t, n, r) {
			M.eachOfSeries(e, function(e, r, i) {
				n(t, e, function(e, n) {
					t = n, i(e)
				})
			}, function(e) {
				r(e, t)
			})
		}, M.foldr = M.reduceRight = function(e, n, r, i) {
			var o = l(e, t).reverse();
			M.reduce(o, n, r, i)
		}, M.transform = function(e, t, n, r) {
			3 === arguments.length && (r = n, n = t, t = F(e) ? [] : {}), M.eachOf(e, function(e, r, i) {
				n(t, e, r, i)
			}, function(e) {
				r(e, t)
			})
		}, M.select = M.filter = v(w), M.selectLimit = M.filterLimit = y(w), M.selectSeries = M.filterSeries = b(w), M.reject =
		v(S), M.rejectLimit = y(S), M.rejectSeries = b(S), M.any = M.some = _(M.eachOf, n, t), M.someLimit = _(M.eachOfLimit,
			n, t), M.all = M.every = _(M.eachOf, r, r), M.everyLimit = _(M.eachOfLimit, r, r), M.detect = _(M.eachOf, t, T), M.detectSeries =
		_(M.eachOfSeries, t, T), M.detectLimit = _(M.eachOfLimit, t, T), M.sortBy = function(e, t, n) {
			function r(e, t) {
				var n = e.criteria,
					r = t.criteria;
				return r > n ? -1 : n > r ? 1 : 0
			}
			M.map(e, function(e, n) {
				t(e, function(t, r) {
					t ? n(t) : n(null, {
						value: e,
						criteria: r
					})
				})
			}, function(e, t) {
				return e ? n(e) : void n(null, l(t.sort(r), function(e) {
					return e.value
				}))
			})
		}, M.auto = function(t, n, r) {
			function i(e) {
				y.unshift(e)
			}

			function a(e) {
				var t = f(y, e);
				t >= 0 && y.splice(t, 1)
			}

			function l() {
				d--, s(y.slice(0), function(e) {
					e()
				})
			}
			"function" == typeof arguments[1] && (r = n, n = null), r = o(r || e);
			var c = j(t),
				d = c.length;
			if (!d) return r(null);
			n || (n = d);
			var g = {},
				m = 0,
				v = !1,
				y = [];
			i(function() {
				d || r(null, g)
			}), s(c, function(e) {
				function o() {
					return n > m && u(b, function(e, t) {
						return e && g.hasOwnProperty(t)
					}, !0) && !g.hasOwnProperty(e)
				}

				function s() {
					o() && (m++, a(s), d[d.length - 1](y, g))
				}
				if (!v) {
					for (var c, d = F(t[e]) ? t[e] : [t[e]], y = p(function(t, n) {
							if (m--, n.length <= 1 && (n = n[0]), t) {
								var i = {};
								h(g, function(e, t) {
									i[t] = e
								}), i[e] = n, v = !0, r(t, i)
							} else g[e] = n, M.setImmediate(l)
						}), b = d.slice(0, d.length - 1), x = b.length; x--;) {
						if (!(c = t[b[x]])) throw new Error("Has nonexistent dependency in " + b.join(", "));
						if (F(c) && f(c, e) >= 0) throw new Error("Has cyclic dependencies")
					}
					o() ? (m++, d[d.length - 1](y, g)) : i(s)
				}
			})
		}, M.retry = function(e, t, n) {
			function r(e, t) {
				if ("number" == typeof t) e.times = parseInt(t, 10) || o;
				else {
					if ("object" != typeof t) throw new Error("Unsupported argument type for 'times': " + typeof t);
					e.times = parseInt(t.times, 10) || o, e.interval = parseInt(t.interval, 10) || a
				}
			}

			function i(e, t) {
				function n(e, n) {
					return function(r) {
						e(function(e, t) {
							r(!e || n, {
								err: e,
								result: t
							})
						}, t)
					}
				}

				function r(e) {
					return function(t) {
						setTimeout(function() {
							t(null)
						}, e)
					}
				}
				for (; l.times;) {
					var i = !(l.times -= 1);
					s.push(n(l.task, i)), !i && l.interval > 0 && s.push(r(l.interval))
				}
				M.series(s, function(t, n) {
					n = n[n.length - 1], (e || l.callback)(n.err, n.result)
				})
			}
			var o = 5,
				a = 0,
				s = [],
				l = {
					times: o,
					interval: a
				},
				c = arguments.length;
			if (1 > c || c > 3) throw new Error(
				"Invalid arguments - must be either (task), (task, callback), (times, task) or (times, task, callback)");
			return 2 >= c && "function" == typeof e && (n = t, t = e), "function" != typeof e && r(l, e), l.callback = n, l.task =
				t, l.callback ? i() : i
		}, M.waterfall = function(t, n) {
			function r(e) {
				return p(function(t, i) {
					if (t) n.apply(null, [t].concat(i));
					else {
						var o = e.next();
						o ? i.push(r(o)) : i.push(n), A(e).apply(null, i)
					}
				})
			}
			if (n = o(n || e), !F(t)) {
				var i = new Error("First argument to waterfall must be an array of functions");
				return n(i)
			}
			return t.length ? void r(M.iterator(t))() : n()
		}, M.parallel = function(e, t) {
			C(M.eachOf, e, t)
		}, M.parallelLimit = function(e, t, n) {
			C(m(t), e, n)
		}, M.series = function(e, t) {
			C(M.eachOfSeries, e, t)
		}, M.iterator = function(e) {
			function t(n) {
				function r() {
					return e.length && e[n].apply(null, arguments), r.next()
				}
				return r.next = function() {
					return n < e.length - 1 ? t(n + 1) : null
				}, r
			}
			return t(0)
		}, M.apply = p(function(e, t) {
			return p(function(n) {
				return e.apply(null, t.concat(n))
			})
		}), M.concat = v(E), M.concatSeries = b(E), M.whilst = function(t, n, r) {
			if (r = r || e, t()) {
				var i = p(function(e, o) {
					e ? r(e) : t.apply(this, o) ? n(i) : r.apply(null, [null].concat(o))
				});
				n(i)
			} else r(null)
		}, M.doWhilst = function(e, t, n) {
			var r = 0;
			return M.whilst(function() {
				return ++r <= 1 || t.apply(this, arguments)
			}, e, n)
		}, M.until = function(e, t, n) {
			return M.whilst(function() {
				return !e.apply(this, arguments)
			}, t, n)
		}, M.doUntil = function(e, t, n) {
			return M.doWhilst(e, function() {
				return !t.apply(this, arguments)
			}, n)
		}, M.during = function(t, n, r) {
			r = r || e;
			var i = p(function(e, n) {
					e ? r(e) : (n.push(o), t.apply(this, n))
				}),
				o = function(e, t) {
					e ? r(e) : t ? n(i) : r(null)
				};
			t(o)
		}, M.doDuring = function(e, t, n) {
			var r = 0;
			M.during(function(e) {
				r++ < 1 ? e(null, !0) : t.apply(this, arguments)
			}, e, n)
		}, M.queue = function(e, t) {
			var n = O(function(t, n) {
				e(t[0], n)
			}, t, 1);
			return n
		}, M.priorityQueue = function(t, n) {
			function r(e, t) {
				return e.priority - t.priority
			}

			function i(e, t, n) {
				for (var r = -1, i = e.length - 1; i > r;) {
					var o = r + (i - r + 1 >>> 1);
					n(t, e[o]) >= 0 ? r = o : i = o - 1
				}
				return r
			}

			function o(t, n, o, a) {
				if (null != a && "function" != typeof a) throw new Error("task callback must be a function");
				return t.started = !0, F(n) || (n = [n]), 0 === n.length ? M.setImmediate(function() {
					t.drain()
				}) : void s(n, function(n) {
					var s = {
						data: n,
						priority: o,
						callback: "function" == typeof a ? a : e
					};
					t.tasks.splice(i(t.tasks, s, r) + 1, 0, s), t.tasks.length === t.concurrency && t.saturated(), M.setImmediate(t.process)
				})
			}
			var a = M.queue(t, n);
			return a.push = function(e, t, n) {
				o(a, e, t, n)
			}, delete a.unshift, a
		}, M.cargo = function(e, t) {
			return O(e, 1, t)
		}, M.log = k("log"), M.dir = k("dir"), M.memoize = function(e, n) {
			var r = {},
				i = {},
				o = Object.prototype.hasOwnProperty;
			n = n || t;
			var a = p(function(t) {
				var a = t.pop(),
					s = n.apply(null, t);
				o.call(r, s) ? M.setImmediate(function() {
					a.apply(null, r[s])
				}) : o.call(i, s) ? i[s].push(a) : (i[s] = [a], e.apply(null, t.concat([p(function(e) {
					r[s] = e;
					var t = i[s];
					delete i[s];
					for (var n = 0, o = t.length; o > n; n++) t[n].apply(null, e)
				})])))
			});
			return a.memo = r, a.unmemoized = e, a
		}, M.unmemoize = function(e) {
			return function() {
				return (e.unmemoized || e).apply(null, arguments)
			}
		}, M.times = R(M.map), M.timesSeries = R(M.mapSeries), M.timesLimit = function(e, t, n, r) {
			return M.mapLimit(c(e), t, n, r)
		}, M.seq = function() {
			var t = arguments;
			return p(function(n) {
				var r = this,
					i = n[n.length - 1];
				"function" == typeof i ? n.pop() : i = e, M.reduce(t, n, function(e, t, n) {
					t.apply(r, e.concat([p(function(e, t) {
						n(e, t)
					})]))
				}, function(e, t) {
					i.apply(r, [e].concat(t))
				})
			})
		}, M.compose = function() {
			return M.seq.apply(null, Array.prototype.reverse.call(arguments))
		}, M.applyEach = D(M.eachOf), M.applyEachSeries = D(M.eachOfSeries), M.forever = function(t, n) {
			function r(e) {
				return e ? o(e) : void a(r)
			}
			var o = i(n || e),
				a = A(t);
			r()
		}, M.ensureAsync = A, M.constant = p(function(e) {
			var t = [null].concat(e);
			return function(e) {
				return e.apply(this, t)
			}
		}), M.wrapSync = M.asyncify = function(e) {
			return p(function(t) {
				var n, r = t.pop();
				try {
					n = e.apply(this, t)
				} catch (i) {
					return r(i)
				}
				U(n) && "function" == typeof n.then ? n.then(function(e) {
					r(null, e)
				})["catch"](function(e) {
					r(e.message ? e : new Error(e))
				}) : r(null, n)
			})
		}, "object" == typeof module && module.exports ? module.exports = M : "function" == typeof define && define.amd ?
		define("async", [], function() {
			return M
		}) : L.async = M
}();
var _createClass = function() {
		function e(e, t) {
			for (var n = 0; n < t.length; n++) {
				var r = t[n];
				r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e,
					r.key, r)
			}
		}
		return function(t, n, r) {
			return n && e(t.prototype, n), r && e(t, r), t
		}
	}(),
	hasBlobConstructor = "undefined" != typeof Blob && function() {
		try {
			return Boolean(new Blob)
		} catch (e) {
			return !1
		}
	}(),
	hasArrayBufferViewSupport = hasBlobConstructor && "undefined" != typeof Uint8Array && function() {
		try {
			return 100 === new Blob([new Uint8Array(100)]).size
		} catch (e) {
			return !1
		}
	}(),
	hasToBlobSupport = "undefined" != typeof HTMLCanvasElement ? HTMLCanvasElement.prototype.toBlob : !1,
	hasBlobSupport = hasToBlobSupport || "undefined" != typeof Uint8Array && "undefined" != typeof ArrayBuffer &&
	"undefined" != typeof atob,
	hasReaderSupport = "undefined" != typeof FileReader || "undefined" != typeof URL,
	ImageTools = function() {
		function e() {
			_classCallCheck(this, e)
		}
		return _createClass(e, null, [{
			key: "resize",
			value: function(t, n, r) {
				"function" == typeof n && (r = n, n = {
					width: 640,
					height: 480
				});
				n.width, n.height;
				if (!e.isSupported() || !t.type.match(/image.*/)) return r(t, !1), !1;
				if (t.type.match(/image\/gif/)) return r(t, !1), !1;
				var i = document.createElement("img");
				return i.onload = function(o) {
					var a = i.width,
						s = i.height,
						l = !1;
					if (null != n.width && a > n.width && null == n.height ? (s *= n.width / a, a = n.width, l = !0) : a > s && a >
						n.width ? (s *= n.width / a, a = n.width, l = !0) : s > n.height && (a *= n.height / s, s = n.height, l = !0),
						!l) return void r(t, !1, i);
					var c = document.createElement("canvas");
					c.width = a, c.height = s;
					var u = c.getContext("2d");
					if (u.drawImage(i, 0, 0, a, s), hasToBlobSupport) c.toBlob(function(e) {
						r(e, !0, i)
					}, t.type);
					else {
						var h = e._toBlob(c, t.type);
						r(h, !0, i)
					}
				}, i.onerror = function(e) {
					r("error", null, null)
				}, e._loadImage(i, t), !0
			}
		}, {
			key: "_toBlob",
			value: function(e, t) {
				var n = e.toDataURL(t),
					r = n.split(","),
					i = void 0;
				i = r[0].indexOf("base64") >= 0 ? atob(r[1]) : decodeURIComponent(r[1]);
				for (var o = new ArrayBuffer(i.length), a = new Uint8Array(o), s = 0; s < i.length; s += 1) a[s] = i.charCodeAt(
					s);
				var l = r[0].split(":")[1].split(";")[0],
					c = null;
				if (hasBlobConstructor) c = new Blob([hasArrayBufferViewSupport ? a : o], {
					type: l
				});
				else {
					var u = new BlobBuilder;
					u.append(o), c = u.getBlob(l)
				}
				return c
			}
		}, {
			key: "_loadImage",
			value: function(e, t, n) {
				if ("undefined" == typeof URL) {
					var r = new FileReader;
					r.onload = function(t) {
						e.src = t.target.result, n && n()
					}, r.readAsDataURL(t)
				} else e.src = URL.createObjectURL(t), n && n()
			}
		}, {
			key: "isSupported",
			value: function() {
				return "undefined" != typeof HTMLCanvasElement && hasBlobSupport && hasReaderSupport
			}
		}]), e
	}();
define("ImageTools", function() {}),
	function(e) {
		define("jqfd", ["jquery"], function() {
			return function() {
				! function(e, t) {
					var n = /[<>&\r\n"']/gm,
						r = {
							"<": "lt;",
							">": "gt;",
							"&": "amp;",
							"\r": "#13;",
							"\n": "#10;",
							'"': "quot;",
							"'": "apos;"
						};
					e.extend({
						fileDownload: function(i, o) {
							function a() {
								if (-1 != document.cookie.indexOf(d.cookieName + "=" + d.cookieValue)) return y.onSuccess(i), document.cookie =
									d.cookieName + "=; expires=" + new Date(1e3).toUTCString() + "; path=" + d.cookiePath, void l(!1);
								if (x || b) try {
									var t = x ? x.document : s(b);
									if (t && null != t.body && t.body.innerHTML.length) {
										var n = !0;
										if (S && S.length) {
											var r = e(t.body).contents().first();
											r.length && r[0] === S[0] && (n = !1)
										}
										if (n) return y.onFail(t.body.innerHTML, i), void l(!0)
									}
								} catch (o) {
									return y.onFail("", i), void l(!0)
								}
								setTimeout(a, d.checkInterval)
							}

							function s(e) {
								var t = e[0].contentWindow || e[0].contentDocument;
								return t.document && (t = t.document), t
							}

							function l(e) {
								setTimeout(function() {
									x && (h && x.close(), u && x.focus && (x.focus(), e && x.close()))
								}, 0)
							}

							function c(e) {
								return e.replace(n, function(e) {
									return "&" + r[e]
								})
							}
							var u, h, f, d = e.extend({
									preparingMessageHtml: null,
									failMessageHtml: null,
									androidPostUnsupportedMessageHtml: "Unfortunately your Android browser doesn't support this type of file download. Please try again with a different browser.",
									dialogOptions: {
										modal: !0
									},
									prepareCallback: function(e) {},
									successCallback: function(e) {},
									failCallback: function(e, t) {},
									httpMethod: "GET",
									data: null,
									checkInterval: 100,
									cookieName: "fileDownload",
									cookieValue: "true",
									cookiePath: "/",
									popupWindowTitle: "Initiating file download...",
									encodeHTMLEntities: !0
								}, o),
								p = new e.Deferred,
								g = (navigator.userAgent || navigator.vendor || t.opera).toLowerCase();
							/ip(ad|hone|od)/.test(g) ? u = !0 : -1 !== g.indexOf("android") ? h = !0 : f =
								/avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|playbook|silk|iemobile|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i
								.test(g) ||
								/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|e\-|e\/|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(di|rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|xda(\-|2|g)|yas\-|your|zeto|zte\-/i
								.test(g.substr(0, 4));
							var m = d.httpMethod.toUpperCase();
							if (h && "GET" !== m) return e().dialog ? e("<div>").html(d.androidPostUnsupportedMessageHtml).dialog(d.dialogOptions) :
								alert(d.androidPostUnsupportedMessageHtml), p.reject();
							var v = null,
								y = {
									onPrepare: function(t) {
										d.preparingMessageHtml ? v = e("<div>").html(d.preparingMessageHtml).dialog(d.dialogOptions) : d.prepareCallback &&
											d.prepareCallback(t)
									},
									onSuccess: function(e) {
										v && v.dialog("close"), d.successCallback(e), p.resolve(e)
									},
									onFail: function(t, n) {
										v && v.dialog("close"), d.failMessageHtml && e("<div>").html(d.failMessageHtml).dialog(d.dialogOptions),
											d.failCallback(t, n), p.reject(t, n)
									}
								};
							y.onPrepare(i), null !== d.data && "string" != typeof d.data && (d.data = e.param(d.data));
							var b, x, w, S;
							if ("GET" === m) {
								if (null !== d.data) {
									var _ = i.indexOf("?"); - 1 !== _ ? "&" !== i.substring(i.length - 1) && (i += "&") : i += "?", i += d.data
								}
								u || h ? (x = t.open(i), x.document.title = d.popupWindowTitle, t.focus()) : f ? t.location(i) : b = e(
									"<iframe>").hide().prop("src", i).appendTo("body")
							} else {
								var T = "";
								null !== d.data && e.each(d.data.replace(/\+/g, " ").split("&"), function() {
									var e = this.split("="),
										t = d.encodeHTMLEntities ? c(decodeURIComponent(e[0])) : decodeURIComponent(e[0]);
									if (t) {
										var n = d.encodeHTMLEntities ? c(decodeURIComponent(e[1])) : decodeURIComponent(e[1]);
										T += '<input type="hidden" name="' + t + '" value="' + n + '" />'
									}
								}), f ? (S = e("<form>").appendTo("body"), S.hide().prop("method", d.httpMethod).prop("action", i).html(
									T)) : (u ? (x = t.open("about:blank"), x.document.title = d.popupWindowTitle, w = x.document, t.focus()) :
									(b = e("<iframe style='display: none' src='about:blank'></iframe>").appendTo("body"), w = s(b)), w.write(
										"<html><head></head><body><form method='" + d.httpMethod + "' action='" + i + "'>" + T + "</form>" + d
										.popupWindowTitle + "</body></html>"), S = e(w).find("form")), S.submit()
							}
							return setTimeout(a, d.checkInterval), p.promise()
						}
					})
				}(jQuery, this)
			}.apply(e, arguments)
		})
	}(this),
	function(e) {
		"function" == typeof define && define.amd ? define("niceScroll", ["jquery"], e) : "object" == typeof exports ? module
			.exports = e(require("jquery")) : e(jQuery)
	}(function(e) {
		var t = !1,
			n = !1,
			r = 0,
			i = 2e3,
			o = 0,
			a = ["webkit", "ms", "moz", "o"],
			s = window.requestAnimationFrame || !1,
			l = window.cancelAnimationFrame || !1;
		if (!s)
			for (var c in a) {
				var u = a[c];
				if (s = window[u + "RequestAnimationFrame"]) {
					l = window[u + "CancelAnimationFrame"] || window[u + "CancelRequestAnimationFrame"];
					break
				}
			}
		var h = window.MutationObserver || window.WebKitMutationObserver || !1,
			f = {
				zindex: "auto",
				cursoropacitymin: 0,
				cursoropacitymax: 1,
				cursorcolor: "#424242",
				cursorwidth: "6px",
				cursorborder: "1px solid #fff",
				cursorborderradius: "5px",
				scrollspeed: 60,
				mousescrollstep: 24,
				touchbehavior: !1,
				hwacceleration: !0,
				usetransition: !0,
				boxzoom: !1,
				dblclickzoom: !0,
				gesturezoom: !0,
				grabcursorenabled: !0,
				autohidemode: !0,
				background: "",
				iframeautoresize: !0,
				cursorminheight: 32,
				preservenativescrolling: !0,
				railoffset: !1,
				railhoffset: !1,
				bouncescroll: !0,
				spacebarenabled: !0,
				railpadding: {
					top: 0,
					right: 0,
					left: 0,
					bottom: 0
				},
				disableoutline: !0,
				horizrailenabled: !0,
				railalign: "right",
				railvalign: "bottom",
				enabletranslate3d: !0,
				enablemousewheel: !0,
				enablekeyboard: !0,
				smoothscroll: !0,
				sensitiverail: !0,
				enablemouselockapi: !0,
				cursorfixedheight: !1,
				directionlockdeadzone: 6,
				hidecursordelay: 400,
				nativeparentscrolling: !0,
				enablescrollonselection: !0,
				overflowx: !0,
				overflowy: !0,
				cursordragspeed: .3,
				rtlmode: "auto",
				cursordragontouch: !1,
				oneaxismousemode: "auto",
				scriptpath: function() {
					var e = document.getElementsByTagName("script"),
						e = e.length ? e[e.length - 1].src.split("?")[0] : "";
					return 0 < e.split("/").length ? e.split("/").slice(0, -1).join("/") + "/" : ""
				}(),
				preventmultitouchscrolling: !0,
				disablemutationobserver: !1
			},
			d = !1,
			p = function() {
				if (d) return d;
				var e = document.createElement("DIV"),
					t = e.style,
					n = navigator.userAgent,
					r = navigator.platform,
					i = {
						haspointerlock: "pointerLockElement" in document || "webkitPointerLockElement" in document ||
							"mozPointerLockElement" in document
					};
				i.isopera = "opera" in window, i.isopera12 = i.isopera && "getUserMedia" in navigator, i.isoperamini =
					"[object OperaMini]" === Object.prototype.toString.call(window.operamini), i.isie = "all" in document &&
					"attachEvent" in e && !i.isopera, i.isieold = i.isie && !("msInterpolationMode" in t), i.isie7 = i.isie && !i.isieold &&
					(!("documentMode" in document) || 7 == document.documentMode), i.isie8 = i.isie && "documentMode" in document &&
					8 == document.documentMode, i.isie9 = i.isie && "performance" in window && 9 == document.documentMode, i.isie10 =
					i.isie && "performance" in window && 10 == document.documentMode, i.isie11 = "msRequestFullscreen" in e && 11 <=
					document.documentMode, i.isieedge12 = navigator.userAgent.match(/Edge\/12\./), i.isieedge = "msOverflowStyle" in
					e, i.ismodernie = i.isie11 || i.isieedge, i.isie9mobile = /iemobile.9/i.test(n), i.isie9mobile && (i.isie9 = !1),
					i.isie7mobile = !i.isie9mobile && i.isie7 && /iemobile/i.test(n), i.ismozilla = "MozAppearance" in t, i.iswebkit =
					"WebkitAppearance" in t, i.ischrome = "chrome" in window, i.ischrome38 = i.ischrome && "touchAction" in t, i.ischrome22 = !
					i.ischrome38 && i.ischrome && i.haspointerlock, i.ischrome26 = !i.ischrome38 && i.ischrome && "transition" in t,
					i.cantouch = "ontouchstart" in document.documentElement || "ontouchstart" in window, i.hasw3ctouch = (window.PointerEvent ||
						!1) && (0 < navigator.MaxTouchPoints || 0 < navigator.msMaxTouchPoints), i.hasmstouch = !i.hasw3ctouch && (
						window.MSPointerEvent || !1), i.ismac = /^mac$/i.test(r), i.isios = i.cantouch && /iphone|ipad|ipod/i.test(r), i
					.isios4 = i.isios && !("seal" in Object), i.isios7 = i.isios && "webkitHidden" in document, i.isios8 = i.isios &&
					"hidden" in document, i.isandroid = /android/i.test(n), i.haseventlistener = "addEventListener" in e, i.trstyle = !
					1, i.hastransform = !1, i.hastranslate3d = !1, i.transitionstyle = !1, i.hastransition = !1, i.transitionend = !1,
					r = ["transform", "msTransform", "webkitTransform", "MozTransform", "OTransform"];
				for (n = 0; n < r.length; n++)
					if (void 0 !== t[r[n]]) {
						i.trstyle = r[n];
						break
					} i.hastransform = !!i.trstyle, i.hastransform && (t[i.trstyle] = "translate3d(1px,2px,3px)", i.hastranslate3d =
					/translate3d/.test(t[i.trstyle])), i.transitionstyle = !1, i.prefixstyle = "", i.transitionend = !1;
				for (var r = "transition webkitTransition msTransition MozTransition OTransition OTransition KhtmlTransition".split(
							" "), o = " -webkit- -ms- -moz- -o- -o -khtml-".split(" "), a =
						"transitionend webkitTransitionEnd msTransitionEnd transitionend otransitionend oTransitionEnd KhtmlTransitionEnd"
						.split(" "), n = 0; n < r.length; n++)
					if (r[n] in t) {
						i.transitionstyle = r[n], i.prefixstyle = o[n], i.transitionend = a[n];
						break
					} i.ischrome26 && (i.prefixstyle = o[1]), i.hastransition = i.transitionstyle;
				e: {
					for (n = ["grab", "-webkit-grab", "-moz-grab"], (i.ischrome && !i.ischrome38 || i.isie) && (n = []), r = 0; r <
						n.length; r++)
						if (o = n[r], t.cursor = o, t.cursor == o) {
							t = o;
							break e
						} t = "url(//patriciaportfolio.googlecode.com/files/openhand.cur),n-resize"
				}
				return i.cursorgrabvalue = t, i.hasmousecapture = "setCapture" in e, i.hasMutationObserver = !1 !== h, d = i
			},
			g = function(a, c) {
				function u() {
					var e = b.doc.css(S.trstyle);
					return e && "matrix" == e.substr(0, 6) ? e.replace(/^.*\((.*)\)$/g, "$1").replace(/px/g, "").split(/, +/) : !1
				}

				function d() {
					var e = b.win;
					if ("zIndex" in e) return e.zIndex();
					for (; 0 < e.length && 9 != e[0].nodeType;) {
						var t = e.css("zIndex");
						if (!isNaN(t) && 0 != t) return parseInt(t);
						e = e.parent()
					}
					return !1
				}

				function g(e, t, n) {
					return t = e.css(t), e = parseFloat(t), isNaN(e) ? (e = E[t] || 0, n = 3 == e ? n ? b.win.outerHeight() - b.win.innerHeight() :
						b.win.outerWidth() - b.win.innerWidth() : 1, b.isie8 && e && (e += 1), n ? e : 0) : e
				}

				function v(e, t, n, r) {
					b._bind(e, t, function(r) {
						r = r ? r : window.event;
						var i = {
							original: r,
							target: r.target || r.srcElement,
							type: "wheel",
							deltaMode: "MozMousePixelScroll" == r.type ? 0 : 1,
							deltaX: 0,
							deltaZ: 0,
							preventDefault: function() {
								return r.preventDefault ? r.preventDefault() : r.returnValue = !1, !1
							},
							stopImmediatePropagation: function() {
								r.stopImmediatePropagation ? r.stopImmediatePropagation() : r.cancelBubble = !0
							}
						};
						return "mousewheel" == t ? (r.wheelDeltaX && (i.deltaX = -.025 * r.wheelDeltaX), r.wheelDeltaY && (i.deltaY = -
							.025 * r.wheelDeltaY), i.deltaY || i.deltaX || (i.deltaY = -.025 * r.wheelDelta)) : i.deltaY = r.detail, n.call(
							e, i)
					}, r)
				}

				function y(e, t, n) {
					var r, i;
					if (0 == e.deltaMode ? (r = -Math.floor(b.opt.mousescrollstep / 54 * e.deltaX), i = -Math.floor(b.opt.mousescrollstep /
							54 * e.deltaY)) : 1 == e.deltaMode && (r = -Math.floor(e.deltaX * b.opt.mousescrollstep), i = -Math.floor(e.deltaY *
							b.opt.mousescrollstep)), t && b.opt.oneaxismousemode && 0 == r && i && (r = i, i = 0, n && (0 > r ? b.getScrollLeft() >=
							b.page.maxw : 0 >= b.getScrollLeft()) && (i = r, r = 0)), b.isrtlmode && (r = -r), r && (b.scrollmom && b.scrollmom
							.stop(), b.lastdeltax += r, b.debounced("mousewheelx", function() {
								var e = b.lastdeltax;
								b.lastdeltax = 0, b.rail.drag || b.doScrollLeftBy(e)
							}, 15)), i) {
						if (b.opt.nativeparentscrolling && n && !b.ispage && !b.zoomactive)
							if (0 > i) {
								if (b.getScrollTop() >= b.page.maxh) return !0
							} else if (0 >= b.getScrollTop()) return !0;
						b.scrollmom && b.scrollmom.stop(), b.lastdeltay += i, b.synched("mousewheely", function() {
							var e = b.lastdeltay;
							b.lastdeltay = 0, b.rail.drag || b.doScrollBy(e)
						}, 15)
					}
					return e.stopImmediatePropagation(), e.preventDefault()
				}
				var b = this;
				if (this.version = "3.6.8", this.name = "nicescroll", this.me = c, this.opt = {
						doc: e("body"),
						win: !1
					}, e.extend(this.opt, f), this.opt.snapbackspeed = 80, a)
					for (var x in b.opt) void 0 !== a[x] && (b.opt[x] = a[x]);
				if (b.opt.disablemutationobserver && (h = !1), this.iddoc = (this.doc = b.opt.doc) && this.doc[0] ? this.doc[0].id ||
					"" : "", this.ispage = /^BODY|HTML/.test(b.opt.win ? b.opt.win[0].nodeName : this.doc[0].nodeName), this.haswrapper = !
					1 !== b.opt.win, this.win = b.opt.win || (this.ispage ? e(window) : this.doc), this.docscroll = this.ispage && !
					this.haswrapper ? e(window) : this.win, this.body = e("body"), this.iframe = this.isfixed = this.viewport = !1,
					this.isiframe = "IFRAME" == this.doc[0].nodeName && "IFRAME" == this.win[0].nodeName, this.istextarea =
					"TEXTAREA" == this.win[0].nodeName, this.forcescreen = !1, this.canshowonmouseevent = "scroll" != b.opt.autohidemode,
					this.page = this.view = this.onzoomout = this.onzoomin = this.onscrollcancel = this.onscrollend = this.onscrollstart =
					this.onclick = this.ongesturezoom = this.onkeypress = this.onmousewheel = this.onmousemove = this.onmouseup =
					this.onmousedown = !1, this.scroll = {
						x: 0,
						y: 0
					}, this.scrollratio = {
						x: 0,
						y: 0
					}, this.cursorheight = 20, this.scrollvaluemax = 0, "auto" == this.opt.rtlmode) {
					x = this.win[0] == window ? this.body : this.win;
					var w = x.css("writing-mode") || x.css("-webkit-writing-mode") || x.css("-ms-writing-mode") || x.css(
						"-moz-writing-mode");
					"horizontal-tb" == w || "lr-tb" == w || "" == w ? (this.isrtlmode = "rtl" == x.css("direction"), this.isvertical = !
						1) : (this.isrtlmode = "vertical-rl" == w || "tb" == w || "tb-rl" == w || "rl-tb" == w, this.isvertical =
						"vertical-rl" == w || "tb" == w || "tb-rl" == w)
				} else this.isrtlmode = !0 === this.opt.rtlmode, this.isvertical = !1;
				this.observerbody = this.observerremover = this.observer = this.scrollmom = this.scrollrunning = !1;
				do this.id = "ascrail" + i++; while (document.getElementById(this.id));
				this.hasmousefocus = this.hasfocus = this.zoomactive = this.zoom = this.selectiondrag = this.cursorfreezed = this.cursor =
					this.rail = !1, this.visibility = !0, this.hidden = this.locked = this.railslocked = !1, this.cursoractive = !0,
					this.wheelprevented = !1, this.overflowx = b.opt.overflowx, this.overflowy = b.opt.overflowy, this.nativescrollingarea = !
					1, this.checkarea = 0, this.events = [], this.saved = {}, this.delaylist = {}, this.synclist = {}, this.lastdeltay =
					this.lastdeltax = 0, this.detected = p();
				var S = e.extend({}, this.detected);
				this.ishwscroll = (this.canhwscroll = S.hastransform && b.opt.hwacceleration) && b.haswrapper, this.hasreversehr =
					this.isrtlmode ? this.isvertical ? !(S.iswebkit || S.isie || S.isie11) : !(S.iswebkit || S.isie && !S.isie10 && !
						S.isie11) : !1, this.istouchcapable = !1, S.cantouch || !S.hasw3ctouch && !S.hasmstouch ? !S.cantouch || S.isios ||
					S.isandroid || !S.iswebkit && !S.ismozilla || (this.istouchcapable = !0) : this.istouchcapable = !0, b.opt.enablemouselockapi ||
					(S.hasmousecapture = !1, S.haspointerlock = !1), this.debounced = function(e, t, n) {
						b && (b.delaylist[e] || (t.call(b), b.delaylist[e] = {
							h: s(function() {
								b.delaylist[e].fn.call(b), b.delaylist[e] = !1
							}, n)
						}), b.delaylist[e].fn = t)
					};
				var _ = !1;
				this.synched = function(e, t) {
					return b.synclist[e] = t,
						function() {
							_ || (s(function() {
								if (b) {
									_ = !1;
									for (var e in b.synclist) {
										var t = b.synclist[e];
										t && t.call(b), b.synclist[e] = !1
									}
								}
							}), _ = !0)
						}(), e
				}, this.unsynched = function(e) {
					b.synclist[e] && (b.synclist[e] = !1)
				}, this.css = function(e, t) {
					for (var n in t) b.saved.css.push([e, n, e.css(n)]), e.css(n, t[n])
				}, this.scrollTop = function(e) {
					return void 0 === e ? b.getScrollTop() : b.setScrollTop(e)
				}, this.scrollLeft = function(e) {
					return void 0 === e ? b.getScrollLeft() : b.setScrollLeft(e)
				};
				var T = function(e, t, n, r, i, o, a) {
					this.st = e, this.ed = t, this.spd = n, this.p1 = r || 0, this.p2 = i || 1, this.p3 = o || 0, this.p4 = a || 1,
						this.ts = (new Date).getTime(), this.df = this.ed - this.st
				};
				if (T.prototype = {
						B2: function(e) {
							return 3 * e * e * (1 - e)
						},
						B3: function(e) {
							return 3 * e * (1 - e) * (1 - e)
						},
						B4: function(e) {
							return (1 - e) * (1 - e) * (1 - e)
						},
						getNow: function() {
							var e = 1 - ((new Date).getTime() - this.ts) / this.spd,
								t = this.B2(e) + this.B3(e) + this.B4(e);
							return 0 > e ? this.ed : this.st + Math.round(this.df * t)
						},
						update: function(e, t) {
							return this.st = this.getNow(), this.ed = e, this.spd = t, this.ts = (new Date).getTime(), this.df = this.ed -
								this.st, this
						}
					}, this.ishwscroll) {
					this.doc.translate = {
							x: 0,
							y: 0,
							tx: "0px",
							ty: "0px"
						}, S.hastranslate3d && S.isios && this.doc.css("-webkit-backface-visibility", "hidden"), this.getScrollTop =
						function(e) {
							if (!e) {
								if (e = u()) return 16 == e.length ? -e[13] : -e[5];
								if (b.timerscroll && b.timerscroll.bz) return b.timerscroll.bz.getNow()
							}
							return b.doc.translate.y
						}, this.getScrollLeft = function(e) {
							if (!e) {
								if (e = u()) return 16 == e.length ? -e[12] : -e[4];
								if (b.timerscroll && b.timerscroll.bh) return b.timerscroll.bh.getNow()
							}
							return b.doc.translate.x
						}, this.notifyScrollEvent = function(e) {
							var t = document.createEvent("UIEvents");
							t.initUIEvent("scroll", !1, !0, window, 1), t.niceevent = !0, e.dispatchEvent(t)
						};
					var C = this.isrtlmode ? 1 : -1;
					S.hastranslate3d && b.opt.enabletranslate3d ? (this.setScrollTop = function(e, t) {
						b.doc.translate.y = e, b.doc.translate.ty = -1 * e + "px", b.doc.css(S.trstyle, "translate3d(" + b.doc.translate
							.tx + "," + b.doc.translate.ty + ",0px)"), t || b.notifyScrollEvent(b.win[0])
					}, this.setScrollLeft = function(e, t) {
						b.doc.translate.x = e, b.doc.translate.tx = e * C + "px", b.doc.css(S.trstyle, "translate3d(" + b.doc.translate
							.tx + "," + b.doc.translate.ty + ",0px)"), t || b.notifyScrollEvent(b.win[0])
					}) : (this.setScrollTop = function(e, t) {
						b.doc.translate.y = e, b.doc.translate.ty = -1 * e + "px", b.doc.css(S.trstyle, "translate(" + b.doc.translate
							.tx + "," + b.doc.translate.ty + ")"), t || b.notifyScrollEvent(b.win[0])
					}, this.setScrollLeft = function(e, t) {
						b.doc.translate.x = e, b.doc.translate.tx = e * C + "px", b.doc.css(S.trstyle, "translate(" + b.doc.translate.tx +
							"," + b.doc.translate.ty + ")"), t || b.notifyScrollEvent(b.win[0])
					})
				} else this.getScrollTop = function() {
					return b.docscroll.scrollTop()
				}, this.setScrollTop = function(e) {
					return setTimeout(function() {
						b && b.docscroll.scrollTop(e)
					}, 1)
				}, this.getScrollLeft = function() {
					return b.hasreversehr ? b.detected.ismozilla ? b.page.maxw - Math.abs(b.docscroll.scrollLeft()) : b.page.maxw -
						b.docscroll.scrollLeft() : b.docscroll.scrollLeft()
				}, this.setScrollLeft = function(e) {
					return setTimeout(function() {
						return b ? (b.hasreversehr && (e = b.detected.ismozilla ? -(b.page.maxw - e) : b.page.maxw - e), b.docscroll.scrollLeft(
							e)) : void 0
					}, 1)
				};
				this.getTarget = function(e) {
					return e ? e.target ? e.target : e.srcElement ? e.srcElement : !1 : !1
				}, this.hasParent = function(e, t) {
					if (!e) return !1;
					for (var n = e.target || e.srcElement || e || !1; n && n.id != t;) n = n.parentNode || !1;
					return !1 !== n
				};
				var E = {
					thin: 1,
					medium: 3,
					thick: 5
				};
				this.getDocumentScrollOffset = function() {
					return {
						top: window.pageYOffset || document.documentElement.scrollTop,
						left: window.pageXOffset || document.documentElement.scrollLeft
					}
				}, this.getOffset = function() {
					if (b.isfixed) {
						var e = b.win.offset(),
							t = b.getDocumentScrollOffset();
						return e.top -= t.top, e.left -= t.left, e
					}
					return e = b.win.offset(), b.viewport ? (t = b.viewport.offset(), {
						top: e.top - t.top,
						left: e.left - t.left
					}) : e
				}, this.updateScrollBar = function(e) {
					var t, n, r;
					if (b.ishwscroll) b.rail.css({
						height: b.win.innerHeight() - (b.opt.railpadding.top + b.opt.railpadding.bottom)
					}), b.railh && b.railh.css({
						width: b.win.innerWidth() - (b.opt.railpadding.left + b.opt.railpadding.right)
					});
					else {
						var i = b.getOffset();
						t = i.top, n = i.left - (b.opt.railpadding.left + b.opt.railpadding.right), t += g(b.win, "border-top-width", !
								0), n += b.rail.align ? b.win.outerWidth() - g(b.win, "border-right-width") - b.rail.width : g(b.win,
								"border-left-width"), (r = b.opt.railoffset) && (r.top && (t += r.top), r.left && (n += r.left)), b.railslocked ||
							b.rail.css({
								top: t,
								left: n,
								height: (e ? e.h : b.win.innerHeight()) - (b.opt.railpadding.top + b.opt.railpadding.bottom)
							}), b.zoom && b.zoom.css({
								top: t + 1,
								left: 1 == b.rail.align ? n - 20 : n + b.rail.width + 4
							}), b.railh && !b.railslocked && (t = i.top, n = i.left, (r = b.opt.railhoffset) && (r.top && (t += r.top), r.left &&
									(n += r.left)), e = b.railh.align ? t + g(b.win, "border-top-width", !0) + b.win.innerHeight() - b.railh.height :
								t + g(b.win, "border-top-width", !0), n += g(b.win, "border-left-width"), b.railh.css({
									top: e - (b.opt.railpadding.top + b.opt.railpadding.bottom),
									left: n,
									width: b.railh.width
								}))
					}
				}, this.doRailClick = function(e, t, n) {
					var r;
					b.railslocked || (b.cancelEvent(e), t ? (t = n ? b.doScrollLeft : b.doScrollTop, r = n ? (e.pageX - b.railh.offset()
							.left - b.cursorwidth / 2) * b.scrollratio.x : (e.pageY - b.rail.offset().top - b.cursorheight / 2) * b.scrollratio
						.y, t(r)) : (t = n ? b.doScrollLeftBy : b.doScrollBy, r = n ? b.scroll.x : b.scroll.y, e = n ? e.pageX - b.railh
						.offset().left : e.pageY - b.rail.offset().top, n = n ? b.view.w : b.view.h, t(r >= e ? n : -n)))
				}, b.hasanimationframe = s, b.hascancelanimationframe = l, b.hasanimationframe ? b.hascancelanimationframe || (l =
					function() {
						b.cancelAnimationFrame = !0
					}) : (s = function(e) {
					return setTimeout(e, 15 - Math.floor(+new Date / 1e3) % 16)
				}, l = clearTimeout), this.init = function() {
					if (b.saved.css = [], S.isie7mobile || S.isoperamini) return !0;
					S.hasmstouch && b.css(b.ispage ? e("html") : b.win, {
						_touchaction: "none"
					});
					var i = S.ismodernie || S.isie10 ? {
						"-ms-overflow-style": "none"
					} : {
						"overflow-y": "hidden"
					};
					if (b.zindex = "auto", b.zindex = b.ispage || "auto" != b.opt.zindex ? b.opt.zindex : d() || "auto", !b.ispage &&
						"auto" != b.zindex && b.zindex > o && (o = b.zindex), b.isie && 0 == b.zindex && "auto" == b.opt.zindex && (b.zindex =
							"auto"), !b.ispage || !S.cantouch && !S.isieold && !S.isie9mobile) {
						var a = b.docscroll;
						b.ispage && (a = b.haswrapper ? b.win : b.doc), S.isie9mobile || b.css(a, i), b.ispage && S.isie7 && ("BODY" ==
							b.doc[0].nodeName ? b.css(e("html"), {
								"overflow-y": "hidden"
							}) : "HTML" == b.doc[0].nodeName && b.css(e("body"), i)), !S.isios || b.ispage || b.haswrapper || b.css(e(
							"body"), {
							"-webkit-overflow-scrolling": "touch"
						});
						var s = e(document.createElement("div"));
						s.css({
							position: "relative",
							top: 0,
							"float": "right",
							width: b.opt.cursorwidth,
							height: 0,
							"background-color": b.opt.cursorcolor,
							border: b.opt.cursorborder,
							"background-clip": "padding-box",
							"-webkit-border-radius": b.opt.cursorborderradius,
							"-moz-border-radius": b.opt.cursorborderradius,
							"border-radius": b.opt.cursorborderradius
						}), s.hborder = parseFloat(s.outerHeight() - s.innerHeight()), s.addClass("nicescroll-cursors"), b.cursor = s;
						var l = e(document.createElement("div"));
						l.attr("id", b.id), l.addClass("nicescroll-rails nicescroll-rails-vr");
						var c, u, f, p = ["left", "right", "top", "bottom"];
						for (f in p) u = p[f], (c = b.opt.railpadding[u]) ? l.css("padding-" + u, c + "px") : b.opt.railpadding[u] = 0;
						l.append(s), l.width = Math.max(parseFloat(b.opt.cursorwidth), s.outerWidth()), l.css({
								width: l.width + "px",
								zIndex: b.zindex,
								background: b.opt.background,
								cursor: "default"
							}), l.visibility = !0, l.scrollable = !0, l.align = "left" == b.opt.railalign ? 0 : 1, b.rail = l, s = b.rail.drag = !
							1, !b.opt.boxzoom || b.ispage || S.isieold || (s = document.createElement("div"), b.bind(s, "click", b.doZoom),
								b.bind(s, "mouseenter", function() {
									b.zoom.css("opacity", b.opt.cursoropacitymax)
								}), b.bind(s, "mouseleave", function() {
									b.zoom.css("opacity", b.opt.cursoropacitymin)
								}), b.zoom = e(s), b.zoom.css({
									cursor: "pointer",
									zIndex: b.zindex,
									backgroundImage: "url(" + b.opt.scriptpath + "zoomico.png)",
									height: 18,
									width: 18,
									backgroundPosition: "0px 0px"
								}), b.opt.dblclickzoom && b.bind(b.win, "dblclick", b.doZoom), S.cantouch && b.opt.gesturezoom && (b.ongesturezoom =
									function(e) {
										return 1.5 < e.scale && b.doZoomIn(e), .8 > e.scale && b.doZoomOut(e), b.cancelEvent(e)
									}, b.bind(b.win, "gestureend", b.ongesturezoom))), b.railh = !1;
						var g;
						if (b.opt.horizrailenabled && (b.css(a, {
									overflowX: "hidden"
								}), s = e(document.createElement("div")), s.css({
									position: "absolute",
									top: 0,
									height: b.opt.cursorwidth,
									width: 0,
									backgroundColor: b.opt.cursorcolor,
									border: b.opt.cursorborder,
									backgroundClip: "padding-box",
									"-webkit-border-radius": b.opt.cursorborderradius,
									"-moz-border-radius": b.opt.cursorborderradius,
									"border-radius": b.opt.cursorborderradius
								}), S.isieold && s.css("overflow", "hidden"), s.wborder = parseFloat(s.outerWidth() - s.innerWidth()), s.addClass(
									"nicescroll-cursors"), b.cursorh = s, g = e(document.createElement("div")), g.attr("id", b.id + "-hr"), g.addClass(
									"nicescroll-rails nicescroll-rails-hr"), g.height = Math.max(parseFloat(b.opt.cursorwidth), s.outerHeight()),
								g.css({
									height: g.height + "px",
									zIndex: b.zindex,
									background: b.opt.background
								}), g.append(s), g.visibility = !0, g.scrollable = !0, g.align = "top" == b.opt.railvalign ? 0 : 1, b.railh =
								g, b.railh.drag = !1), b.ispage ? (l.css({
								position: "fixed",
								top: 0,
								height: "100%"
							}), l.align ? l.css({
								right: 0
							}) : l.css({
								left: 0
							}), b.body.append(l), b.railh && (g.css({
								position: "fixed",
								left: 0,
								width: "100%"
							}), g.align ? g.css({
								bottom: 0
							}) : g.css({
								top: 0
							}), b.body.append(g))) : (b.ishwscroll ? ("static" == b.win.css("position") && b.css(b.win, {
									position: "relative"
								}), a = "HTML" == b.win[0].nodeName ? b.body : b.win, e(a).scrollTop(0).scrollLeft(0), b.zoom && (b.zoom.css({
									position: "absolute",
									top: 1,
									right: 0,
									"margin-right": l.width + 4
								}), a.append(b.zoom)), l.css({
									position: "absolute",
									top: 0
								}), l.align ? l.css({
									right: 0
								}) : l.css({
									left: 0
								}), a.append(l), g && (g.css({
									position: "absolute",
									left: 0,
									bottom: 0
								}), g.align ? g.css({
									bottom: 0
								}) : g.css({
									top: 0
								}), a.append(g))) : (b.isfixed = "fixed" == b.win.css("position"), a = b.isfixed ? "fixed" : "absolute", b.isfixed ||
									(b.viewport = b.getViewport(b.win[0])), b.viewport && (b.body = b.viewport, 0 == /fixed|absolute/.test(b.viewport
										.css("position")) && b.css(b.viewport, {
										position: "relative"
									})), l.css({
										position: a
									}), b.zoom && b.zoom.css({
										position: a
									}), b.updateScrollBar(), b.body.append(l), b.zoom && b.body.append(b.zoom), b.railh && (g.css({
										position: a
									}), b.body.append(g))), S.isios && b.css(b.win, {
									"-webkit-tap-highlight-color": "rgba(0,0,0,0)",
									"-webkit-touch-callout": "none"
								}), S.isie && b.opt.disableoutline && b.win.attr("hideFocus", "true"), S.iswebkit && b.opt.disableoutline &&
								b.win.css("outline", "none")), !1 === b.opt.autohidemode ? (b.autohidedom = !1, b.rail.css({
								opacity: b.opt.cursoropacitymax
							}), b.railh && b.railh.css({
								opacity: b.opt.cursoropacitymax
							})) : !0 === b.opt.autohidemode || "leave" === b.opt.autohidemode ? (b.autohidedom = e().add(b.rail), S.isie8 &&
								(b.autohidedom = b.autohidedom.add(b.cursor)), b.railh && (b.autohidedom = b.autohidedom.add(b.railh)), b.railh &&
								S.isie8 && (b.autohidedom = b.autohidedom.add(b.cursorh))) : "scroll" == b.opt.autohidemode ? (b.autohidedom =
								e().add(b.rail), b.railh && (b.autohidedom = b.autohidedom.add(b.railh))) : "cursor" == b.opt.autohidemode ?
							(b.autohidedom = e().add(b.cursor), b.railh && (b.autohidedom = b.autohidedom.add(b.cursorh))) : "hidden" == b
							.opt.autohidemode && (b.autohidedom = !1, b.hide(), b.railslocked = !1), S.isie9mobile) b.scrollmom = new m(b),
							b.onmangotouch = function() {
								var e = b.getScrollTop(),
									t = b.getScrollLeft();
								if (e == b.scrollmom.lastscrolly && t == b.scrollmom.lastscrollx) return !0;
								var n = e - b.mangotouch.sy,
									r = t - b.mangotouch.sx;
								if (0 != Math.round(Math.sqrt(Math.pow(r, 2) + Math.pow(n, 2)))) {
									var i = 0 > n ? -1 : 1,
										o = 0 > r ? -1 : 1,
										a = +new Date;
									b.mangotouch.lazy && clearTimeout(b.mangotouch.lazy), 80 < a - b.mangotouch.tm || b.mangotouch.dry != i || b
										.mangotouch.drx != o ? (b.scrollmom.stop(), b.scrollmom.reset(t, e), b.mangotouch.sy = e, b.mangotouch.ly =
											e, b.mangotouch.sx = t, b.mangotouch.lx = t, b.mangotouch.dry = i, b.mangotouch.drx = o, b.mangotouch.tm =
											a) : (b.scrollmom.stop(), b.scrollmom.update(b.mangotouch.sx - r, b.mangotouch.sy - n), b.mangotouch.tm =
											a, n = Math.max(Math.abs(b.mangotouch.ly - e), Math.abs(b.mangotouch.lx - t)), b.mangotouch.ly = e, b.mangotouch
											.lx = t, n > 2 && (b.mangotouch.lazy = setTimeout(function() {
												b.mangotouch.lazy = !1, b.mangotouch.dry = 0, b.mangotouch.drx = 0, b.mangotouch.tm = 0, b.scrollmom.doMomentum(
													30)
											}, 100)))
								}
							}, l = b.getScrollTop(), g = b.getScrollLeft(), b.mangotouch = {
								sy: l,
								ly: l,
								dry: 0,
								sx: g,
								lx: g,
								drx: 0,
								lazy: !1,
								tm: 0
							}, b.bind(b.docscroll, "scroll", b.onmangotouch);
						else {
							if (S.cantouch || b.istouchcapable || b.opt.touchbehavior || S.hasmstouch) {
								b.scrollmom = new m(b), b.ontouchstart = function(t) {
									if (t.pointerType && 2 != t.pointerType && "touch" != t.pointerType) return !1;
									if (b.hasmoving = !1, !b.railslocked) {
										var n;
										if (S.hasmstouch)
											for (n = t.target ? t.target : !1; n;) {
												var r = e(n).getNiceScroll();
												if (0 < r.length && r[0].me == b.me) break;
												if (0 < r.length) return !1;
												if ("DIV" == n.nodeName && n.id == b.id) break;
												n = n.parentNode ? n.parentNode : !1
											}
										if (b.cancelScroll(), (n = b.getTarget(t)) && /INPUT/i.test(n.nodeName) && /range/i.test(n.type)) return b
											.stopPropagation(t);
										if (!("clientX" in t) && "changedTouches" in t && (t.clientX = t.changedTouches[0].clientX, t.clientY = t.changedTouches[
												0].clientY), b.forcescreen && (r = t, t = {
												original: t.original ? t.original : t
											}, t.clientX = r.screenX, t.clientY = r.screenY), b.rail.drag = {
												x: t.clientX,
												y: t.clientY,
												sx: b.scroll.x,
												sy: b.scroll.y,
												st: b.getScrollTop(),
												sl: b.getScrollLeft(),
												pt: 2,
												dl: !1
											}, b.ispage || !b.opt.directionlockdeadzone) b.rail.drag.dl = "f";
										else {
											var r = e(window).width(),
												i = e(window).height(),
												i = Math.max(0, Math.max(document.body.scrollHeight, document.documentElement.scrollHeight) - i),
												r = Math.max(0, Math.max(document.body.scrollWidth, document.documentElement.scrollWidth) - r);
											b.rail.drag.ck = !b.rail.scrollable && b.railh.scrollable ? i > 0 ? "v" : !1 : b.rail.scrollable && !b.railh
												.scrollable && r > 0 ? "h" : !1, b.rail.drag.ck || (b.rail.drag.dl = "f")
										}
										if (b.opt.touchbehavior && b.isiframe && S.isie && (r = b.win.position(), b.rail.drag.x += r.left, b.rail.drag
												.y += r.top), b.hasmoving = !1, b.lastmouseup = !1, b.scrollmom.reset(t.clientX, t.clientY), !S.cantouch &&
											!this.istouchcapable && !t.pointerType) {
											if (!n || !/INPUT|SELECT|TEXTAREA/i.test(n.nodeName)) return !b.ispage && S.hasmousecapture && n.setCapture(),
												b.opt.touchbehavior ? (n.onclick && !n._onclick && (n._onclick = n.onclick, n.onclick = function(e) {
													return b.hasmoving ? !1 : void n._onclick.call(this, e)
												}), b.cancelEvent(t)) : b.stopPropagation(t);
											/SUBMIT|CANCEL|BUTTON/i.test(e(n).attr("type")) && (pc = {
												tg: n,
												click: !1
											}, b.preventclick = pc)
										}
									}
								}, b.ontouchend = function(e) {
									if (!b.rail.drag) return !0;
									if (2 == b.rail.drag.pt) {
										if (e.pointerType && 2 != e.pointerType && "touch" != e.pointerType) return !1;
										if (b.scrollmom.doMomentum(), b.rail.drag = !1, b.hasmoving && (b.lastmouseup = !0, b.hideCursor(), S.hasmousecapture &&
												document.releaseCapture(), !S.cantouch)) return b.cancelEvent(e)
									} else if (1 == b.rail.drag.pt) return b.onmouseup(e)
								};
								var v = b.opt.touchbehavior && b.isiframe && !S.hasmousecapture;
								b.ontouchmove = function(t, n) {
									if (!b.rail.drag || t.targetTouches && b.opt.preventmultitouchscrolling && 1 < t.targetTouches.length || t.pointerType &&
										2 != t.pointerType && "touch" != t.pointerType) return !1;
									if (2 == b.rail.drag.pt) {
										if (S.cantouch && S.isios && void 0 === t.original) return !0;
										if (b.hasmoving = !0, b.preventclick && !b.preventclick.click && (b.preventclick.click = b.preventclick.tg
												.onclick || !1, b.preventclick.tg.onclick = b.onpreventclick), t = e.extend({
												original: t
											}, t), "changedTouches" in t && (t.clientX = t.changedTouches[0].clientX, t.clientY = t.changedTouches[0]
												.clientY), b.forcescreen) {
											var r = t;
											t = {
												original: t.original ? t.original : t
											}, t.clientX = r.screenX, t.clientY = r.screenY
										}
										var i, r = i = 0;
										v && !n && (i = b.win.position(), r = -i.left, i = -i.top);
										var o = t.clientY + i;
										i = o - b.rail.drag.y;
										var a = t.clientX + r,
											s = a - b.rail.drag.x,
											l = b.rail.drag.st - i;
										b.ishwscroll && b.opt.bouncescroll ? 0 > l ? l = Math.round(l / 2) : l > b.page.maxh && (l = b.page.maxh +
											Math.round((l - b.page.maxh) / 2)) : (0 > l && (o = l = 0), l > b.page.maxh && (l = b.page.maxh, o = 0));
										var c;
										if (b.railh && b.railh.scrollable && (c = b.isrtlmode ? s - b.rail.drag.sl : b.rail.drag.sl - s, b.ishwscroll &&
												b.opt.bouncescroll ? 0 > c ? c = Math.round(c / 2) : c > b.page.maxw && (c = b.page.maxw + Math.round((c -
													b.page.maxw) / 2)) : (0 > c && (a = c = 0), c > b.page.maxw && (c = b.page.maxw, a = 0))), r = !1, b.rail
											.drag.dl) r = !0, "v" == b.rail.drag.dl ? c = b.rail.drag.sl : "h" == b.rail.drag.dl && (l = b.rail.drag.st);
										else {
											i = Math.abs(i);
											var s = Math.abs(s),
												u = b.opt.directionlockdeadzone;
											if ("v" == b.rail.drag.ck) {
												if (i > u && .3 * i >= s) return b.rail.drag = !1, !0;
												s > u && (b.rail.drag.dl = "f", e("body").scrollTop(e("body").scrollTop()))
											} else if ("h" == b.rail.drag.ck) {
												if (s > u && .3 * s >= i) return b.rail.drag = !1, !0;
												i > u && (b.rail.drag.dl = "f", e("body").scrollLeft(e("body").scrollLeft()))
											}
										}
										if (b.synched("touchmove", function() {
												b.rail.drag && 2 == b.rail.drag.pt && (b.prepareTransition && b.prepareTransition(0), b.rail.scrollable &&
													b.setScrollTop(l), b.scrollmom.update(a, o), b.railh && b.railh.scrollable ? (b.setScrollLeft(c), b.showCursor(
														l, c)) : b.showCursor(l), S.isie10 && document.selection.clear())
											}), S.ischrome && b.istouchcapable && (r = !1), r) return b.cancelEvent(t)
									} else if (1 == b.rail.drag.pt) return b.onmousemove(t)
								}
							}
							if (b.onmousedown = function(e, t) {
									if (!b.rail.drag || 1 == b.rail.drag.pt) {
										if (b.railslocked) return b.cancelEvent(e);
										b.cancelScroll(), b.rail.drag = {
											x: e.clientX,
											y: e.clientY,
											sx: b.scroll.x,
											sy: b.scroll.y,
											pt: 1,
											hr: !!t
										};
										var n = b.getTarget(e);
										return !b.ispage && S.hasmousecapture && n.setCapture(), b.isiframe && !S.hasmousecapture && (b.saved.csspointerevents =
											b.doc.css("pointer-events"), b.css(b.doc, {
												"pointer-events": "none"
											})), b.hasmoving = !1, b.cancelEvent(e)
									}
								}, b.onmouseup = function(e) {
									return b.rail.drag ? 1 != b.rail.drag.pt ? !0 : (S.hasmousecapture && document.releaseCapture(), b.isiframe &&
										!S.hasmousecapture && b.doc.css("pointer-events", b.saved.csspointerevents), b.rail.drag = !1, b.hasmoving &&
										b.triggerScrollEnd(), b.cancelEvent(e)) : void 0
								}, b.onmousemove = function(e) {
									if (b.rail.drag) {
										if (1 == b.rail.drag.pt) {
											if (S.ischrome && 0 == e.which) return b.onmouseup(e);
											if (b.cursorfreezed = !0, b.hasmoving = !0, b.rail.drag.hr) {
												b.scroll.x = b.rail.drag.sx + (e.clientX - b.rail.drag.x), 0 > b.scroll.x && (b.scroll.x = 0);
												var t = b.scrollvaluemaxw;
												b.scroll.x > t && (b.scroll.x = t)
											} else b.scroll.y = b.rail.drag.sy + (e.clientY - b.rail.drag.y), 0 > b.scroll.y && (b.scroll.y = 0), t =
												b.scrollvaluemax, b.scroll.y > t && (b.scroll.y = t);
											return b.synched("mousemove", function() {
												b.rail.drag && 1 == b.rail.drag.pt && (b.showCursor(), b.rail.drag.hr ? b.hasreversehr ? b.doScrollLeft(
													b.scrollvaluemaxw - Math.round(b.scroll.x * b.scrollratio.x), b.opt.cursordragspeed) : b.doScrollLeft(
													Math.round(b.scroll.x * b.scrollratio.x), b.opt.cursordragspeed) : b.doScrollTop(Math.round(b.scroll
													.y * b.scrollratio.y), b.opt.cursordragspeed))
											}), b.cancelEvent(e)
										}
									} else b.checkarea = 0
								}, S.cantouch || b.opt.touchbehavior) b.onpreventclick = function(e) {
								return b.preventclick ? (b.preventclick.tg.onclick = b.preventclick.click, b.preventclick = !1, b.cancelEvent(
									e)) : void 0
							}, b.bind(b.win, "mousedown", b.ontouchstart), b.onclick = S.isios ? !1 : function(e) {
								return b.lastmouseup ? (b.lastmouseup = !1, b.cancelEvent(e)) : !0
							}, b.opt.grabcursorenabled && S.cursorgrabvalue && (b.css(b.ispage ? b.doc : b.win, {
								cursor: S.cursorgrabvalue
							}), b.css(b.rail, {
								cursor: S.cursorgrabvalue
							}));
							else {
								var y = function(e) {
									if (b.selectiondrag) {
										if (e) {
											var t = b.win.outerHeight();
											e = e.pageY - b.selectiondrag.top, e > 0 && t > e && (e = 0), e >= t && (e -= t), b.selectiondrag.df = e
										}
										0 != b.selectiondrag.df && (b.doScrollBy(2 * -Math.floor(b.selectiondrag.df / 6)), b.debounced(
											"doselectionscroll",
											function() {
												y()
											}, 50))
									}
								};
								b.hasTextSelected = "getSelection" in document ? function() {
									return 0 < document.getSelection().rangeCount
								} : "selection" in document ? function() {
									return "None" != document.selection.type
								} : function() {
									return !1
								}, b.onselectionstart = function(e) {
									b.ispage || (b.selectiondrag = b.win.offset())
								}, b.onselectionend = function(e) {
									b.selectiondrag = !1
								}, b.onselectiondrag = function(e) {
									b.selectiondrag && b.hasTextSelected() && b.debounced("selectionscroll", function() {
										y(e)
									}, 250)
								}
							}
							S.hasw3ctouch ? (b.css(b.rail, {
									"touch-action": "none"
								}), b.css(b.cursor, {
									"touch-action": "none"
								}), b.bind(b.win, "pointerdown", b.ontouchstart), b.bind(document, "pointerup", b.ontouchend), b.bind(
									document, "pointermove", b.ontouchmove)) : S.hasmstouch ? (b.css(b.rail, {
									"-ms-touch-action": "none"
								}), b.css(b.cursor, {
									"-ms-touch-action": "none"
								}), b.bind(b.win, "MSPointerDown", b.ontouchstart), b.bind(document, "MSPointerUp", b.ontouchend), b.bind(
									document, "MSPointerMove", b.ontouchmove), b.bind(b.cursor, "MSGestureHold", function(e) {
									e.preventDefault()
								}), b.bind(b.cursor, "contextmenu", function(e) {
									e.preventDefault()
								})) : this.istouchcapable && (b.bind(b.win, "touchstart", b.ontouchstart), b.bind(document, "touchend", b.ontouchend),
									b.bind(document, "touchcancel", b.ontouchend), b.bind(document, "touchmove", b.ontouchmove)), (b.opt.cursordragontouch ||
									!S.cantouch && !b.opt.touchbehavior) && (b.rail.css({
									cursor: "default"
								}), b.railh && b.railh.css({
									cursor: "default"
								}), b.jqbind(b.rail, "mouseenter", function() {
									return b.ispage || b.win.is(":visible") ? (b.canshowonmouseevent && b.showCursor(), void(b.rail.active = !
										0)) : !1
								}), b.jqbind(b.rail, "mouseleave", function() {
									b.rail.active = !1, b.rail.drag || b.hideCursor()
								}), b.opt.sensitiverail && (b.bind(b.rail, "click", function(e) {
									b.doRailClick(e, !1, !1)
								}), b.bind(b.rail, "dblclick", function(e) {
									b.doRailClick(e, !0, !1)
								}), b.bind(b.cursor, "click", function(e) {
									b.cancelEvent(e)
								}), b.bind(b.cursor, "dblclick", function(e) {
									b.cancelEvent(e)
								})), b.railh && (b.jqbind(b.railh, "mouseenter", function() {
									return b.ispage || b.win.is(":visible") ? (b.canshowonmouseevent && b.showCursor(), void(b.rail.active = !
										0)) : !1
								}), b.jqbind(b.railh, "mouseleave", function() {
									b.rail.active = !1, b.rail.drag || b.hideCursor()
								}), b.opt.sensitiverail && (b.bind(b.railh, "click", function(e) {
									b.doRailClick(e, !1, !0)
								}), b.bind(b.railh, "dblclick", function(e) {
									b.doRailClick(e, !0, !0)
								}), b.bind(b.cursorh, "click", function(e) {
									b.cancelEvent(e)
								}), b.bind(b.cursorh, "dblclick", function(e) {
									b.cancelEvent(e)
								})))), S.cantouch || b.opt.touchbehavior ? (b.bind(S.hasmousecapture ? b.win : document, "mouseup", b.ontouchend),
									b.bind(document, "mousemove", b.ontouchmove), b.onclick && b.bind(document, "click", b.onclick), b.opt.cursordragontouch ?
									(b.bind(b.cursor, "mousedown", b.onmousedown), b.bind(b.cursor, "mouseup", b.onmouseup), b.cursorh && b.bind(
										b.cursorh, "mousedown",
										function(e) {
											b.onmousedown(e, !0)
										}), b.cursorh && b.bind(b.cursorh, "mouseup", b.onmouseup)) : (b.bind(b.rail, "mousedown", function(e) {
										e.preventDefault()
									}), b.railh && b.bind(b.railh, "mousedown", function(e) {
										e.preventDefault()
									}))) : (b.bind(S.hasmousecapture ? b.win : document, "mouseup", b.onmouseup), b.bind(document, "mousemove",
										b.onmousemove), b.onclick && b.bind(document, "click", b.onclick), b.bind(b.cursor, "mousedown", b.onmousedown),
									b.bind(b.cursor, "mouseup", b.onmouseup), b.railh && (b.bind(b.cursorh, "mousedown", function(e) {
										b.onmousedown(e, !0)
									}), b.bind(b.cursorh, "mouseup", b.onmouseup)), !b.ispage && b.opt.enablescrollonselection && (b.bind(b.win[
										0], "mousedown", b.onselectionstart), b.bind(document, "mouseup", b.onselectionend), b.bind(b.cursor,
										"mouseup", b.onselectionend), b.cursorh && b.bind(b.cursorh, "mouseup", b.onselectionend), b.bind(document,
										"mousemove", b.onselectiondrag)), b.zoom && (b.jqbind(b.zoom, "mouseenter", function() {
										b.canshowonmouseevent && b.showCursor(), b.rail.active = !0
									}), b.jqbind(b.zoom, "mouseleave", function() {
										b.rail.active = !1, b.rail.drag || b.hideCursor()
									}))), b.opt.enablemousewheel && (b.isiframe || b.mousewheel(S.isie && b.ispage ? document : b.win, b.onmousewheel),
									b.mousewheel(b.rail, b.onmousewheel), b.railh && b.mousewheel(b.railh, b.onmousewheelhr)), b.ispage || S.cantouch ||
								/HTML|^BODY/.test(b.win[0].nodeName) || (b.win.attr("tabindex") || b.win.attr({
									tabindex: r++
								}), b.jqbind(b.win, "focus", function(e) {
									t = b.getTarget(e).id || !0, b.hasfocus = !0, b.canshowonmouseevent && b.noticeCursor()
								}), b.jqbind(b.win, "blur", function(e) {
									t = !1, b.hasfocus = !1
								}), b.jqbind(b.win, "mouseenter", function(e) {
									n = b.getTarget(e).id || !0, b.hasmousefocus = !0, b.canshowonmouseevent && b.noticeCursor()
								}), b.jqbind(b.win, "mouseleave", function() {
									n = !1, b.hasmousefocus = !1, b.rail.drag || b.hideCursor()
								}))
						}
						if (b.onkeypress = function(r) {
								if (b.railslocked && 0 == b.page.maxh) return !0;
								r = r ? r : window.e;
								var i = b.getTarget(r);
								if (i && /INPUT|TEXTAREA|SELECT|OPTION/.test(i.nodeName) && (!i.getAttribute("type") && !i.type || !
										/submit|button|cancel/i.tp) || e(i).attr("contenteditable")) return !0;
								if (b.hasfocus || b.hasmousefocus && !t || b.ispage && !t && !n) {
									if (i = r.keyCode, b.railslocked && 27 != i) return b.cancelEvent(r);
									var o = r.ctrlKey || !1,
										a = r.shiftKey || !1,
										s = !1;
									switch (i) {
										case 38:
										case 63233:
											b.doScrollBy(72), s = !0;
											break;
										case 40:
										case 63235:
											b.doScrollBy(-72), s = !0;
											break;
										case 37:
										case 63232:
											b.railh && (o ? b.doScrollLeft(0) : b.doScrollLeftBy(72), s = !0);
											break;
										case 39:
										case 63234:
											b.railh && (o ? b.doScrollLeft(b.page.maxw) : b.doScrollLeftBy(-72), s = !0);
											break;
										case 33:
										case 63276:
											b.doScrollBy(b.view.h), s = !0;
											break;
										case 34:
										case 63277:
											b.doScrollBy(-b.view.h), s = !0;
											break;
										case 36:
										case 63273:
											b.railh && o ? b.doScrollPos(0, 0) : b.doScrollTo(0), s = !0;
											break;
										case 35:
										case 63275:
											b.railh && o ? b.doScrollPos(b.page.maxw, b.page.maxh) : b.doScrollTo(b.page.maxh), s = !0;
											break;
										case 32:
											b.opt.spacebarenabled && (a ? b.doScrollBy(b.view.h) : b.doScrollBy(-b.view.h), s = !0);
											break;
										case 27:
											b.zoomactive && (b.doZoom(), s = !0)
									}
									if (s) return b.cancelEvent(r)
								}
							}, b.opt.enablekeyboard && b.bind(document, S.isopera && !S.isopera12 ? "keypress" : "keydown", b.onkeypress),
							b.bind(document, "keydown", function(e) {
								e.ctrlKey && (b.wheelprevented = !0)
							}), b.bind(document, "keyup", function(e) {
								e.ctrlKey || (b.wheelprevented = !1)
							}), b.bind(window, "blur", function(e) {
								b.wheelprevented = !1
							}), b.bind(window, "resize", b.lazyResize), b.bind(window, "orientationchange", b.lazyResize), b.bind(window,
								"load", b.lazyResize), S.ischrome && !b.ispage && !b.haswrapper) {
							var x = b.win.attr("style"),
								l = parseFloat(b.win.css("width")) + 1;
							b.win.css("width", l), b.synched("chromefix", function() {
								b.win.attr("style", x)
							})
						}
						b.onAttributeChange = function(e) {
							b.lazyResize(b.isieold ? 250 : 30)
						}, b.isie11 || !1 === h || (b.observerbody = new h(function(t) {
							return t.forEach(function(t) {
								return "attributes" == t.type ? e("body").hasClass("modal-open") && e("body").hasClass("modal-dialog") &&
									!e.contains(e(".modal-dialog")[0], b.doc[0]) ? b.hide() : b.show() : void 0
							}), document.body.scrollHeight != b.page.maxh ? b.lazyResize(30) : void 0
						}), b.observerbody.observe(document.body, {
							childList: !0,
							subtree: !0,
							characterData: !1,
							attributes: !0,
							attributeFilter: ["class"]
						})), b.ispage || b.haswrapper || (!1 !== h ? (b.observer = new h(function(e) {
							e.forEach(b.onAttributeChange)
						}), b.observer.observe(b.win[0], {
							childList: !0,
							characterData: !1,
							attributes: !0,
							subtree: !1
						}), b.observerremover = new h(function(e) {
							e.forEach(function(e) {
								if (0 < e.removedNodes.length)
									for (var t in e.removedNodes)
										if (b && e.removedNodes[t] == b.win[0]) return b.remove()
							})
						}), b.observerremover.observe(b.win[0].parentNode, {
							childList: !0,
							characterData: !1,
							attributes: !1,
							subtree: !1
						})) : (b.bind(b.win, S.isie && !S.isie9 ? "propertychange" : "DOMAttrModified", b.onAttributeChange), S.isie9 &&
							b.win[0].attachEvent("onpropertychange", b.onAttributeChange), b.bind(b.win, "DOMNodeRemoved", function(e) {
								e.target == b.win[0] && b.remove()
							}))), !b.ispage && b.opt.boxzoom && b.bind(window, "resize", b.resizeZoom), b.istextarea && (b.bind(b.win,
							"keydown", b.lazyResize), b.bind(b.win, "mouseup", b.lazyResize)), b.lazyResize(30)
					}
					if ("IFRAME" == this.doc[0].nodeName) {
						var w = function() {
							b.iframexd = !1;
							var t;
							try {
								t = "contentDocument" in this ? this.contentDocument : this.contentWindow.document
							} catch (n) {
								b.iframexd = !0, t = !1
							}
							if (b.iframexd) return "console" in window && console.log("NiceScroll error: policy restriced iframe"), !0;
							if (b.forcescreen = !0, b.isiframe && (b.iframe = {
									doc: e(t),
									html: b.doc.contents().find("html")[0],
									body: b.doc.contents().find("body")[0]
								}, b.getContentSize = function() {
									return {
										w: Math.max(b.iframe.html.scrollWidth, b.iframe.body.scrollWidth),
										h: Math.max(b.iframe.html.scrollHeight, b.iframe.body.scrollHeight)
									}
								}, b.docscroll = e(b.iframe.body)), !S.isios && b.opt.iframeautoresize && !b.isiframe) {
								b.win.scrollTop(0), b.doc.height("");
								var r = Math.max(t.getElementsByTagName("html")[0].scrollHeight, t.body.scrollHeight);
								b.doc.height(r)
							}
							b.lazyResize(30), S.isie7 && b.css(e(b.iframe.html), i), b.css(e(b.iframe.body), i), S.isios && b.haswrapper &&
								b.css(e(t.body), {
									"-webkit-transform": "translate3d(0,0,0)"
								}), "contentWindow" in this ? b.bind(this.contentWindow, "scroll", b.onscroll) : b.bind(t, "scroll", b.onscroll),
								b.opt.enablemousewheel && b.mousewheel(t, b.onmousewheel), b.opt.enablekeyboard && b.bind(t, S.isopera ?
									"keypress" : "keydown", b.onkeypress), (S.cantouch || b.opt.touchbehavior) && (b.bind(t, "mousedown", b.ontouchstart),
									b.bind(t, "mousemove", function(e) {
										return b.ontouchmove(e, !0)
									}), b.opt.grabcursorenabled && S.cursorgrabvalue && b.css(e(t.body), {
										cursor: S.cursorgrabvalue
									})), b.bind(t, "mouseup", b.ontouchend), b.zoom && (b.opt.dblclickzoom && b.bind(t, "dblclick", b.doZoom),
									b.ongesturezoom && b.bind(t, "gestureend", b.ongesturezoom))
						};
						this.doc[0].readyState && "complete" == this.doc[0].readyState && setTimeout(function() {
							w.call(b.doc[0], !1)
						}, 500), b.bind(this.doc, "load", w)
					}
				}, this.showCursor = function(e, t) {
					if (b.cursortimeout && (clearTimeout(b.cursortimeout), b.cursortimeout = 0), b.rail) {
						if (b.autohidedom && (b.autohidedom.stop().css({
								opacity: b.opt.cursoropacitymax
							}), b.cursoractive = !0), b.rail.drag && 1 == b.rail.drag.pt || (void 0 !== e && !1 !== e && (b.scroll.y =
								Math.round(1 * e / b.scrollratio.y)), void 0 !== t && (b.scroll.x = Math.round(1 * t / b.scrollratio.x))), b.cursor
							.css({
								height: b.cursorheight,
								top: b.scroll.y
							}), b.cursorh) {
							var n = b.hasreversehr ? b.scrollvaluemaxw - b.scroll.x : b.scroll.x;
							!b.rail.align && b.rail.visibility ? b.cursorh.css({
								width: b.cursorwidth,
								left: n + b.rail.width
							}) : b.cursorh.css({
								width: b.cursorwidth,
								left: n
							}), b.cursoractive = !0
						}
						b.zoom && b.zoom.stop().css({
							opacity: b.opt.cursoropacitymax
						})
					}
				}, this.hideCursor = function(e) {
					b.cursortimeout || !b.rail || !b.autohidedom || b.hasmousefocus && "leave" == b.opt.autohidemode || (b.cursortimeout =
						setTimeout(function() {
							b.rail.active && b.showonmouseevent || (b.autohidedom.stop().animate({
								opacity: b.opt.cursoropacitymin
							}), b.zoom && b.zoom.stop().animate({
								opacity: b.opt.cursoropacitymin
							}), b.cursoractive = !1), b.cursortimeout = 0
						}, e || b.opt.hidecursordelay))
				}, this.noticeCursor = function(e, t, n) {
					b.showCursor(t, n), b.rail.active || b.hideCursor(e)
				}, this.getContentSize = b.ispage ? function() {
					return {
						w: Math.max(document.body.scrollWidth, document.documentElement.scrollWidth),
						h: Math.max(document.body.scrollHeight, document.documentElement.scrollHeight)
					}
				} : b.haswrapper ? function() {
					return {
						w: b.doc.outerWidth() + parseInt(b.win.css("paddingLeft")) + parseInt(b.win.css("paddingRight")),
						h: b.doc.outerHeight() + parseInt(b.win.css("paddingTop")) + parseInt(b.win.css("paddingBottom"))
					}
				} : function() {
					return {
						w: b.docscroll[0].scrollWidth,
						h: b.docscroll[0].scrollHeight
					}
				}, this.onResize = function(e, t) {
					if (!b || !b.win) return !1;
					if (!b.haswrapper && !b.ispage) {
						if ("none" == b.win.css("display")) return b.visibility && b.hideRail().hideRailHr(), !1;
						b.hidden || b.visibility || b.showRail().showRailHr()
					}
					var n = b.page.maxh,
						r = b.page.maxw,
						i = b.view.h,
						o = b.view.w;
					if (b.view = {
							w: b.ispage ? b.win.width() : parseInt(b.win[0].clientWidth),
							h: b.ispage ? b.win.height() : parseInt(b.win[0].clientHeight)
						}, b.page = t ? t : b.getContentSize(), b.page.maxh = Math.max(0, b.page.h - b.view.h), b.page.maxw = Math.max(
							0, b.page.w - b.view.w), b.page.maxh == n && b.page.maxw == r && b.view.w == o && b.view.h == i) {
						if (b.ispage) return b;
						if (n = b.win.offset(), b.lastposition && (r = b.lastposition, r.top == n.top && r.left == n.left)) return b;
						b.lastposition = n
					}
					return 0 == b.page.maxh ? (b.hideRail(), b.scrollvaluemax = 0, b.scroll.y = 0, b.scrollratio.y = 0, b.cursorheight =
							0, b.setScrollTop(0), b.rail && (b.rail.scrollable = !1)) : (b.page.maxh -= b.opt.railpadding.top + b.opt.railpadding
							.bottom, b.rail.scrollable = !0), 0 == b.page.maxw ? (b.hideRailHr(), b.scrollvaluemaxw = 0, b.scroll.x = 0, b
							.scrollratio.x = 0, b.cursorwidth = 0, b.setScrollLeft(0), b.railh && (b.railh.scrollable = !1)) : (b.page.maxw -=
							b.opt.railpadding.left + b.opt.railpadding.right, b.railh && (b.railh.scrollable = b.opt.horizrailenabled)), b
						.railslocked = b.locked || 0 == b.page.maxh && 0 == b.page.maxw, b.railslocked ? (b.ispage || b.updateScrollBar(
							b.view), !1) : (b.hidden || b.visibility ? !b.railh || b.hidden || b.railh.visibility || b.showRailHr() : b.showRail()
							.showRailHr(), b.istextarea && b.win.css("resize") && "none" != b.win.css("resize") && (b.view.h -= 20), b.cursorheight =
							Math.min(b.view.h, Math.round(b.view.h / b.page.h * b.view.h)), b.cursorheight = b.opt.cursorfixedheight ? b.opt
							.cursorfixedheight : Math.max(b.opt.cursorminheight, b.cursorheight), b.cursorwidth = Math.min(b.view.w, Math.round(
								b.view.w / b.page.w * b.view.w)), b.cursorwidth = b.opt.cursorfixedheight ? b.opt.cursorfixedheight : Math.max(
								b.opt.cursorminheight, b.cursorwidth), b.scrollvaluemax = b.view.h - b.cursorheight - b.cursor.hborder - (b.opt
								.railpadding.top + b.opt.railpadding.bottom), b.railh && (b.railh.width = 0 < b.page.maxh ? b.view.w - b.rail
								.width : b.view.w, b.scrollvaluemaxw = b.railh.width - b.cursorwidth - b.cursorh.wborder - (b.opt.railpadding
									.left + b.opt.railpadding.right)), b.ispage || b.updateScrollBar(b.view), b.scrollratio = {
								x: b.page.maxw / b.scrollvaluemaxw,
								y: b.page.maxh / b.scrollvaluemax
							}, b.getScrollTop() > b.page.maxh ? b.doScrollTop(b.page.maxh) : (b.scroll.y = Math.round(b.getScrollTop() * (
									1 / b.scrollratio.y)), b.scroll.x = Math.round(b.getScrollLeft() * (1 / b.scrollratio.x)), b.cursoractive &&
								b.noticeCursor()), b.scroll.y && 0 == b.getScrollTop() && b.doScrollTo(Math.floor(b.scroll.y * b.scrollratio.y)),
							b)
				}, this.resize = b.onResize, this.hlazyresize = 0, this.lazyResize = function(e) {
					return b.haswrapper || b.hide(), b.hlazyresize && clearTimeout(b.hlazyresize), b.hlazyresize = setTimeout(
						function() {
							b && b.show().resize()
						}, 240), b
				}, this.jqbind = function(t, n, r) {
					b.events.push({
						e: t,
						n: n,
						f: r,
						q: !0
					}), e(t).bind(n, r)
				}, this.mousewheel = function(e, t, n) {
					if (e = "jquery" in e ? e[0] : e, "onwheel" in document.createElement("div")) b._bind(e, "wheel", t, n || !1);
					else {
						var r = void 0 !== document.onmousewheel ? "mousewheel" : "DOMMouseScroll";
						v(e, r, t, n || !1), "DOMMouseScroll" == r && v(e, "MozMousePixelScroll", t, n || !1)
					}
				}, S.haseventlistener ? (this.bind = function(e, t, n, r) {
					b._bind("jquery" in e ? e[0] : e, t, n, r || !1)
				}, this._bind = function(e, t, n, r) {
					b.events.push({
						e: e,
						n: t,
						f: n,
						b: r,
						q: !1
					}), e.addEventListener(t, n, r || !1)
				}, this.cancelEvent = function(e) {
					return e ? (e = e.original ? e.original : e, e.cancelable && e.preventDefault(), e.stopPropagation(), e.preventManipulation &&
						e.preventManipulation(), !1) : !1
				}, this.stopPropagation = function(e) {
					return e ? (e = e.original ? e.original : e, e.stopPropagation(), !1) : !1
				}, this._unbind = function(e, t, n, r) {
					e.removeEventListener(t, n, r)
				}) : (this.bind = function(e, t, n, r) {
					var i = "jquery" in e ? e[0] : e;
					b._bind(i, t, function(e) {
						return (e = e || window.event || !1) && e.srcElement && (e.target = e.srcElement), "pageY" in e || (e.pageX =
								e.clientX + document.documentElement.scrollLeft, e.pageY = e.clientY + document.documentElement.scrollTop),
							!1 === n.call(i, e) || !1 === r ? b.cancelEvent(e) : !0
					})
				}, this._bind = function(e, t, n, r) {
					b.events.push({
						e: e,
						n: t,
						f: n,
						b: r,
						q: !1
					}), e.attachEvent ? e.attachEvent("on" + t, n) : e["on" + t] = n
				}, this.cancelEvent = function(e) {
					return (e = window.event || !1) ? (e.cancelBubble = !0, e.cancel = !0, e.returnValue = !1) : !1
				}, this.stopPropagation = function(e) {
					return (e = window.event || !1) ? (e.cancelBubble = !0, !1) : !1
				}, this._unbind = function(e, t, n, r) {
					e.detachEvent ? e.detachEvent("on" + t, n) : e["on" + t] = !1
				}), this.unbindAll = function() {
					for (var e = 0; e < b.events.length; e++) {
						var t = b.events[e];
						t.q ? t.e.unbind(t.n, t.f) : b._unbind(t.e, t.n, t.f, t.b)
					}
				}, this.showRail = function() {
					return 0 == b.page.maxh || !b.ispage && "none" == b.win.css("display") || (b.visibility = !0, b.rail.visibility = !
						0, b.rail.css("display", "block")), b
				}, this.showRailHr = function() {
					return b.railh ? (0 == b.page.maxw || !b.ispage && "none" == b.win.css("display") || (b.railh.visibility = !0, b
						.railh.css("display", "block")), b) : b
				}, this.hideRail = function() {
					return b.visibility = !1, b.rail.visibility = !1, b.rail.css("display", "none"), b
				}, this.hideRailHr = function() {
					return b.railh ? (b.railh.visibility = !1, b.railh.css("display", "none"), b) : b
				}, this.show = function() {
					return b.hidden = !1, b.railslocked = !1, b.showRail().showRailHr()
				}, this.hide = function() {
					return b.hidden = !0, b.railslocked = !0, b.hideRail().hideRailHr()
				}, this.toggle = function() {
					return b.hidden ? b.show() : b.hide()
				}, this.remove = function() {
					b.stop(), b.cursortimeout && clearTimeout(b.cursortimeout);
					for (var t in b.delaylist) b.delaylist[t] && l(b.delaylist[t].h);
					for (b.doZoomOut(), b.unbindAll(), S.isie9 && b.win[0].detachEvent("onpropertychange", b.onAttributeChange), !1 !==
						b.observer && b.observer.disconnect(), !1 !== b.observerremover && b.observerremover.disconnect(), !1 !== b.observerbody &&
						b.observerbody.disconnect(), b.events = null, b.cursor && b.cursor.remove(), b.cursorh && b.cursorh.remove(), b
						.rail && b.rail.remove(), b.railh && b.railh.remove(), b.zoom && b.zoom.remove(), t = 0; t < b.saved.css.length; t++
					) {
						var n = b.saved.css[t];
						n[0].css(n[1], void 0 === n[2] ? "" : n[2])
					}
					b.saved = !1, b.me.data("__nicescroll", "");
					var r = e.nicescroll;
					r.each(function(e) {
						if (this && this.id === b.id) {
							delete r[e];
							for (var t = ++e; t < r.length; t++, e++) r[e] = r[t];
							r.length--, r.length && delete r[r.length]
						}
					});
					for (var i in b) b[i] = null, delete b[i];
					b = null
				}, this.scrollstart = function(e) {
					return this.onscrollstart = e, b
				}, this.scrollend = function(e) {
					return this.onscrollend = e, b
				}, this.scrollcancel = function(e) {
					return this.onscrollcancel = e, b
				}, this.zoomin = function(e) {
					return this.onzoomin = e, b
				}, this.zoomout = function(e) {
					return this.onzoomout = e, b
				}, this.isScrollable = function(t) {
					if (t = t.target ? t.target : t, "OPTION" == t.nodeName) return !0;
					for (; t && 1 == t.nodeType && !/^BODY|HTML/.test(t.nodeName);) {
						var n = e(t),
							n = n.css("overflowY") || n.css("overflowX") || n.css("overflow") || "";
						if (/scroll|auto/.test(n)) return t.clientHeight != t.scrollHeight;
						t = t.parentNode ? t.parentNode : !1
					}
					return !1
				}, this.getViewport = function(t) {
					for (t = t && t.parentNode ? t.parentNode : !1; t && 1 == t.nodeType && !/^BODY|HTML/.test(t.nodeName);) {
						var n = e(t);
						if (/fixed|absolute/.test(n.css("position"))) return n;
						var r = n.css("overflowY") || n.css("overflowX") || n.css("overflow") || "";
						if (/scroll|auto/.test(r) && t.clientHeight != t.scrollHeight || 0 < n.getNiceScroll().length) return n;
						t = t.parentNode ? t.parentNode : !1
					}
					return !1
				}, this.triggerScrollEnd = function() {
					if (b.onscrollend) {
						var e = b.getScrollLeft(),
							t = b.getScrollTop();
						b.onscrollend.call(b, {
							type: "scrollend",
							current: {
								x: e,
								y: t
							},
							end: {
								x: e,
								y: t
							}
						})
					}
				}, this.onmousewheel = function(e) {
					if (!b.wheelprevented) {
						if (b.railslocked) return b.debounced("checkunlock", b.resize, 250), !0;
						if (b.rail.drag) return b.cancelEvent(e);
						if ("auto" == b.opt.oneaxismousemode && 0 != e.deltaX && (b.opt.oneaxismousemode = !1), b.opt.oneaxismousemode &&
							0 == e.deltaX && !b.rail.scrollable) return b.railh && b.railh.scrollable ? b.onmousewheelhr(e) : !0;
						var t = +new Date,
							n = !1;
						return b.opt.preservenativescrolling && b.checkarea + 600 < t && (b.nativescrollingarea = b.isScrollable(e), n = !
							0), b.checkarea = t, b.nativescrollingarea ? !0 : ((e = y(e, !1, n)) && (b.checkarea = 0), e)
					}
				}, this.onmousewheelhr = function(e) {
					if (!b.wheelprevented) {
						if (b.railslocked || !b.railh.scrollable) return !0;
						if (b.rail.drag) return b.cancelEvent(e);
						var t = +new Date,
							n = !1;
						return b.opt.preservenativescrolling && b.checkarea + 600 < t && (b.nativescrollingarea = b.isScrollable(e), n = !
							0), b.checkarea = t, b.nativescrollingarea ? !0 : b.railslocked ? b.cancelEvent(e) : y(e, !0, n)
					}
				}, this.stop = function() {
					return b.cancelScroll(), b.scrollmon && b.scrollmon.stop(), b.cursorfreezed = !1, b.scroll.y = Math.round(b.getScrollTop() *
						(1 / b.scrollratio.y)), b.noticeCursor(), b
				}, this.getTransitionSpeed = function(e) {
					return e = Math.min(Math.round(10 * b.opt.scrollspeed), Math.round(e / 20 * b.opt.scrollspeed)), e > 20 ? e : 0
				}, b.opt.smoothscroll ? b.ishwscroll && S.hastransition && b.opt.usetransition && b.opt.smoothscroll ? (this.prepareTransition =
					function(e, t) {
						var n = t ? e > 20 ? e : 0 : b.getTransitionSpeed(e),
							r = n ? S.prefixstyle + "transform " + n + "ms ease-out" : "";
						return b.lasttransitionstyle && b.lasttransitionstyle == r || (b.lasttransitionstyle = r, b.doc.css(S.transitionstyle,
							r)), n
					}, this.doScrollLeft = function(e, t) {
						var n = b.scrollrunning ? b.newscrolly : b.getScrollTop();
						b.doScrollPos(e, n, t)
					}, this.doScrollTop = function(e, t) {
						var n = b.scrollrunning ? b.newscrollx : b.getScrollLeft();
						b.doScrollPos(n, e, t)
					}, this.doScrollPos = function(e, t, n) {
						var r = b.getScrollTop(),
							i = b.getScrollLeft();
						return (0 > (b.newscrolly - r) * (t - r) || 0 > (b.newscrollx - i) * (e - i)) && b.cancelScroll(), 0 == b.opt.bouncescroll &&
							(0 > t ? t = 0 : t > b.page.maxh && (t = b.page.maxh), 0 > e ? e = 0 : e > b.page.maxw && (e = b.page.maxw)),
							b.scrollrunning && e == b.newscrollx && t == b.newscrolly ? !1 : (b.newscrolly = t, b.newscrollx = e, b.newscrollspeed =
								n || !1, b.timer ? !1 : void(b.timer = setTimeout(function() {
									var n = b.getScrollTop(),
										r = b.getScrollLeft(),
										i = Math.round(Math.sqrt(Math.pow(e - r, 2) + Math.pow(t - n, 2))),
										i = b.newscrollspeed && 1 < b.newscrollspeed ? b.newscrollspeed : b.getTransitionSpeed(i);
									b.newscrollspeed && 1 >= b.newscrollspeed && (i *= b.newscrollspeed), b.prepareTransition(i, !0), b.timerscroll &&
										b.timerscroll.tm && clearInterval(b.timerscroll.tm), i > 0 && (!b.scrollrunning && b.onscrollstart && b.onscrollstart
											.call(b, {
												type: "scrollstart",
												current: {
													x: r,
													y: n
												},
												request: {
													x: e,
													y: t
												},
												end: {
													x: b.newscrollx,
													y: b.newscrolly
												},
												speed: i
											}), S.transitionend ? b.scrollendtrapped || (b.scrollendtrapped = !0, b.bind(b.doc, S.transitionend, b.onScrollTransitionEnd,
												!1)) : (b.scrollendtrapped && clearTimeout(b.scrollendtrapped), b.scrollendtrapped = setTimeout(b.onScrollTransitionEnd,
												i)), b.timerscroll = {
												bz: new T(n, b.newscrolly, i, 0, 0, .58, 1),
												bh: new T(r, b.newscrollx, i, 0, 0, .58, 1)
											}, b.cursorfreezed || (b.timerscroll.tm = setInterval(function() {
												b.showCursor(b.getScrollTop(), b.getScrollLeft())
											}, 60))), b.synched("doScroll-set", function() {
											b.timer = 0, b.scrollendtrapped && (b.scrollrunning = !0), b.setScrollTop(b.newscrolly), b.setScrollLeft(
												b.newscrollx), b.scrollendtrapped || b.onScrollTransitionEnd()
										})
								}, 50)))
					}, this.cancelScroll = function() {
						if (!b.scrollendtrapped) return !0;
						var e = b.getScrollTop(),
							t = b.getScrollLeft();
						return b.scrollrunning = !1, S.transitionend || clearTimeout(S.transitionend), b.scrollendtrapped = !1, b._unbind(
								b.doc[0], S.transitionend, b.onScrollTransitionEnd), b.prepareTransition(0), b.setScrollTop(e), b.railh && b.setScrollLeft(
								t), b.timerscroll && b.timerscroll.tm && clearInterval(b.timerscroll.tm), b.timerscroll = !1, b.cursorfreezed = !
							1, b.showCursor(e, t), b
					}, this.onScrollTransitionEnd = function() {
						b.scrollendtrapped && b._unbind(b.doc[0], S.transitionend, b.onScrollTransitionEnd), b.scrollendtrapped = !1, b
							.prepareTransition(0), b.timerscroll && b.timerscroll.tm && clearInterval(b.timerscroll.tm), b.timerscroll = !
							1;
						var e = b.getScrollTop(),
							t = b.getScrollLeft();
						return b.setScrollTop(e), b.railh && b.setScrollLeft(t), b.noticeCursor(!1, e, t), b.cursorfreezed = !1, 0 > e ?
							e = 0 : e > b.page.maxh && (e = b.page.maxh), 0 > t ? t = 0 : t > b.page.maxw && (t = b.page.maxw), e != b.newscrolly ||
							t != b.newscrollx ? b.doScrollPos(t, e, b.opt.snapbackspeed) : (b.onscrollend && b.scrollrunning && b.triggerScrollEnd(),
								void(b.scrollrunning = !1))
					}) : (this.doScrollLeft = function(e, t) {
					var n = b.scrollrunning ? b.newscrolly : b.getScrollTop();
					b.doScrollPos(e, n, t)
				}, this.doScrollTop = function(e, t) {
					var n = b.scrollrunning ? b.newscrollx : b.getScrollLeft();
					b.doScrollPos(n, e, t)
				}, this.doScrollPos = function(e, t, n) {
					function r() {
						if (b.cancelAnimationFrame) return !0;
						if (b.scrollrunning = !0, h = 1 - h) return b.timer = s(r) || 1;
						var e, t, n = 0,
							i = t = b.getScrollTop();
						b.dst.ay ? (i = b.bzscroll ? b.dst.py + b.bzscroll.getNow() * b.dst.ay : b.newscrolly, e = i - t, (0 > e && i <
							b.newscrolly || e > 0 && i > b.newscrolly) && (i = b.newscrolly), b.setScrollTop(i), i == b.newscrolly && (
							n = 1)) : n = 1, t = e = b.getScrollLeft(), b.dst.ax ? (t = b.bzscroll ? b.dst.px + b.bzscroll.getNow() * b.dst
							.ax : b.newscrollx, e = t - e, (0 > e && t < b.newscrollx || e > 0 && t > b.newscrollx) && (t = b.newscrollx),
							b.setScrollLeft(t), t == b.newscrollx && (n += 1)) : n += 1, 2 == n ? (b.timer = 0, b.cursorfreezed = !1, b.bzscroll = !
							1, b.scrollrunning = !1, 0 > i ? i = 0 : i > b.page.maxh && (i = Math.max(0, b.page.maxh)), 0 > t ? t = 0 :
							t > b.page.maxw && (t = b.page.maxw), t != b.newscrollx || i != b.newscrolly ? b.doScrollPos(t, i) : b.onscrollend &&
							b.triggerScrollEnd()) : b.timer = s(r) || 1
					}
					if (t = void 0 === t || !1 === t ? b.getScrollTop(!0) : t, b.timer && b.newscrolly == t && b.newscrollx == e)
						return !0;
					b.timer && l(b.timer), b.timer = 0;
					var i = b.getScrollTop(),
						o = b.getScrollLeft();
					(0 > (b.newscrolly - i) * (t - i) || 0 > (b.newscrollx - o) * (e - o)) && b.cancelScroll(), b.newscrolly = t, b
						.newscrollx = e, b.bouncescroll && b.rail.visibility || (0 > b.newscrolly ? b.newscrolly = 0 : b.newscrolly >
							b.page.maxh && (b.newscrolly = b.page.maxh)), b.bouncescroll && b.railh.visibility || (0 > b.newscrollx ? b.newscrollx =
							0 : b.newscrollx > b.page.maxw && (b.newscrollx = b.page.maxw)), b.dst = {}, b.dst.x = e - o, b.dst.y = t - i,
						b.dst.px = o, b.dst.py = i;
					var a = Math.round(Math.sqrt(Math.pow(b.dst.x, 2) + Math.pow(b.dst.y, 2)));
					b.dst.ax = b.dst.x / a, b.dst.ay = b.dst.y / a;
					var c = 0,
						u = a;
					if (0 == b.dst.x ? (c = i, u = t, b.dst.ay = 1, b.dst.py = 0) : 0 == b.dst.y && (c = o, u = e, b.dst.ax = 1, b.dst
							.px = 0), a = b.getTransitionSpeed(a), n && 1 >= n && (a *= n), b.bzscroll = a > 0 ? b.bzscroll ? b.bzscroll.update(
							u, a) : new T(c, u, a, 0, 1, 0, 1) : !1, !b.timer) {
						(i == b.page.maxh && t >= b.page.maxh || o == b.page.maxw && e >= b.page.maxw) && b.checkContentSize();
						var h = 1;
						b.cancelAnimationFrame = !1, b.timer = 1, b.onscrollstart && !b.scrollrunning && b.onscrollstart.call(b, {
							type: "scrollstart",
							current: {
								x: o,
								y: i
							},
							request: {
								x: e,
								y: t
							},
							end: {
								x: b.newscrollx,
								y: b.newscrolly
							},
							speed: a
						}), r(), (i == b.page.maxh && t >= i || o == b.page.maxw && e >= o) && b.checkContentSize(), b.noticeCursor()
					}
				}, this.cancelScroll = function() {
					return b.timer && l(b.timer), b.timer = 0, b.bzscroll = !1, b.scrollrunning = !1, b
				}) : (this.doScrollLeft = function(e, t) {
					var n = b.getScrollTop();
					b.doScrollPos(e, n, t)
				}, this.doScrollTop = function(e, t) {
					var n = b.getScrollLeft();
					b.doScrollPos(n, e, t)
				}, this.doScrollPos = function(e, t, n) {
					var r = e > b.page.maxw ? b.page.maxw : e;
					0 > r && (r = 0);
					var i = t > b.page.maxh ? b.page.maxh : t;
					0 > i && (i = 0), b.synched("scroll", function() {
						b.setScrollTop(i), b.setScrollLeft(r)
					})
				}, this.cancelScroll = function() {}), this.doScrollBy = function(e, t) {
					var n = 0,
						n = t ? Math.floor((b.scroll.y - e) * b.scrollratio.y) : (b.timer ? b.newscrolly : b.getScrollTop(!0)) - e;
					if (b.bouncescroll) {
						var r = Math.round(b.view.h / 2); - r > n ? n = -r : n > b.page.maxh + r && (n = b.page.maxh + r)
					}
					return b.cursorfreezed = !1, r = b.getScrollTop(!0), 0 > n && 0 >= r ? b.noticeCursor() : n > b.page.maxh && r >=
						b.page.maxh ? (b.checkContentSize(), b.noticeCursor()) : void b.doScrollTop(n)
				}, this.doScrollLeftBy = function(e, t) {
					var n = 0,
						n = t ? Math.floor((b.scroll.x - e) * b.scrollratio.x) : (b.timer ? b.newscrollx : b.getScrollLeft(!0)) - e;
					if (b.bouncescroll) {
						var r = Math.round(b.view.w / 2); - r > n ? n = -r : n > b.page.maxw + r && (n = b.page.maxw + r)
					}
					return b.cursorfreezed = !1, r = b.getScrollLeft(!0), 0 > n && 0 >= r || n > b.page.maxw && r >= b.page.maxw ? b
						.noticeCursor() : void b.doScrollLeft(n)
				}, this.doScrollTo = function(e, t) {
					b.cursorfreezed = !1, b.doScrollTop(e)
				}, this.checkContentSize = function() {
					var e = b.getContentSize();
					e.h == b.page.h && e.w == b.page.w || b.resize(!1, e)
				}, b.onscroll = function(e) {
					b.rail.drag || b.cursorfreezed || b.synched("scroll", function() {
						b.scroll.y = Math.round(b.getScrollTop() * (1 / b.scrollratio.y)), b.railh && (b.scroll.x = Math.round(b.getScrollLeft() *
							(1 / b.scrollratio.x))), b.noticeCursor()
					})
				}, b.bind(b.docscroll, "scroll", b.onscroll), this.doZoomIn = function(t) {
					if (!b.zoomactive) {
						b.zoomactive = !0, b.zoomrestore = {
							style: {}
						};
						var n, r = "position top left zIndex backgroundColor marginTop marginBottom marginLeft marginRight".split(" "),
							i = b.win[0].style;
						for (n in r) {
							var a = r[n];
							b.zoomrestore.style[a] = void 0 !== i[a] ? i[a] : ""
						}
						return b.zoomrestore.style.width = b.win.css("width"), b.zoomrestore.style.height = b.win.css("height"), b.zoomrestore
							.padding = {
								w: b.win.outerWidth() - b.win.width(),
								h: b.win.outerHeight() - b.win.height()
							}, S.isios4 && (b.zoomrestore.scrollTop = e(window).scrollTop(),
								e(window).scrollTop(0)), b.win.css({
								position: S.isios4 ? "absolute" : "fixed",
								top: 0,
								left: 0,
								zIndex: o + 100,
								margin: 0
							}), r = b.win.css("backgroundColor"), ("" == r || /transparent|rgba\(0, 0, 0, 0\)|rgba\(0,0,0,0\)/.test(r)) &&
							b.win.css("backgroundColor", "#fff"), b.rail.css({
								zIndex: o + 101
							}), b.zoom.css({
								zIndex: o + 102
							}), b.zoom.css("backgroundPosition", "0px -18px"), b.resizeZoom(), b.onzoomin && b.onzoomin.call(b), b.cancelEvent(
								t)
					}
				}, this.doZoomOut = function(t) {
					return b.zoomactive ? (b.zoomactive = !1, b.win.css("margin", ""), b.win.css(b.zoomrestore.style), S.isios4 && e(
						window).scrollTop(b.zoomrestore.scrollTop), b.rail.css({
						"z-index": b.zindex
					}), b.zoom.css({
						"z-index": b.zindex
					}), b.zoomrestore = !1, b.zoom.css("backgroundPosition", "0px 0px"), b.onResize(), b.onzoomout && b.onzoomout.call(
						b), b.cancelEvent(t)) : void 0
				}, this.doZoom = function(e) {
					return b.zoomactive ? b.doZoomOut(e) : b.doZoomIn(e)
				}, this.resizeZoom = function() {
					if (b.zoomactive) {
						var t = b.getScrollTop();
						b.win.css({
							width: e(window).width() - b.zoomrestore.padding.w + "px",
							height: e(window).height() - b.zoomrestore.padding.h + "px"
						}), b.onResize(), b.setScrollTop(Math.min(b.page.maxh, t))
					}
				}, this.init(), e.nicescroll.push(this)
			},
			m = function(e) {
				var t = this;
				this.nc = e, this.steptime = this.lasttime = this.speedy = this.speedx = this.lasty = this.lastx = 0, this.snapy =
					this.snapx = !1, this.demuly = this.demulx = 0, this.lastscrolly = this.lastscrollx = -1, this.timer = this.chky =
					this.chkx = 0, this.time = function() {
						return +new Date
					}, this.reset = function(e, n) {
						t.stop();
						var r = t.time();
						t.steptime = 0, t.lasttime = r, t.speedx = 0, t.speedy = 0, t.lastx = e, t.lasty = n, t.lastscrollx = -1, t.lastscrolly = -
							1
					}, this.update = function(e, n) {
						var r = t.time();
						t.steptime = r - t.lasttime, t.lasttime = r;
						var r = n - t.lasty,
							i = e - t.lastx,
							o = t.nc.getScrollTop(),
							a = t.nc.getScrollLeft(),
							o = o + r,
							a = a + i;
						t.snapx = 0 > a || a > t.nc.page.maxw, t.snapy = 0 > o || o > t.nc.page.maxh, t.speedx = i, t.speedy = r, t.lastx =
							e, t.lasty = n
					}, this.stop = function() {
						t.nc.unsynched("domomentum2d"), t.timer && clearTimeout(t.timer), t.timer = 0, t.lastscrollx = -1, t.lastscrolly = -
							1
					}, this.doSnapy = function(e, n) {
						var r = !1;
						0 > n ? (n = 0, r = !0) : n > t.nc.page.maxh && (n = t.nc.page.maxh, r = !0), 0 > e ? (e = 0, r = !0) : e > t.nc
							.page.maxw && (e = t.nc.page.maxw, r = !0), r ? t.nc.doScrollPos(e, n, t.nc.opt.snapbackspeed) : t.nc.triggerScrollEnd()
					}, this.doMomentum = function(e) {
						var n = t.time(),
							r = e ? n + e : t.lasttime;
						e = t.nc.getScrollLeft();
						var i = t.nc.getScrollTop(),
							o = t.nc.page.maxh,
							a = t.nc.page.maxw;
						if (t.speedx = a > 0 ? Math.min(60, t.speedx) : 0, t.speedy = o > 0 ? Math.min(60, t.speedy) : 0, r = r && 60 >=
							n - r, (0 > i || i > o || 0 > e || e > a) && (r = !1), e = t.speedx && r ? t.speedx : !1, t.speedy && r && t.speedy ||
							e) {
							var s = Math.max(16, t.steptime);
							s > 50 && (e = s / 50, t.speedx *= e, t.speedy *= e, s = 50), t.demulxy = 0, t.lastscrollx = t.nc.getScrollLeft(),
								t.chkx = t.lastscrollx, t.lastscrolly = t.nc.getScrollTop(), t.chky = t.lastscrolly;
							var l = t.lastscrollx,
								c = t.lastscrolly,
								u = function() {
									var e = 600 < t.time() - n ? .04 : .02;
									t.speedx && (l = Math.floor(t.lastscrollx - t.speedx * (1 - t.demulxy)), t.lastscrollx = l, 0 > l || l > a) &&
										(e = .1), t.speedy && (c = Math.floor(t.lastscrolly - t.speedy * (1 - t.demulxy)), t.lastscrolly = c, 0 > c ||
											c > o) && (e = .1), t.demulxy = Math.min(1, t.demulxy + e), t.nc.synched("domomentum2d", function() {
											t.speedx && (t.nc.getScrollLeft(), t.chkx = l, t.nc.setScrollLeft(l)), t.speedy && (t.nc.getScrollTop(), t
												.chky = c, t.nc.setScrollTop(c)), t.timer || (t.nc.hideCursor(), t.doSnapy(l, c))
										}), 1 > t.demulxy ? t.timer = setTimeout(u, s) : (t.stop(), t.nc.hideCursor(), t.doSnapy(l, c))
								};
							u()
						} else t.doSnapy(t.nc.getScrollLeft(), t.nc.getScrollTop())
					}
			},
			v = e.fn.scrollTop;
		e.cssHooks.pageYOffset = {
			get: function(t, n, r) {
				return (n = e.data(t, "__nicescroll") || !1) && n.ishwscroll ? n.getScrollTop() : v.call(t)
			},
			set: function(t, n) {
				var r = e.data(t, "__nicescroll") || !1;
				return r && r.ishwscroll ? r.setScrollTop(parseInt(n)) : v.call(t, n), this
			}
		}, e.fn.scrollTop = function(t) {
			if (void 0 === t) {
				var n = this[0] ? e.data(this[0], "__nicescroll") || !1 : !1;
				return n && n.ishwscroll ? n.getScrollTop() : v.call(this)
			}
			return this.each(function() {
				var n = e.data(this, "__nicescroll") || !1;
				n && n.ishwscroll ? n.setScrollTop(parseInt(t)) : v.call(e(this), t)
			})
		};
		var y = e.fn.scrollLeft;
		e.cssHooks.pageXOffset = {
			get: function(t, n, r) {
				return (n = e.data(t, "__nicescroll") || !1) && n.ishwscroll ? n.getScrollLeft() : y.call(t)
			},
			set: function(t, n) {
				var r = e.data(t, "__nicescroll") || !1;
				return r && r.ishwscroll ? r.setScrollLeft(parseInt(n)) : y.call(t, n), this
			}
		}, e.fn.scrollLeft = function(t) {
			if (void 0 === t) {
				var n = this[0] ? e.data(this[0], "__nicescroll") || !1 : !1;
				return n && n.ishwscroll ? n.getScrollLeft() : y.call(this)
			}
			return this.each(function() {
				var n = e.data(this, "__nicescroll") || !1;
				n && n.ishwscroll ? n.setScrollLeft(parseInt(t)) : y.call(e(this), t)
			})
		};
		var b = function(t) {
			var n = this;
			if (this.length = 0, this.name = "nicescrollarray", this.each = function(t) {
					return e.each(n, t), n
				}, this.push = function(e) {
					n[n.length] = e, n.length++
				}, this.eq = function(e) {
					return n[e]
				}, t)
				for (var r = 0; r < t.length; r++) {
					var i = e.data(t[r], "__nicescroll") || !1;
					i && (this[this.length] = i, this.length++)
				}
			return this
		};
		! function(e, t, n) {
			for (var r = 0; r < t.length; r++) n(e, t[r])
		}(b.prototype, "show hide toggle onResize resize remove stop doScrollPos".split(" "), function(e, t) {
			e[t] = function() {
				var e = arguments;
				return this.each(function() {
					this[t].apply(this, e)
				})
			}
		}), e.fn.getNiceScroll = function(t) {
			return void 0 === t ? new b(this) : this[t] && e.data(this[t], "__nicescroll") || !1
		}, e.expr[":"].nicescroll = function(t) {
			return void 0 !== e.data(t, "__nicescroll")
		}, e.fn.niceScroll = function(t, n) {
			void 0 !== n || "object" != typeof t || "jquery" in t || (n = t, t = !1), n = e.extend({}, n);
			var r = new b;
			void 0 === n && (n = {}), t && (n.doc = e(t), n.win = e(this));
			var i = !("doc" in n);
			return i || "win" in n || (n.win = e(this)), this.each(function() {
				var t = e(this).data("__nicescroll") || !1;
				t || (n.doc = i ? e(this) : n.doc, t = new g(n, e(this)), e(this).data("__nicescroll", t)), r.push(t)
			}), 1 == r.length ? r[0] : r
		}, window.NiceScroll = {
			getjQuery: function() {
				return e
			}
		}, e.nicescroll || (e.nicescroll = new b, e.nicescroll.options = f)
	}),
	function(e) {
		"function" == typeof define && define.amd ? define("purl", e) : window.purl = e()
	}(function() {
		function e(e, t) {
			for (var n = decodeURI(e), r = g[t ? "strict" : "loose"].exec(n), i = {
					attr: {},
					param: {},
					seg: {}
				}, a = 14; a--;) i.attr[d[a]] = r[a] || "";
			return i.param.query = o(i.attr.query), i.param.fragment = o(i.attr.fragment), i.seg.path = i.attr.path.replace(
					/^\/+|\/+$/g, "").split("/"), i.seg.fragment = i.attr.fragment.replace(/^\/+|\/+$/g, "").split("/"), i.attr.base =
				i.attr.host ? (i.attr.protocol ? i.attr.protocol + "://" + i.attr.host : i.attr.host) + (i.attr.port ? ":" + i.attr
					.port : "") : "", i
		}

		function t(e) {
			var t = e.tagName;
			return "undefined" != typeof t ? f[t.toLowerCase()] : t
		}

		function n(e, t) {
			if (0 === e[t].length) return e[t] = {};
			var n = {};
			for (var r in e[t]) n[r] = e[t][r];
			return e[t] = n, n
		}

		function r(e, t, i, o) {
			var a = e.shift();
			if (a) {
				var s = t[i] = t[i] || [];
				"]" == a ? c(s) ? "" !== o && s.push(o) : "object" == typeof s ? s[u(s).length] = o : s = t[i] = [t[i], o] : ~a.indexOf(
					"]") ? (a = a.substr(0, a.length - 1), !m.test(a) && c(s) && (s = n(t, i)), r(e, s, a, o)) : (!m.test(a) && c(s) &&
					(s = n(t, i)), r(e, s, a, o))
			} else c(t[i]) ? t[i].push(o) : "object" == typeof t[i] ? t[i] = o : "undefined" == typeof t[i] ? t[i] = o : t[i] = [
				t[i], o
			]
		}

		function i(e, t, n) {
			if (~t.indexOf("]")) {
				var i = t.split("[");
				r(i, e, "base", n)
			} else {
				if (!m.test(t) && c(e.base)) {
					var o = {};
					for (var s in e.base) o[s] = e.base[s];
					e.base = o
				}
				"" !== t && a(e.base, t, n)
			}
			return e
		}

		function o(e) {
			return l(String(e).split(/&|;/), function(e, t) {
				try {
					t = decodeURIComponent(t.replace(/\+/g, " "))
				} catch (n) {}
				var r = t.indexOf("="),
					o = s(t),
					a = t.substr(0, o || r),
					l = t.substr(o || r, t.length);
				return l = l.substr(l.indexOf("=") + 1, l.length), "" === a && (a = t, l = ""), i(e, a, l)
			}, {
				base: {}
			}).base
		}

		function a(e, t, n) {
			var r = e[t];
			"undefined" == typeof r ? e[t] = n : c(r) ? r.push(n) : e[t] = [r, n]
		}

		function s(e) {
			for (var t, n, r = e.length, i = 0; r > i; ++i)
				if (n = e[i], "]" == n && (t = !1), "[" == n && (t = !0), "=" == n && !t) return i
		}

		function l(e, t) {
			for (var n = 0, r = e.length >> 0, i = arguments[2]; r > n;) n in e && (i = t.call(void 0, i, e[n], n, e)), ++n;
			return i
		}

		function c(e) {
			return "[object Array]" === Object.prototype.toString.call(e)
		}

		function u(e) {
			var t = [];
			for (var n in e) e.hasOwnProperty(n) && t.push(n);
			return t
		}

		function h(t, n) {
			return 1 === arguments.length && t === !0 && (n = !0, t = void 0), n = n || !1, t = t || window.location.toString(), {
				data: e(t, n),
				attr: function(e) {
					return e = p[e] || e, "undefined" != typeof e ? this.data.attr[e] : this.data.attr
				},
				param: function(e) {
					return "undefined" != typeof e ? this.data.param.query[e] : this.data.param.query
				},
				fparam: function(e) {
					return "undefined" != typeof e ? this.data.param.fragment[e] : this.data.param.fragment
				},
				segment: function(e) {
					return "undefined" == typeof e ? this.data.seg.path : (e = 0 > e ? this.data.seg.path.length + e : e - 1, this.data
						.seg.path[e])
				},
				fsegment: function(e) {
					return "undefined" == typeof e ? this.data.seg.fragment : (e = 0 > e ? this.data.seg.fragment.length + e : e -
						1, this.data.seg.fragment[e])
				}
			}
		}
		var f = {
				a: "href",
				img: "src",
				form: "action",
				base: "href",
				script: "src",
				iframe: "src",
				link: "href",
				embed: "src",
				object: "data"
			},
			d = ["source", "protocol", "authority", "userInfo", "user", "password", "host", "port", "relative", "path",
				"directory", "file", "query", "fragment"
			],
			p = {
				anchor: "fragment"
			},
			g = {
				strict: /^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,
				loose: /^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/
			},
			m = /^[0-9]+$/;
		return h.jQuery = function(e) {
			null != e && (e.fn.url = function(n) {
				var r = "";
				return this.length && (r = e(this).attr(t(this[0])) || ""), h(r, n)
			}, e.url = h)
		}, h.jQuery(window.jQuery), h
	}),
	function(e) {
		define("jqmw", ["jquery"], function() {
			return function() {
				! function(e) {
					function t(t) {
						var n = t || window.event,
							r = [].slice.call(arguments, 1),
							i = 0,
							o = 0,
							a = 0,
							t = e.event.fix(n);
						return t.type = "mousewheel", n.wheelDelta && (i = n.wheelDelta / 120), n.detail && (i = -n.detail / 3), a = i,
							void 0 !== n.axis && n.axis === n.HORIZONTAL_AXIS && (a = 0, o = -1 * i), void 0 !== n.wheelDeltaY && (a = n.wheelDeltaY /
								120), void 0 !== n.wheelDeltaX && (o = -1 * n.wheelDeltaX / 120), r.unshift(t, i, o, a), (e.event.dispatch ||
								e.event.handle).apply(this, r)
					}
					var n = ["DOMMouseScroll", "mousewheel"];
					if (e.event.fixHooks)
						for (var r = n.length; r;) e.event.fixHooks[n[--r]] = e.event.mouseHooks;
					e.event.special.mousewheel = {
						setup: function() {
							if (this.addEventListener)
								for (var e = n.length; e;) this.addEventListener(n[--e], t, !1);
							else this.onmousewheel = t
						},
						teardown: function() {
							if (this.removeEventListener)
								for (var e = n.length; e;) this.removeEventListener(n[--e], t, !1);
							else this.onmousewheel = null
						}
					}, e.fn.extend({
						mousewheel: function(e) {
							return e ? this.bind("mousewheel", e) : this.trigger("mousewheel")
						},
						unmousewheel: function(e) {
							return this.unbind("mousewheel", e)
						}
					})
				}(jQuery)
			}.apply(e, arguments)
		})
	}(this), ! function(e) {
		"use strict";
		var t = function(e, n, r) {
				var i, o, a = document.createElement("img");
				if (a.onerror = n, a.onload = function() {
						!o || r && r.noRevoke || t.revokeObjectURL(o), n && n(t.scale(a, r))
					}, t.isInstanceOf("Blob", e) || t.isInstanceOf("File", e)) i = o = t.createObjectURL(e), a._type = e.type;
				else {
					if ("string" != typeof e) return !1;
					i = e, r && r.crossOrigin && (a.crossOrigin = r.crossOrigin)
				}
				return i ? (a.src = i, a) : t.readFile(e, function(e) {
					var t = e.target;
					t && t.result ? a.src = t.result : n && n(e)
				})
			},
			n = window.createObjectURL && window || window.URL && URL.revokeObjectURL && URL || window.webkitURL && webkitURL;
		t.isInstanceOf = function(e, t) {
			return Object.prototype.toString.call(t) === "[object " + e + "]"
		}, t.transformCoordinates = function() {}, t.getTransformedOptions = function(e, t) {
			var n, r, i, o, a = t.aspectRatio;
			if (!a) return t;
			n = {};
			for (r in t) t.hasOwnProperty(r) && (n[r] = t[r]);
			return n.crop = !0, i = e.naturalWidth || e.width, o = e.naturalHeight || e.height, i / o > a ? (n.maxWidth = o * a,
				n.maxHeight = o) : (n.maxWidth = i, n.maxHeight = i / a), n
		}, t.renderImageToCanvas = function(e, t, n, r, i, o, a, s, l, c, u) {
			var h = e.getContext("2d");
			return u && (h.clearRect(0, 0, e.width, e.height), h.fillStyle = u, h.fillRect(0, 0, e.width, e.height)), h.drawImage(
				t, n, r, i, o, a, s, l, c), e
		}, t.hasCanvasOption = function(e) {
			return e.canvas || e.crop || !!e.aspectRatio
		}, t.scale = function(e, n) {
			function r() {
				var e = Math.max((s || x) / x, (l || w) / w);
				e > 1 && (x *= e, w *= e)
			}

			function i() {
				var e = Math.min((o || x) / x, (a || w) / w);
				1 > e && (x *= e, w *= e)
			}
			n = n || {};
			var o, a, s, l, c, u, h, f, d, p, g, m = document.createElement("canvas"),
				v = e.getContext || t.hasCanvasOption(n) && m.getContext,
				y = e.naturalWidth || e.width,
				b = e.naturalHeight || e.height,
				x = y,
				w = b;
			if (v && (n = t.getTransformedOptions(e, n), h = n.left || 0, f = n.top || 0, n.sourceWidth ? (c = n.sourceWidth,
						void 0 !== n.right && void 0 === n.left && (h = y - c - n.right)) : c = y - h - (n.right || 0), n.sourceHeight ?
					(u = n.sourceHeight, void 0 !== n.bottom && void 0 === n.top && (f = b - u - n.bottom)) : u = b - f - (n.bottom ||
						0), x = c, w = u), o = n.maxWidth, a = n.maxHeight, s = n.minWidth, l = n.minHeight, v && o && a && n.crop ? (x =
					o, w = a, g = c / u - o / a, 0 > g ? (u = a * c / o, void 0 === n.top && void 0 === n.bottom && (f = (b - u) / 2)) :
					g > 0 && (c = o * u / a, void 0 === n.left && void 0 === n.right && (h = (y - c) / 2))) : ((n.contain || n.cover) &&
					(s = o = o || s, l = a = a || l), n.cover ? (i(), r()) : (r(), i())), v) {
				if (d = n.pixelRatio, d > 1 && (m.style.width = x + "px", m.style.height = w + "px", x *= d, w *= d, m.getContext(
						"2d").scale(d, d)), (p = n.downsamplingRatio) > 0 && 1 > p && c > x && u > w)
					for (; c * p > x;) m.width = c * p, m.height = u * p, t.renderImageToCanvas(m, e, h, f, c, u, 0, 0, m.width, m.height,
							n.backgroundColor), c = m.width, u = m.height, e = document.createElement("canvas"), e.width = c, e.height = u,
						t.renderImageToCanvas(e, m, 0, 0, c, u, 0, 0, c, u, n.backgroundColor);
				m.width = x, m.height = w, t.transformCoordinates(m, n);
				var S = t.renderImageToCanvas(m, e, h, f, c, u, 0, 0, x, w);
				return S.options = n, S
			}
			return e.width = x, e.height = w, e.options = n, e
		}, t.createObjectURL = function(e) {
			return !!n && n.createObjectURL(e)
		}, t.revokeObjectURL = function(e) {
			return !!n && n.revokeObjectURL(e)
		}, t.readFile = function(e, t, n) {
			if (window.FileReader) {
				var r = new FileReader;
				if (r.onload = r.onerror = t, n = n || "readAsDataURL", r[n]) return r[n](e), r
			}
			return !1
		}, "function" == typeof define && define.amd ? define("loadImage", [], function() {
			return t
		}) : "object" == typeof module && module.exports ? module.exports = t : e.loadImage = t
	}(window),
	function(e) {
		"use strict";
		var t, n = e.Uint8Array,
			r = e.HTMLCanvasElement,
			i = r && r.prototype,
			o = /\s*;\s*base64\s*(?:;|$)/i,
			a = "toDataURL",
			s = function(e) {
				for (var r, i, o, a = e.length, s = new n(a / 4 * 3 | 0), l = 0, c = 0, u = [0, 0], h = 0, f = 0; a--;) i = e.charCodeAt(
					l++), r = t[i - 43], 255 !== r && r !== o && (u[1] = u[0], u[0] = i, f = f << 6 | r, h++, 4 === h && (s[c++] = f >>>
					16, 61 !== u[1] && (s[c++] = f >>> 8), 61 !== u[0] && (s[c++] = f), h = 0));
				return s
			};
		n && (t = new n([62, -1, -1, -1, 63, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, -1, -1, -1, 0, -1, -1, -1, 0, 1, 2, 3, 4,
			5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, -1, -1, -1, -1, -1, -1, 26, 27, 28,
			29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51
		])), !r || i.toBlob && i.toBlobHD || (i.toBlob || (i.toBlob = function(e, t) {
			if (t || (t = "image/png"), this.mozGetAsFile) return void e(this.mozGetAsFile("canvas", t));
			if (this.msToBlob && /^\s*image\/png\s*(?:$|;)/i.test(t)) return void e(this.msToBlob());
			var r, i = Array.prototype.slice.call(arguments, 1),
				l = this[a].apply(this, i),
				c = l.indexOf(","),
				u = l.substring(c + 1),
				h = o.test(l.substring(0, c));
			Blob.fake ? (r = new Blob, h ? r.encoding = "base64" : r.encoding = "URI", r.data = u, r.size = u.length) : n &&
				(r = h ? new Blob([s(u)], {
					type: t
				}) : new Blob([decodeURIComponent(u)], {
					type: t
				})), e(r)
		}), !i.toBlobHD && i.toDataURLHD ? i.toBlobHD = function() {
			a = "toDataURLHD";
			var e = this.toBlob();
			return a = "toDataURL", e
		} : i.toBlobHD = i.toBlob)
	}("undefined" != typeof self && self || "undefined" != typeof window && window || this.content || this), define(
		"canvasToBlob",
		function() {});
var saveAs = saveAs || function(e) {
	"use strict";
	if (!("undefined" == typeof e || "undefined" != typeof navigator && /MSIE [1-9]\./.test(navigator.userAgent))) {
		var t = e.document,
			n = function() {
				return e.URL || e.webkitURL || e
			},
			r = t.createElementNS("http://www.w3.org/1999/xhtml", "a"),
			i = "download" in r,
			o = function(e) {
				var t = new MouseEvent("click");
				e.dispatchEvent(t)
			},
			a = /constructor/i.test(e.HTMLElement) || e.safari,
			s = /CriOS\/[\d]+/.test(navigator.userAgent),
			l = function(t) {
				(e.setImmediate || e.setTimeout)(function() {
					throw t
				}, 0)
			},
			c = "application/octet-stream",
			u = 4e4,
			h = function(e) {
				var t = function() {
					"string" == typeof e ? n().revokeObjectURL(e) : e.remove()
				};
				setTimeout(t, u)
			},
			f = function(e, t, n) {
				t = [].concat(t);
				for (var r = t.length; r--;) {
					var i = e["on" + t[r]];
					if ("function" == typeof i) try {
						i.call(e, n || e)
					} catch (o) {
						l(o)
					}
				}
			},
			d = function(e) {
				return /^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type) ? new Blob([
					String.fromCharCode(65279), e
				], {
					type: e.type
				}) : e
			},
			p = function(t, l, u) {
				u || (t = d(t));
				var p, g = this,
					m = t.type,
					v = m === c,
					y = function() {
						f(g, "writestart progress write writeend".split(" "))
					},
					b = function() {
						if ((s || v && a) && e.FileReader) {
							var r = new FileReader;
							return r.onloadend = function() {
								var t = s ? r.result : r.result.replace(/^data:[^;]*;/, "data:attachment/file;"),
									n = e.open(t, "_blank");
								n || (e.location.href = t), t = void 0, g.readyState = g.DONE, y()
							}, r.readAsDataURL(t), void(g.readyState = g.INIT)
						}
						if (p || (p = n().createObjectURL(t)), v) e.location.href = p;
						else {
							var i = e.open(p, "_blank");
							i || (e.location.href = p)
						}
						g.readyState = g.DONE, y(), h(p)
					};
				return g.readyState = g.INIT, i ? (p = n().createObjectURL(t), void setTimeout(function() {
					r.href = p, r.download = l, o(r), y(), h(p), g.readyState = g.DONE
				})) : void b()
			},
			g = p.prototype,
			m = function(e, t, n) {
				return new p(e, t || e.name || "download", n)
			};
		return "undefined" != typeof navigator && navigator.msSaveOrOpenBlob ? function(e, t, n) {
			return t = t || e.name || "download", n || (e = d(e)), navigator.msSaveOrOpenBlob(e, t)
		} : (g.abort = function() {}, g.readyState = g.INIT = 0, g.WRITING = 1, g.DONE = 2, g.error = g.onwritestart = g.onprogress =
			g.onwrite = g.onabort = g.onerror = g.onwriteend = null, m)
	}
}("undefined" != typeof self && self || "undefined" != typeof window && window || this.content);
"undefined" != typeof module && module.exports ? module.exports.saveAs = saveAs : "undefined" != typeof define && null !==
	define && null !== define.amd && define("FileSaver.js", [], function() {
		return saveAs
	}), define("saveAs", function() {}),
	function() {
		function e(e, t, n) {
			return e.call.apply(e.bind, arguments)
		}

		function t(e, t, n) {
			if (!e) throw Error();
			if (2 < arguments.length) {
				var r = Array.prototype.slice.call(arguments, 2);
				return function() {
					var n = Array.prototype.slice.call(arguments);
					return Array.prototype.unshift.apply(n, r), e.apply(t, n)
				}
			}
			return function() {
				return e.apply(t, arguments)
			}
		}

		function n(r, i, o) {
			return n = Function.prototype.bind && -1 != Function.prototype.bind.toString().indexOf("native code") ? e : t, n.apply(
				null, arguments)
		}

		function r(e, t) {
			this.a = e, this.m = t || e, this.c = this.m.document
		}

		function i(e, t, n, r) {
			if (t = e.c.createElement(t), n)
				for (var i in n) n.hasOwnProperty(i) && ("style" == i ? t.style.cssText = n[i] : t.setAttribute(i, n[i]));
			return r && t.appendChild(e.c.createTextNode(r)), t
		}

		function o(e, t, n) {
			e = e.c.getElementsByTagName(t)[0], e || (e = document.documentElement), e.insertBefore(n, e.lastChild)
		}

		function a(e) {
			e.parentNode && e.parentNode.removeChild(e)
		}

		function s(e, t, n) {
			t = t || [], n = n || [];
			for (var r = e.className.split(/\s+/), i = 0; i < t.length; i += 1) {
				for (var o = !1, a = 0; a < r.length; a += 1)
					if (t[i] === r[a]) {
						o = !0;
						break
					} o || r.push(t[i])
			}
			for (t = [], i = 0; i < r.length; i += 1) {
				for (o = !1, a = 0; a < n.length; a += 1)
					if (r[i] === n[a]) {
						o = !0;
						break
					} o || t.push(r[i])
			}
			e.className = t.join(" ").replace(/\s+/g, " ").replace(/^\s+|\s+$/, "")
		}

		function l(e, t) {
			for (var n = e.className.split(/\s+/), r = 0, i = n.length; i > r; r++)
				if (n[r] == t) return !0;
			return !1
		}

		function c(e) {
			if ("string" == typeof e.f) return e.f;
			var t = e.m.location.protocol;
			return "about:" == t && (t = e.a.location.protocol), "https:" == t ? "https:" : "http:"
		}

		function u(e) {
			return e.m.location.hostname || e.a.location.hostname
		}

		function h(e, t, n) {
			function r() {
				c && a && s && (c(l), c = null)
			}
			t = i(e, "link", {
				rel: "stylesheet",
				href: t,
				media: "all"
			});
			var a = !1,
				s = !0,
				l = null,
				c = n || null;
			re ? (t.onload = function() {
				a = !0, r()
			}, t.onerror = function() {
				a = !0, l = Error("Stylesheet failed to load"), r()
			}) : setTimeout(function() {
				a = !0, r()
			}, 0), o(e, "head", t)
		}

		function f(e, t, n, r) {
			var o = e.c.getElementsByTagName("head")[0];
			if (o) {
				var a = i(e, "script", {
						src: t
					}),
					s = !1;
				return a.onload = a.onreadystatechange = function() {
					s || this.readyState && "loaded" != this.readyState && "complete" != this.readyState || (s = !0, n && n(null), a.onload =
						a.onreadystatechange = null, "HEAD" == a.parentNode.tagName && o.removeChild(a))
				}, o.appendChild(a), setTimeout(function() {
					s || (s = !0, n && n(Error("Script load timeout")))
				}, r || 5e3), a
			}
			return null
		}

		function d() {
			this.a = 0, this.c = null
		}

		function p(e) {
			return e.a++,
				function() {
					e.a--, m(e)
				}
		}

		function g(e, t) {
			e.c = t, m(e)
		}

		function m(e) {
			0 == e.a && e.c && (e.c(), e.c = null)
		}

		function v(e) {
			this.a = e || "-"
		}

		function y(e, t) {
			this.c = e, this.f = 4, this.a = "n";
			var n = (t || "n4").match(/^([nio])([1-9])$/i);
			n && (this.a = n[1], this.f = parseInt(n[2], 10))
		}

		function b(e) {
			return S(e) + " " + (e.f + "00") + " 300px " + x(e.c)
		}

		function x(e) {
			var t = [];
			e = e.split(/,\s*/);
			for (var n = 0; n < e.length; n++) {
				var r = e[n].replace(/['"]/g, ""); - 1 != r.indexOf(" ") || /^\d/.test(r) ? t.push("'" + r + "'") : t.push(r)
			}
			return t.join(",")
		}

		function w(e) {
			return e.a + e.f
		}

		function S(e) {
			var t = "normal";
			return "o" === e.a ? t = "oblique" : "i" === e.a && (t = "italic"), t
		}

		function _(e) {
			var t = 4,
				n = "n",
				r = null;
			return e && ((r = e.match(/(normal|oblique|italic)/i)) && r[1] && (n = r[1].substr(0, 1).toLowerCase()), (r = e.match(
				/([1-9]00|normal|bold)/i)) && r[1] && (/bold/i.test(r[1]) ? t = 7 : /[1-9]00/.test(r[1]) && (t = parseInt(r[1].substr(
				0, 1), 10)))), n + t
		}

		function T(e, t) {
			this.c = e, this.f = e.m.document.documentElement, this.h = t, this.a = new v("-"), this.j = !1 !== t.events, this.g = !
				1 !== t.classes
		}

		function C(e) {
			e.g && s(e.f, [e.a.c("wf", "loading")]), O(e, "loading")
		}

		function E(e) {
			if (e.g) {
				var t = l(e.f, e.a.c("wf", "active")),
					n = [],
					r = [e.a.c("wf", "loading")];
				t || n.push(e.a.c("wf", "inactive")), s(e.f, n, r)
			}
			O(e, "inactive")
		}

		function O(e, t, n) {
			e.j && e.h[t] && (n ? e.h[t](n.c, w(n)) : e.h[t]())
		}

		function k() {
			this.c = {}
		}

		function R(e, t, n) {
			var r, i = [];
			for (r in t)
				if (t.hasOwnProperty(r)) {
					var o = e.c[r];
					o && i.push(o(t[r], n))
				} return i
		}

		function D(e, t) {
			this.c = e, this.f = t, this.a = i(this.c, "span", {
				"aria-hidden": "true"
			}, this.f)
		}

		function A(e) {
			o(e.c, "body", e.a)
		}

		function I(e) {
			return "display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:" +
				x(e.c) + ";" + ("font-style:" + S(e) + ";font-weight:" + (e.f + "00") + ";")
		}

		function M(e, t, n, r, i, o) {
			this.g = e, this.j = t, this.a = r, this.c = n, this.f = i || 3e3, this.h = o || void 0
		}

		function L(e, t, n, r, i, o, a) {
			this.v = e, this.B = t, this.c = n, this.a = r, this.s = a || "BESbswy", this.f = {}, this.w = i || 3e3, this.u = o ||
				null, this.o = this.j = this.h = this.g = null, this.g = new D(this.c, this.s), this.h = new D(this.c, this.s),
				this.j = new D(this.c, this.s), this.o = new D(this.c, this.s), e = new y(this.a.c + ",serif", w(this.a)), e = I(e),
				this.g.a.style.cssText = e, e = new y(this.a.c + ",sans-serif", w(this.a)), e = I(e), this.h.a.style.cssText = e, e =
				new y("serif", w(this.a)), e = I(e), this.j.a.style.cssText = e, e = new y("sans-serif", w(this.a)), e = I(e), this
				.o.a.style.cssText = e, A(this.g), A(this.h), A(this.j), A(this.o)
		}

		function P() {
			if (null === oe) {
				var e = /AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent);
				oe = !!e && (536 > parseInt(e[1], 10) || 536 === parseInt(e[1], 10) && 11 >= parseInt(e[2], 10))
			}
			return oe
		}

		function F(e, t, n) {
			for (var r in ie)
				if (ie.hasOwnProperty(r) && t === e.f[ie[r]] && n === e.f[ie[r]]) return !0;
			return !1
		}

		function U(e) {
			var t, n = e.g.a.offsetWidth,
				r = e.h.a.offsetWidth;
			(t = n === e.f.serif && r === e.f["sans-serif"]) || (t = P() && F(e, n, r)), t ? ne() - e.A >= e.w ? P() && F(e, n,
				r) && (null === e.u || e.u.hasOwnProperty(e.a.c)) ? B(e, e.v) : B(e, e.B) : j(e) : B(e, e.v)
		}

		function j(e) {
			setTimeout(n(function() {
				U(this)
			}, e), 50)
		}

		function B(e, t) {
			setTimeout(n(function() {
				a(this.g.a), a(this.h.a), a(this.j.a), a(this.o.a), t(this.a)
			}, e), 0)
		}

		function N(e, t, n) {
			this.c = e, this.a = t, this.f = 0, this.o = this.j = !1, this.s = n
		}

		function z(e) {
			0 == --e.f && e.j && (e.o ? (e = e.a, e.g && s(e.f, [e.a.c("wf", "active")], [e.a.c("wf", "loading"), e.a.c("wf",
				"inactive")]), O(e, "active")) : E(e.a))
		}

		function H(e) {
			this.j = e, this.a = new k, this.h = 0, this.f = this.g = !0
		}

		function G(e, t, r, i, o) {
			var a = 0 == --e.h;
			(e.f || e.g) && setTimeout(function() {
				var e = o || null,
					l = i || null || {};
				if (0 === r.length && a) E(t.a);
				else {
					t.f += r.length, a && (t.j = a);
					var c, u = [];
					for (c = 0; c < r.length; c++) {
						var h = r[c],
							f = l[h.c],
							d = t.a,
							p = h;
						d.g && s(d.f, [d.a.c("wf", p.c, w(p).toString(), "loading")]), O(d, "fontloading", p), d = null, null === ae &&
							(ae = window.FontFace ? (p = /Gecko.*Firefox\/(\d+)/.exec(window.navigator.userAgent)) ? 42 < parseInt(p[1],
								10) : !0 : !1), d = ae ? new M(n(t.g, t), n(t.h, t), t.c, h, t.s, f) : new L(n(t.g, t), n(t.h, t), t.c, h, t.s,
								e, f), u.push(d)
					}
					for (c = 0; c < u.length; c++) u[c].start()
				}
			}, 0)
		}

		function X(e, t, n) {
			var r = [],
				i = n.timeout;
			C(t);
			var r = R(e.a, n, e.c),
				o = new N(e.c, t, i);
			for (e.h = r.length, t = 0, n = r.length; n > t; t++) r[t].load(function(t, n, r) {
				G(e, o, t, n, r)
			})
		}

		function W(e, t) {
			this.c = e, this.a = t
		}

		function Y(e, t, n) {
			var r = c(e.c);
			return e = (e.a.api || "fast.fonts.net/jsapi").replace(/^.*http(s?):(\/\/)?/, ""), r + "//" + e + "/" + t + ".js" +
				(n ? "?v=" + n : "")
		}

		function q(e, t) {
			this.c = e, this.a = t
		}

		function V(e, t, n) {
			e ? this.c = e : this.c = t + se, this.a = [], this.f = [], this.g = n || ""
		}

		function K(e, t) {
			for (var n = t.length, r = 0; n > r; r++) {
				var i = t[r].split(":");
				3 == i.length && e.f.push(i.pop());
				var o = "";
				2 == i.length && "" != i[1] && (o = ":"), e.a.push(i.join(o))
			}
		}

		function $(e) {
			if (0 == e.a.length) throw Error("No fonts to load!");
			if (-1 != e.c.indexOf("kit=")) return e.c;
			for (var t = e.a.length, n = [], r = 0; t > r; r++) n.push(e.a[r].replace(/ /g, "+"));
			return t = e.c + "?family=" + n.join("%7C"), 0 < e.f.length && (t += "&subset=" + e.f.join(",")), 0 < e.g.length &&
				(t += "&text=" + encodeURIComponent(e.g)), t
		}

		function Z(e) {
			this.f = e, this.a = [], this.c = {}
		}

		function Q(e) {
			for (var t = e.f.length, n = 0; t > n; n++) {
				var r = e.f[n].split(":"),
					i = r[0].replace(/\+/g, " "),
					o = ["n4"];
				if (2 <= r.length) {
					var a, s = r[1];
					if (a = [], s)
						for (var s = s.split(","), l = s.length, c = 0; l > c; c++) {
							var u;
							if (u = s[c], u.match(/^[\w-]+$/)) {
								var h = he.exec(u.toLowerCase());
								if (null == h) u = "";
								else {
									if (u = h[2], u = null == u || "" == u ? "n" : ue[u], h = h[1], null == h || "" == h) h = "4";
									else var f = ce[h],
										h = f ? f : isNaN(h) ? "4" : h.substr(0, 1);
									u = [u, h].join("")
								}
							} else u = "";
							u && a.push(u)
						}
					0 < a.length && (o = a), 3 == r.length && (r = r[2], a = [], r = r ? r.split(",") : a, 0 < r.length && (r = le[r[0]]) &&
						(e.c[i] = r))
				}
				for (e.c[i] || (r = le[i]) && (e.c[i] = r), r = 0; r < o.length; r += 1) e.a.push(new y(i, o[r]))
			}
		}

		function J(e, t) {
			this.c = e, this.a = t
		}

		function ee(e, t) {
			this.c = e, this.a = t
		}

		function te(e, t) {
			this.c = e, this.f = t, this.a = []
		}
		var ne = Date.now || function() {
				return +new Date
			},
			re = !!window.FontFace;
		v.prototype.c = function(e) {
			for (var t = [], n = 0; n < arguments.length; n++) t.push(arguments[n].replace(/[\W_]+/g, "").toLowerCase());
			return t.join(this.a)
		}, M.prototype.start = function() {
			var e = this.c.m.document,
				t = this,
				n = ne(),
				r = new Promise(function(r, i) {
					function o() {
						ne() - n >= t.f ? i() : e.fonts.load(b(t.a), t.h).then(function(e) {
							1 <= e.length ? r() : setTimeout(o, 25)
						}, function() {
							i()
						})
					}
					o()
				}),
				i = new Promise(function(e, n) {
					setTimeout(n, t.f)
				});
			Promise.race([i, r]).then(function() {
				t.g(t.a)
			}, function() {
				t.j(t.a)
			})
		};
		var ie = {
				D: "serif",
				C: "sans-serif"
			},
			oe = null;
		L.prototype.start = function() {
			this.f.serif = this.j.a.offsetWidth, this.f["sans-serif"] = this.o.a.offsetWidth, this.A = ne(), U(this)
		};
		var ae = null;
		N.prototype.g = function(e) {
			var t = this.a;
			t.g && s(t.f, [t.a.c("wf", e.c, w(e).toString(), "active")], [t.a.c("wf", e.c, w(e).toString(), "loading"), t.a.c(
				"wf", e.c, w(e).toString(), "inactive")]), O(t, "fontactive", e), this.o = !0, z(this)
		}, N.prototype.h = function(e) {
			var t = this.a;
			if (t.g) {
				var n = l(t.f, t.a.c("wf", e.c, w(e).toString(), "active")),
					r = [],
					i = [t.a.c("wf", e.c, w(e).toString(), "loading")];
				n || r.push(t.a.c("wf", e.c, w(e).toString(), "inactive")), s(t.f, r, i)
			}
			O(t, "fontinactive", e), z(this)
		}, H.prototype.load = function(e) {
			this.c = new r(this.j, e.context || this.j), this.g = !1 !== e.events, this.f = !1 !== e.classes, X(this, new T(
				this.c, e), e)
		}, W.prototype.load = function(e) {
			function t() {
				if (o["__mti_fntLst" + r]) {
					var n, i = o["__mti_fntLst" + r](),
						a = [];
					if (i)
						for (var s = 0; s < i.length; s++) {
							var l = i[s].fontfamily;
							void 0 != i[s].fontStyle && void 0 != i[s].fontWeight ? (n = i[s].fontStyle + i[s].fontWeight, a.push(new y(l,
								n))) : a.push(new y(l))
						}
					e(a)
				} else setTimeout(function() {
					t()
				}, 50)
			}
			var n = this,
				r = n.a.projectId,
				i = n.a.version;
			if (r) {
				var o = n.c.m;
				f(this.c, Y(n, r, i), function(i) {
					i ? e([]) : (o["__MonotypeConfiguration__" + r] = function() {
						return n.a
					}, t())
				}).id = "__MonotypeAPIScript__" + r
			} else e([])
		}, q.prototype.load = function(e) {
			var t, n, r = this.a.urls || [],
				i = this.a.families || [],
				o = this.a.testStrings || {},
				a = new d;
			for (t = 0, n = r.length; n > t; t++) h(this.c, r[t], p(a));
			var s = [];
			for (t = 0, n = i.length; n > t; t++)
				if (r = i[t].split(":"), r[1])
					for (var l = r[1].split(","), c = 0; c < l.length; c += 1) s.push(new y(r[0], l[c]));
				else s.push(new y(r[0]));
			g(a, function() {
				e(s, o)
			})
		};
		var se = "//fonts.googleapis.com/css",
			le = {
				latin: "BESbswy",
				"latin-ext": "çöüğş",
				cyrillic: "йяЖ",
				greek: "αβΣ",
				khmer: "កខគ",
				Hanuman: "កខគ"
			},
			ce = {
				thin: "1",
				extralight: "2",
				"extra-light": "2",
				ultralight: "2",
				"ultra-light": "2",
				light: "3",
				regular: "4",
				book: "4",
				medium: "5",
				"semi-bold": "6",
				semibold: "6",
				"demi-bold": "6",
				demibold: "6",
				bold: "7",
				"extra-bold": "8",
				extrabold: "8",
				"ultra-bold": "8",
				ultrabold: "8",
				black: "9",
				heavy: "9",
				l: "3",
				r: "4",
				b: "7"
			},
			ue = {
				i: "i",
				italic: "i",
				n: "n",
				normal: "n"
			},
			he =
			/^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/,
			fe = {
				Arimo: !0,
				Cousine: !0,
				Tinos: !0
			};
		J.prototype.load = function(e) {
			var t = new d,
				n = this.c,
				r = new V(this.a.api, c(n), this.a.text),
				i = this.a.families;
			K(r, i);
			var o = new Z(i);
			Q(o), h(n, $(r), p(t)), g(t, function() {
				e(o.a, o.c, fe)
			})
		}, ee.prototype.load = function(e) {
			var t = this.a.id,
				n = this.c.m;
			t ? f(this.c, (this.a.api || "https://use.typekit.net") + "/" + t + ".js", function(t) {
				if (t) e([]);
				else if (n.Typekit && n.Typekit.config && n.Typekit.config.fn) {
					t = n.Typekit.config.fn;
					for (var r = [], i = 0; i < t.length; i += 2)
						for (var o = t[i], a = t[i + 1], s = 0; s < a.length; s++) r.push(new y(o, a[s]));
					try {
						n.Typekit.load({
							events: !1,
							classes: !1,
							async: !0
						})
					} catch (l) {}
					e(r)
				}
			}, 2e3) : e([])
		}, te.prototype.load = function(e) {
			var t = this.f.id,
				n = this.c.m,
				r = this;
			t ? (n.__webfontfontdeckmodule__ || (n.__webfontfontdeckmodule__ = {}), n.__webfontfontdeckmodule__[t] = function(t,
				n) {
				for (var i = 0, o = n.fonts.length; o > i; ++i) {
					var a = n.fonts[i];
					r.a.push(new y(a.name, _("font-weight:" + a.weight + ";font-style:" + a.style)))
				}
				e(r.a)
			}, f(this.c, c(this.c) + (this.f.api || "//f.fontdeck.com/s/css/js/") + u(this.c) + "/" + t + ".js", function(t) {
				t && e([])
			})) : e([])
		};
		var de = new H(window);
		de.a.c.custom = function(e, t) {
			return new q(t, e)
		}, de.a.c.fontdeck = function(e, t) {
			return new te(t, e)
		}, de.a.c.monotype = function(e, t) {
			return new W(t, e)
		}, de.a.c.typekit = function(e, t) {
			return new ee(t, e)
		}, de.a.c.google = function(e, t) {
			return new J(t, e)
		};
		var pe = {
			load: n(de.load, de)
		};
		"function" == typeof define && define.amd ? define("webfontloader", [], function() {
			return pe
		}) : "undefined" != typeof module && module.exports ? module.exports = pe : (window.WebFont = pe, window.WebFontConfig &&
			de.load(window.WebFontConfig))
	}();
var fabric = fabric || {
	version: "2.2.2"
};
"undefined" != typeof exports ? exports.fabric = fabric : "function" == typeof define && define.amd && define("fabric",
		[],
		function() {
			return fabric
		}), "undefined" != typeof document && "undefined" != typeof window ? (fabric.document = document, fabric.window =
		window) : (fabric.document = require("jsdom").jsdom(decodeURIComponent(
			"%3C!DOCTYPE%20html%3E%3Chtml%3E%3Chead%3E%3C%2Fhead%3E%3Cbody%3E%3C%2Fbody%3E%3C%2Fhtml%3E"), {
			features: {
				FetchExternalResources: ["img"]
			}
		}), fabric.jsdomImplForWrapper = require("jsdom/lib/jsdom/living/generated/utils").implForWrapper, fabric.nodeCanvas =
		require("jsdom/lib/jsdom/utils").Canvas, fabric.window = fabric.document.defaultView, DOMParser = require("xmldom").DOMParser
	), fabric.isTouchSupported = "ontouchstart" in fabric.window, fabric.isLikelyNode = "undefined" != typeof Buffer &&
	"undefined" == typeof window, fabric.SHARED_ATTRIBUTES = ["display", "transform", "fill", "fill-opacity", "fill-rule",
		"opacity", "stroke", "stroke-dasharray", "stroke-linecap", "stroke-linejoin", "stroke-miterlimit", "stroke-opacity",
		"stroke-width", "id", "paint-order", "instantiated_by_use"
	], fabric.DPI = 96, fabric.reNum = "(?:[-+]?(?:\\d+|\\d*\\.\\d+)(?:e[-+]?\\d+)?)", fabric.fontPaths = {}, fabric.iMatrix = [
		1, 0, 0, 1, 0, 0
	], fabric.canvasModule = "canvas", fabric.perfLimitSizeTotal = 2097152, fabric.maxCacheSideLimit = 4096, fabric.minCacheSideLimit =
	256, fabric.charWidthsCache = {}, fabric.textureSize = 2048, fabric.enableGLFiltering = !0, fabric.devicePixelRatio =
	fabric.window.devicePixelRatio || fabric.window.webkitDevicePixelRatio || fabric.window.mozDevicePixelRatio || 1,
	fabric.browserShadowBlurConstant = 1, fabric.initFilterBackend = function() {
		return fabric.enableGLFiltering && fabric.isWebglSupported && fabric.isWebglSupported(fabric.textureSize) ? (console.log(
			"max texture size: " + fabric.maxTextureSize), new fabric.WebglFilterBackend({
			tileSize: fabric.textureSize
		})) : fabric.Canvas2dFilterBackend ? new fabric.Canvas2dFilterBackend : void 0
	}, "undefined" != typeof document && "undefined" != typeof window && (window.fabric = fabric),
	function() {
		function e(e, t) {
			if (this.__eventListeners[e]) {
				var n = this.__eventListeners[e];
				t ? n[n.indexOf(t)] = !1 : fabric.util.array.fill(n, !1)
			}
		}

		function t(e, t) {
			if (this.__eventListeners || (this.__eventListeners = {}), 1 === arguments.length)
				for (var n in e) this.on(n, e[n]);
			else this.__eventListeners[e] || (this.__eventListeners[e] = []), this.__eventListeners[e].push(t);
			return this
		}

		function n(t, n) {
			if (this.__eventListeners) {
				if (0 === arguments.length)
					for (t in this.__eventListeners) e.call(this, t);
				else if (1 === arguments.length && "object" == typeof t)
					for (var r in t) e.call(this, r, t[r]);
				else e.call(this, t, n);
				return this
			}
		}

		function r(e, t) {
			if (this.__eventListeners) {
				var n = this.__eventListeners[e];
				if (n) {
					for (var r = 0, i = n.length; i > r; r++) n[r] && n[r].call(this, t || {});
					return this.__eventListeners[e] = n.filter(function(e) {
						return !1 !== e
					}), this
				}
			}
		}
		fabric.Observable = {
			observe: t,
			stopObserving: n,
			fire: r,
			on: t,
			off: n,
			trigger: r
		}
	}(), fabric.Collection = {
		_objects: [],
		add: function() {
			if (this._objects.push.apply(this._objects, arguments), this._onObjectAdded)
				for (var e = 0, t = arguments.length; t > e; e++) this._onObjectAdded(arguments[e]);
			return this.renderOnAddRemove && this.requestRenderAll(), this
		},
		insertAt: function(e, t, n) {
			var r = this.getObjects();
			return n ? r[t] = e : r.splice(t, 0, e), this._onObjectAdded && this._onObjectAdded(e), this.renderOnAddRemove &&
				this.requestRenderAll(), this
		},
		remove: function() {
			for (var e, t = this.getObjects(), n = !1, r = 0, i = arguments.length; i > r; r++) - 1 !== (e = t.indexOf(
				arguments[r])) && (n = !0, t.splice(e, 1), this._onObjectRemoved && this._onObjectRemoved(arguments[r]));
			return this.renderOnAddRemove && n && this.requestRenderAll(), this
		},
		forEachObject: function(e, t) {
			for (var n = this.getObjects(), r = 0, i = n.length; i > r; r++) e.call(t, n[r], r, n);
			return this
		},
		getObjects: function(e) {
			return void 0 === e ? this._objects : this._objects.filter(function(t) {
				return t.type === e
			})
		},
		item: function(e) {
			return this.getObjects()[e]
		},
		isEmpty: function() {
			return 0 === this.getObjects().length
		},
		size: function() {
			return this.getObjects().length
		},
		contains: function(e) {
			return -1 < this.getObjects().indexOf(e)
		},
		complexity: function() {
			return this.getObjects().reduce(function(e, t) {
				return e += t.complexity ? t.complexity() : 0
			}, 0)
		}
	}, fabric.CommonMethods = {
		_setOptions: function(e) {
			for (var t in e) this.set(t, e[t])
		},
		_initGradient: function(e, t) {
			!e || !e.colorStops || e instanceof fabric.Gradient || this.set(t, new fabric.Gradient(e))
		},
		_initPattern: function(e, t, n) {
			!e || !e.source || e instanceof fabric.Pattern ? n && n() : this.set(t, new fabric.Pattern(e, n))
		},
		_initClipping: function(e) {
			if (e.clipTo && "string" == typeof e.clipTo) {
				var t = fabric.util.getFunctionBody(e.clipTo);
				void 0 !== t && (this.clipTo = new Function("ctx", t))
			}
		},
		_setObject: function(e) {
			for (var t in e) this._set(t, e[t])
		},
		set: function(e, t) {
			return "object" == typeof e ? this._setObject(e) : "function" == typeof t && "clipTo" !== e ? this._set(e, t(this.get(
				e))) : this._set(e, t), this
		},
		_set: function(e, t) {
			this[e] = t
		},
		toggle: function(e) {
			var t = this.get(e);
			return "boolean" == typeof t && this.set(e, !t), this
		},
		get: function(e) {
			return this[e]
		}
	},
	function(e) {
		var t = Math.sqrt,
			n = Math.atan2,
			r = Math.pow,
			i = Math.abs,
			o = Math.PI / 180,
			a = Math.PI / 2;
		fabric.util = {
			cos: function(e) {
				if (0 === e) return 1;
				switch (0 > e && (e = -e), e / a) {
					case 1:
					case 3:
						return 0;
					case 2:
						return -1
				}
				return Math.cos(e)
			},
			sin: function(e) {
				if (0 === e) return 0;
				var t = 1;
				switch (0 > e && (t = -1), e / a) {
					case 1:
						return t;
					case 2:
						return 0;
					case 3:
						return -t
				}
				return Math.sin(e)
			},
			removeFromArray: function(e, t) {
				var n = e.indexOf(t);
				return -1 !== n && e.splice(n, 1), e
			},
			getRandomInt: function(e, t) {
				return Math.floor(Math.random() * (t - e + 1)) + e
			},
			degreesToRadians: function(e) {
				return e * o
			},
			radiansToDegrees: function(e) {
				return e / o
			},
			rotatePoint: function(e, t, n) {
				e.subtractEquals(t);
				var r = fabric.util.rotateVector(e, n);
				return new fabric.Point(r.x, r.y).addEquals(t)
			},
			rotateVector: function(e, t) {
				var n = fabric.util.sin(t),
					r = fabric.util.cos(t);
				return {
					x: e.x * r - e.y * n,
					y: e.x * n + e.y * r
				}
			},
			transformPoint: function(e, t, n) {
				return n ? new fabric.Point(t[0] * e.x + t[2] * e.y, t[1] * e.x + t[3] * e.y) : new fabric.Point(t[0] * e.x + t[2] *
					e.y + t[4], t[1] * e.x + t[3] * e.y + t[5])
			},
			makeBoundingBoxFromPoints: function(e) {
				var t = [e[0].x, e[1].x, e[2].x, e[3].x],
					n = fabric.util.array.min(t),
					r = fabric.util.array.max(t) - n,
					i = [e[0].y, e[1].y, e[2].y, e[3].y],
					o = fabric.util.array.min(i);
				return {
					left: n,
					top: o,
					width: r,
					height: fabric.util.array.max(i) - o
				}
			},
			invertTransform: function(e) {
				var t = 1 / (e[0] * e[3] - e[1] * e[2]),
					n = [t * e[3], -t * e[1], -t * e[2], t * e[0]],
					r = fabric.util.transformPoint({
						x: e[4],
						y: e[5]
					}, n, !0);
				return n[4] = -r.x, n[5] = -r.y, n
			},
			toFixed: function(e, t) {
				return parseFloat(Number(e).toFixed(t))
			},
			parseUnit: function(e, t) {
				var n = /\D{0,2}$/.exec(e),
					r = parseFloat(e);
				switch (t || (t = fabric.Text.DEFAULT_SVG_FONT_SIZE), n[0]) {
					case "mm":
						return r * fabric.DPI / 25.4;
					case "cm":
						return r * fabric.DPI / 2.54;
					case "in":
						return r * fabric.DPI;
					case "pt":
						return r * fabric.DPI / 72;
					case "pc":
						return r * fabric.DPI / 72 * 12;
					case "em":
						return r * t;
					default:
						return r
				}
			},
			falseFunction: function() {
				return !1
			},
			getKlass: function(e, t) {
				return e = fabric.util.string.camelize(e.charAt(0).toUpperCase() + e.slice(1)), fabric.util.resolveNamespace(t)[e]
			},
			getSvgAttributes: function(e) {
				var t = ["instantiated_by_use", "style", "id", "class"];
				switch (e) {
					case "linearGradient":
						t = t.concat(["x1", "y1", "x2", "y2", "gradientUnits", "gradientTransform"]);
						break;
					case "radialGradient":
						t = t.concat(["gradientUnits", "gradientTransform", "cx", "cy", "r", "fx", "fy", "fr"]);
						break;
					case "stop":
						t = t.concat(["offset", "stop-color", "stop-opacity"])
				}
				return t
			},
			resolveNamespace: function(t) {
				if (!t) return fabric;
				var n, r = t.split("."),
					i = r.length,
					o = e || fabric.window;
				for (n = 0; i > n; ++n) o = o[r[n]];
				return o
			},
			loadImage: function(e, t, n, r) {
				if (e) {
					var i = fabric.util.createImage(),
						o = function() {
							t && t.call(n, i), i = i.onload = i.onerror = null
						};
					i.onload = o, i.onerror = function() {
						fabric.log("Error loading " + i.src), t && t.call(n, null, !0), i = i.onload = i.onerror = null
					}, 0 !== e.indexOf("data") && r && (i.crossOrigin = r), "data:image/svg" === e.substring(0, 14) && (i.onload =
						null, fabric.util.loadImageInDom(i, o)), i.src = e
				} else t && t.call(n, e)
			},
			loadImageInDom: function(e, t) {
				var n = fabric.document.createElement("div");
				n.style.width = n.style.height = "1px", n.style.left = n.style.top = "-100%", n.style.position = "absolute", n.appendChild(
					e), fabric.document.querySelector("body").appendChild(n), e.onload = function() {
					t(), n.parentNode.removeChild(n), n = null
				}
			},
			enlivenObjects: function(e, t, n, r) {
				function i() {
					++a === s && t && t(o)
				}
				var o = [],
					a = 0,
					s = (e = e || []).length;
				s ? e.forEach(function(e, t) {
					e && e.type ? fabric.util.getKlass(e.type, n).fromObject(e, function(n, a) {
						a || (o[t] = n), r && r(e, n, a), i()
					}) : i()
				}) : t && t(o)
			},
			enlivenPatterns: function(e, t) {
				function n() {
					++i === o && t && t(r)
				}
				var r = [],
					i = 0,
					o = (e = e || []).length;
				o ? e.forEach(function(e, t) {
					e && e.source ? new fabric.Pattern(e, function(e) {
						r[t] = e, n()
					}) : (r[t] = e, n())
				}) : t && t(r)
			},
			groupSVGElements: function(e, t, n) {
				var r;
				return 1 === e.length ? e[0] : (t && (t.width && t.height ? t.centerPoint = {
					x: t.width / 2,
					y: t.height / 2
				} : (delete t.width, delete t.height)), r = new fabric.Group(e, t), void 0 !== n && (r.sourcePath = n), r)
			},
			populateWithProperties: function(e, t, n) {
				if (n && "[object Array]" === Object.prototype.toString.call(n))
					for (var r = 0, i = n.length; i > r; r++) n[r] in e && (t[n[r]] = e[n[r]])
			},
			drawDashedLine: function(e, r, i, o, a, s) {
				var l = o - r,
					c = a - i,
					u = t(l * l + c * c),
					h = n(c, l),
					f = s.length,
					d = 0,
					p = !0;
				for (e.save(), e.translate(r, i), e.moveTo(0, 0), e.rotate(h), r = 0; u > r;) u < (r += s[d++ % f]) && (r = u), e[
					p ? "lineTo" : "moveTo"](r, 0), p = !p;
				e.restore()
			},
			createCanvasElement: function() {
				return fabric.document.createElement("canvas")
			},
			createImage: function() {
				return fabric.document.createElement("img")
			},
			clipContext: function(e, t) {
				t.save(), t.beginPath(), e.clipTo(t), t.clip()
			},
			multiplyTransformMatrices: function(e, t, n) {
				return [e[0] * t[0] + e[2] * t[1], e[1] * t[0] + e[3] * t[1], e[0] * t[2] + e[2] * t[3], e[1] * t[2] + e[3] * t[3],
					n ? 0 : e[0] * t[4] + e[2] * t[5] + e[4], n ? 0 : e[1] * t[4] + e[3] * t[5] + e[5]
				]
			},
			qrDecompose: function(e) {
				var i = n(e[1], e[0]),
					a = r(e[0], 2) + r(e[1], 2),
					s = t(a),
					l = (e[0] * e[3] - e[2] * e[1]) / s,
					c = n(e[0] * e[2] + e[1] * e[3], a);
				return {
					angle: i / o,
					scaleX: s,
					scaleY: l,
					skewX: c / o,
					skewY: 0,
					translateX: e[4],
					translateY: e[5]
				}
			},
			customTransformMatrix: function(e, t, n) {
				var r = [1, 0, i(Math.tan(n * o)), 1],
					a = [i(e), 0, 0, i(t)];
				return fabric.util.multiplyTransformMatrices(a, r, !0)
			},
			resetObjectTransform: function(e) {
				e.scaleX = 1, e.scaleY = 1, e.skewX = 0, e.skewY = 0, e.flipX = !1, e.flipY = !1, e.rotate(0)
			},
			getFunctionBody: function(e) {
				return (String(e).match(/function[^{]*\{([\s\S]*)\}/) || {})[1]
			},
			isTransparent: function(e, t, n, r) {
				r > 0 && (t > r ? t -= r : t = 0, n > r ? n -= r : n = 0);
				var i, o = !0,
					a = e.getImageData(t, n, 2 * r || 1, 2 * r || 1),
					s = a.data.length;
				for (i = 3; s > i && !1 != (o = a.data[i] <= 0); i += 4);
				return a = null, o
			},
			parsePreserveAspectRatioAttribute: function(e) {
				var t, n = "meet",
					r = e.split(" ");
				return r && r.length && ("meet" !== (n = r.pop()) && "slice" !== n ? (t = n, n = "meet") : r.length && (t = r.pop())), {
					meetOrSlice: n,
					alignX: "none" !== t ? t.slice(1, 4) : "none",
					alignY: "none" !== t ? t.slice(5, 8) : "none"
				}
			},
			clearFabricFontCache: function(e) {
				e ? fabric.charWidthsCache[e] && delete fabric.charWidthsCache[e] : fabric.charWidthsCache = {}
			},
			limitDimsByArea: function(e, t) {
				var n = Math.sqrt(t * e),
					r = Math.floor(t / n);
				return {
					x: Math.floor(n),
					y: r
				}
			},
			capValue: function(e, t, n) {
				return Math.max(e, Math.min(t, n))
			},
			findScaleToFit: function(e, t) {
				return Math.min(t.width / e.width, t.height / e.height)
			},
			findScaleToCover: function(e, t) {
				return Math.max(t.width / e.width, t.height / e.height)
			}
		}
	}("undefined" != typeof exports ? exports : this),
	function() {
		function e(e, r, o, a, l, c, u) {
			var h = s.call(arguments);
			if (i[h]) return i[h];
			var f = Math.PI,
				d = u * f / 180,
				p = fabric.util.sin(d),
				g = fabric.util.cos(d),
				m = 0,
				v = 0,
				y = -g * e * .5 - p * r * .5,
				b = -g * r * .5 + p * e * .5,
				x = (o = Math.abs(o)) * o,
				w = (a = Math.abs(a)) * a,
				S = b * b,
				_ = y * y,
				T = x * w - x * S - w * _,
				C = 0;
			if (0 > T) {
				var E = Math.sqrt(1 - T / (x * w));
				o *= E, a *= E
			} else C = (l === c ? -1 : 1) * Math.sqrt(T / (x * S + w * _));
			var O = C * o * b / a,
				k = -C * a * y / o,
				R = g * O - p * k + .5 * e,
				D = p * O + g * k + .5 * r,
				A = n(1, 0, (y - O) / o, (b - k) / a),
				I = n((y - O) / o, (b - k) / a, (-y - O) / o, (-b - k) / a);
			0 === c && I > 0 ? I -= 2 * f : 1 === c && 0 > I && (I += 2 * f);
			for (var M = Math.ceil(Math.abs(I / f * 2)), L = [], P = I / M, F = 8 / 3 * Math.sin(P / 4) * Math.sin(P / 4) / Math
					.sin(P / 2), U = A + P, j = 0; M > j; j++) L[j] = t(A, U, g, p, o, a, R, D, F, m, v), m = L[j][4], v = L[j][5], A =
				U, U += P;
			return i[h] = L
		}

		function t(e, t, n, r, i, a, l, c, u, h, f) {
			var d = s.call(arguments);
			if (o[d]) return o[d];
			var p = fabric.util.cos(e),
				g = fabric.util.sin(e),
				m = fabric.util.cos(t),
				v = fabric.util.sin(t),
				y = n * i * m - r * a * v + l,
				b = r * i * m + n * a * v + c,
				x = h + u * (-n * i * g - r * a * p),
				w = f + u * (-r * i * g + n * a * p),
				S = y + u * (n * i * v + r * a * m),
				_ = b + u * (r * i * v - n * a * m);
			return o[d] = [x, w, S, _, y, b], o[d]
		}

		function n(e, t, n, r) {
			var i = Math.atan2(t, e),
				o = Math.atan2(r, n);
			return o >= i ? o - i : 2 * Math.PI - (i - o)
		}

		function r(e, t, n, r, i, o, l, c) {
			var u = s.call(arguments);
			if (a[u]) return a[u];
			var h, f, d, p, g, m, v, y, b = Math.sqrt,
				x = Math.min,
				w = Math.max,
				S = Math.abs,
				_ = [],
				T = [
					[],
					[]
				];
			f = 6 * e - 12 * n + 6 * i, h = -3 * e + 9 * n - 9 * i + 3 * l, d = 3 * n - 3 * e;
			for (var C = 0; 2 > C; ++C)
				if (C > 0 && (f = 6 * t - 12 * r + 6 * o, h = -3 * t + 9 * r - 9 * o + 3 * c, d = 3 * r - 3 * t), S(h) < 1e-12) {
					if (S(f) < 1e-12) continue;
					0 < (p = -d / f) && 1 > p && _.push(p)
				} else(v = f * f - 4 * d * h) < 0 || (0 < (g = (-f + (y = b(v))) / (2 * h)) && 1 > g && _.push(g), 0 < (m = (-f - y) /
					(2 * h)) && 1 > m && _.push(m));
			for (var E, O, k, R = _.length, D = R; R--;) E = (k = 1 - (p = _[R])) * k * k * e + 3 * k * k * p * n + 3 * k * p *
				p * i + p * p * p * l, T[0][R] = E, O = k * k * k * t + 3 * k * k * p * r + 3 * k * p * p * o + p * p * p * c, T[1]
				[R] = O;
			T[0][D] = e, T[1][D] = t, T[0][D + 1] = l, T[1][D + 1] = c;
			var A = [{
				x: x.apply(null, T[0]),
				y: x.apply(null, T[1])
			}, {
				x: w.apply(null, T[0]),
				y: w.apply(null, T[1])
			}];
			return a[u] = A
		}
		var i = {},
			o = {},
			a = {},
			s = Array.prototype.join;
		fabric.util.drawArc = function(t, n, r, i) {
			for (var o = i[0], a = i[1], s = i[2], l = i[3], c = i[4], u = [
					[],
					[],
					[],
					[]
				], h = e(i[5] - n, i[6] - r, o, a, l, c, s), f = 0, d = h.length; d > f; f++) u[f][0] = h[f][0] + n, u[f][1] = h[f]
				[1] + r, u[f][2] = h[f][2] + n, u[f][3] = h[f][3] + r, u[f][4] = h[f][4] + n, u[f][5] = h[f][5] + r, t.bezierCurveTo
				.apply(t, u[f])
		}, fabric.util.getBoundsOfArc = function(t, n, i, o, a, s, l, c, u) {
			for (var h, f = 0, d = 0, p = [], g = e(c - t, u - n, i, o, s, l, a), m = 0, v = g.length; v > m; m++) h = r(f, d,
				g[m][0], g[m][1], g[m][2], g[m][3], g[m][4], g[m][5]), p.push({
				x: h[0].x + t,
				y: h[0].y + n
			}), p.push({
				x: h[1].x + t,
				y: h[1].y + n
			}), f = g[m][4], d = g[m][5];
			return p
		}, fabric.util.getBoundsOfCurve = r
	}(),
	function() {
		function e(e, t, n) {
			if (e && 0 !== e.length) {
				var r = e.length - 1,
					i = t ? e[r][t] : e[r];
				if (t)
					for (; r--;) n(e[r][t], i) && (i = e[r][t]);
				else
					for (; r--;) n(e[r], i) && (i = e[r]);
				return i
			}
		}
		var t = Array.prototype.slice;
		fabric.util.array = {
			fill: function(e, t) {
				for (var n = e.length; n--;) e[n] = t;
				return e
			},
			invoke: function(e, n) {
				for (var r = t.call(arguments, 2), i = [], o = 0, a = e.length; a > o; o++) i[o] = r.length ? e[o][n].apply(e[o],
					r) : e[o][n].call(e[o]);
				return i
			},
			min: function(t, n) {
				return e(t, n, function(e, t) {
					return t > e
				})
			},
			max: function(t, n) {
				return e(t, n, function(e, t) {
					return e >= t
				})
			}
		}
	}(),
	function() {
		function e(t, n, r) {
			if (r)
				if (!fabric.isLikelyNode && n instanceof Element) t = n;
				else if (n instanceof Array) {
				t = [];
				for (var i = 0, o = n.length; o > i; i++) t[i] = e({}, n[i], r)
			} else if (n && "object" == typeof n)
				for (var a in n) n.hasOwnProperty(a) && (t[a] = e({}, n[a], r));
			else t = n;
			else
				for (var a in n) t[a] = n[a];
			return t
		}
		fabric.util.object = {
			extend: e,
			clone: function(t, n) {
				return e({}, t, n)
			}
		}, fabric.util.object.extend(fabric.util, fabric.Observable)
	}(),
	function() {
		function e(e, t) {
			var n = e.charCodeAt(t);
			if (isNaN(n)) return "";
			if (55296 > n || n > 57343) return e.charAt(t);
			if (n >= 55296 && 56319 >= n) {
				if (e.length <= t + 1) throw "High surrogate without following low surrogate";
				var r = e.charCodeAt(t + 1);
				if (56320 > r || r > 57343) throw "High surrogate without following low surrogate";
				return e.charAt(t) + e.charAt(t + 1)
			}
			if (0 === t) throw "Low surrogate without preceding high surrogate";
			var i = e.charCodeAt(t - 1);
			if (55296 > i || i > 56319) throw "Low surrogate without preceding high surrogate";
			return !1
		}
		fabric.util.string = {
			camelize: function(e) {
				return e.replace(/-+(.)?/g, function(e, t) {
					return t ? t.toUpperCase() : ""
				})
			},
			capitalize: function(e, t) {
				return e.charAt(0).toUpperCase() + (t ? e.slice(1) : e.slice(1).toLowerCase())
			},
			escapeXml: function(e) {
				return e.replace(/&/g, "&amp;").replace(/"/g, "&quot;").replace(/'/g, "&apos;").replace(/</g, "&lt;").replace(
					/>/g, "&gt;")
			},
			graphemeSplit: function(t) {
				var n, r = 0,
					i = [];
				for (r = 0; r < t.length; r++) !1 !== (n = e(t, r)) && i.push(n);
				return i
			}
		}
	}(),
	function() {
		function e() {}

		function t(e) {
			for (var t = null, r = this; r.constructor.superclass;) {
				var i = r.constructor.superclass.prototype[e];
				if (r[e] !== i) {
					t = i;
					break
				}
				r = r.constructor.superclass.prototype
			}
			return t ? 1 < arguments.length ? t.apply(this, n.call(arguments, 1)) : t.call(this) : console.log(
				"tried to callSuper " + e + ", method not found in prototype chain", this)
		}
		var n = Array.prototype.slice,
			r = function() {},
			i = function() {
				for (var e in {
						toString: 1
					})
					if ("toString" === e) return !1;
				return !0
			}(),
			o = function(e, t, n) {
				for (var r in t) r in e.prototype && "function" == typeof e.prototype[r] && -1 < (t[r] + "").indexOf("callSuper") ?
					e.prototype[r] = function(e) {
						return function() {
							var r = this.constructor.superclass;
							this.constructor.superclass = n;
							var i = t[e].apply(this, arguments);
							return this.constructor.superclass = r, "initialize" !== e ? i : void 0
						}
					}(r) : e.prototype[r] = t[r], i && (t.toString !== Object.prototype.toString && (e.prototype.toString = t.toString),
						t.valueOf !== Object.prototype.valueOf && (e.prototype.valueOf = t.valueOf))
			};
		fabric.util.createClass = function() {
			function i() {
				this.initialize.apply(this, arguments)
			}
			var a = null,
				s = n.call(arguments, 0);
			"function" == typeof s[0] && (a = s.shift()), i.superclass = a, i.subclasses = [], a && (e.prototype = a.prototype,
				i.prototype = new e, a.subclasses.push(i));
			for (var l = 0, c = s.length; c > l; l++) o(i, s[l], a);
			return i.prototype.initialize || (i.prototype.initialize = r), (i.prototype.constructor = i).prototype.callSuper =
				t, i
		}
	}(),
	function() {
		function e(e) {
			var t, n, r = Array.prototype.slice.call(arguments, 1),
				i = r.length;
			for (n = 0; i > n; n++)
				if (t = typeof e[r[n]], !/^(?:function|object|unknown)$/.test(t)) return !1;
			return !0
		}

		function t(e, t) {
			return {
				handler: t,
				wrappedHandler: (n = e, i = t, function(e) {
					i.call(r(n), e || fabric.window.event)
				})
			};
			var n, i
		}

		function n(e, t, n) {
			var r = "touchend" === e.type ? "changedTouches" : "touches";
			return e[r] && e[r][0] && e[r][0][t] - (e[r][0][t] - e[r][0][n]) || e[n]
		}
		var r, i, o, a, s = "unknown",
			l = (o = 0, function(e) {
				return e.__uniqueID || (e.__uniqueID = "uniqueID__" + o++)
			});
		a = {}, r = function(e) {
			return a[e]
		}, i = function(e, t) {
			a[e] = t
		};
		var c, u, h = e(fabric.document.documentElement, "addEventListener", "removeEventListener") && e(fabric.window,
				"addEventListener", "removeEventListener"),
			f = e(fabric.document.documentElement, "attachEvent", "detachEvent") && e(fabric.window, "attachEvent",
				"detachEvent"),
			d = {},
			p = {};
		h ? (c = function(e, t, n, r) {
			e && e.addEventListener(t, n, !f && r)
		}, u = function(e, t, n, r) {
			e && e.removeEventListener(t, n, !f && r)
		}) : f ? (c = function(e, n, r) {
			if (e) {
				var o = l(e);
				i(o, e), d[o] || (d[o] = {}), d[o][n] || (d[o][n] = []);
				var a = t(o, r);
				d[o][n].push(a), e.attachEvent("on" + n, a.wrappedHandler)
			}
		}, u = function(e, t, n) {
			if (e) {
				var r, i = l(e);
				if (d[i] && d[i][t])
					for (var o = 0, a = d[i][t].length; a > o; o++)(r = d[i][t][o]) && r.handler === n && (e.detachEvent("on" + t, r
						.wrappedHandler), d[i][t][o] = null)
			}
		}) : (c = function(e, t, n) {
			if (e) {
				var r, i, o = l(e);
				if (p[o] || (p[o] = {}), !p[o][t]) {
					p[o][t] = [];
					var a = e["on" + t];
					a && p[o][t].push(a), e["on" + t] = (r = o, i = t, function(e) {
						if (p[r] && p[r][i])
							for (var t = p[r][i], n = 0, o = t.length; o > n; n++) t[n].call(this, e || fabric.window.event)
					})
				}
				p[o][t].push(n)
			}
		}, u = function(e, t, n) {
			if (e) {
				var r = l(e);
				if (p[r] && p[r][t])
					for (var i = p[r][t], o = 0, a = i.length; a > o; o++) i[o] === n && i.splice(o, 1)
			}
		}), fabric.util.addListener = c, fabric.util.removeListener = u;
		var g = function(e) {
				return e.clientX
			},
			m = function(e) {
				return e.clientY
			};
		fabric.isTouchSupported && (g = function(e) {
			return n(e, "pageX", "clientX")
		}, m = function(e) {
			return n(e, "pageY", "clientY")
		}), fabric.util.getPointer = function(e) {
			e || (e = fabric.window.event);
			var t = e.target || (typeof e.srcElement !== s ? e.srcElement : null),
				n = fabric.util.getScrollLeftTop(t);
			return {
				x: g(e) + n.left,
				y: m(e) + n.top
			}
		}
	}(),
	function() {
		var e = fabric.document.createElement("div"),
			t = "string" == typeof e.style.opacity,
			n = "string" == typeof e.style.filter,
			r = /alpha\s*\(\s*opacity\s*=\s*([^\)]+)\)/,
			i = function(e) {
				return e
			};
		t ? i = function(e, t) {
			return e.style.opacity = t, e
		} : n && (i = function(e, t) {
			var n = e.style;
			return e.currentStyle && !e.currentStyle.hasLayout && (n.zoom = 1), r.test(n.filter) ? (t = t >= .9999 ? "" :
					"alpha(opacity=" + 100 * t + ")", n.filter = n.filter.replace(r, t)) : n.filter += " alpha(opacity=" + 100 * t +
				")", e
		}), fabric.util.setStyle = function(e, t) {
			var n = e.style;
			if (!n) return e;
			if ("string" == typeof t) return e.style.cssText += ";" + t, -1 < t.indexOf("opacity") ? i(e, t.match(
				/opacity:\s*(\d?\.?\d*)/)[1]) : e;
			for (var r in t) "opacity" === r ? i(e, t[r]) : n["float" === r || "cssFloat" === r ? void 0 === n.styleFloat ?
				"cssFloat" : "styleFloat" : r] = t[r];
			return e
		}
	}(),
	function() {
		function e(e, t) {
			var n = fabric.document.createElement(e);
			for (var r in t) "class" === r ? n.className = t[r] : "for" === r ? n.htmlFor = t[r] : n.setAttribute(r, t[r]);
			return n
		}

		function t(e) {
			for (var t = 0, n = 0, r = fabric.document.documentElement, i = fabric.document.body || {
					scrollLeft: 0,
					scrollTop: 0
				}; e && (e.parentNode || e.host) && ((e = e.parentNode || e.host) === fabric.document ? (t = i.scrollLeft || r.scrollLeft ||
						0, n = i.scrollTop || r.scrollTop || 0) : (t += e.scrollLeft || 0, n += e.scrollTop || 0), 1 !== e.nodeType ||
					"fixed" !== e.style.position););
			return {
				left: t,
				top: n
			}
		}
		var n, r, i, o, a = Array.prototype.slice,
			s = function(e) {
				return a.call(e, 0)
			};
		try {
			n = s(fabric.document.childNodes) instanceof Array
		} catch (n) {}
		n || (s = function(e) {
				for (var t = new Array(e.length), n = e.length; n--;) t[n] = e[n];
				return t
			}), r = fabric.document.defaultView && fabric.document.defaultView.getComputedStyle ? function(e, t) {
				var n = fabric.document.defaultView.getComputedStyle(e, null);
				return n ? n[t] : void 0
			} : function(e, t) {
				var n = e.style[t];
				return !n && e.currentStyle && (n = e.currentStyle[t]), n
			}, i = fabric.document.documentElement.style, o = "userSelect" in i ? "userSelect" : "MozUserSelect" in i ?
			"MozUserSelect" : "WebkitUserSelect" in i ? "WebkitUserSelect" : "KhtmlUserSelect" in i ? "KhtmlUserSelect" : "",
			fabric.util.makeElementUnselectable = function(e) {
				return void 0 !== e.onselectstart && (e.onselectstart = fabric.util.falseFunction), o ? e.style[o] = "none" :
					"string" == typeof e.unselectable && (e.unselectable = "on"), e
			}, fabric.util.makeElementSelectable = function(e) {
				return void 0 !== e.onselectstart && (e.onselectstart = null), o ? e.style[o] = "" : "string" == typeof e.unselectable &&
					(e.unselectable = ""), e
			}, fabric.util.getScript = function(e, t) {
				var n = fabric.document.getElementsByTagName("head")[0],
					r = fabric.document.createElement("script"),
					i = !0;
				r.onload = r.onreadystatechange = function(e) {
					if (i) {
						if ("string" == typeof this.readyState && "loaded" !== this.readyState && "complete" !== this.readyState) return;
						i = !1, t(e || fabric.window.event), r = r.onload = r.onreadystatechange = null
					}
				}, r.src = e, n.appendChild(r)
			}, fabric.util.getById = function(e) {
				return "string" == typeof e ? fabric.document.getElementById(e) : e
			}, fabric.util.toArray = s, fabric.util.makeElement = e, fabric.util.addClass = function(e, t) {
				e && -1 === (" " + e.className + " ").indexOf(" " + t + " ") && (e.className += (e.className ? " " : "") + t)
			}, fabric.util.wrapElement = function(t, n, r) {
				return "string" == typeof n && (n = e(n, r)), t.parentNode && t.parentNode.replaceChild(n, t), n.appendChild(t), n
			}, fabric.util.getScrollLeftTop = t, fabric.util.getElementOffset = function(e) {
				var n, i, o = e && e.ownerDocument,
					a = {
						left: 0,
						top: 0
					},
					s = {
						left: 0,
						top: 0
					},
					l = {
						borderLeftWidth: "left",
						borderTopWidth: "top",
						paddingLeft: "left",
						paddingTop: "top"
					};
				if (!o) return s;
				for (var c in l) s[l[c]] += parseInt(r(e, c), 10) || 0;
				return n = o.documentElement, void 0 !== e.getBoundingClientRect && (a = e.getBoundingClientRect()), i = t(e), {
					left: a.left + i.left - (n.clientLeft || 0) + s.left,
					top: a.top + i.top - (n.clientTop || 0) + s.top
				}
			}, fabric.util.getElementStyle = r, fabric.util.getNodeCanvas = function(e) {
				var t = fabric.jsdomImplForWrapper(e);
				return t._canvas || t._image
			}
	}(),
	function() {
		function e() {}
		var t = function() {
			for (var e = [function() {
					return new ActiveXObject("Microsoft.XMLHTTP")
				}, function() {
					return new ActiveXObject("Msxml2.XMLHTTP")
				}, function() {
					return new ActiveXObject("Msxml2.XMLHTTP.3.0")
				}, function() {
					return new XMLHttpRequest
				}], t = e.length; t--;) try {
				if (e[t]()) return e[t]
			} catch (e) {}
		}();
		fabric.util.request = function(n, r) {
			r || (r = {});
			var i, o, a = r.method ? r.method.toUpperCase() : "GET",
				s = r.onComplete || function() {},
				l = t(),
				c = r.body || r.parameters;
			return l.onreadystatechange = function() {
				4 === l.readyState && (s(l), l.onreadystatechange = e)
			}, "GET" === a && (c = null, "string" == typeof r.parameters && (i = n, o = r.parameters, n = i + (/\?/.test(i) ?
				"&" : "?") + o)), l.open(a, n, !0), "POST" !== a && "PUT" !== a || l.setRequestHeader("Content-Type",
				"application/x-www-form-urlencoded"), l.send(c), l
		}
	}(), fabric.log = function() {}, fabric.warn = function() {}, "undefined" != typeof console && ["log", "warn"].forEach(
		function(e) {
			void 0 !== console[e] && "function" == typeof console[e].apply && (fabric[e] = function() {
				return console[e].apply(console, arguments)
			})
		}),
	function() {
		function e() {
			return !1
		}

		function t() {
			return n.apply(fabric.window, arguments)
		}
		var n = fabric.window.requestAnimationFrame || fabric.window.webkitRequestAnimationFrame || fabric.window.mozRequestAnimationFrame ||
			fabric.window.oRequestAnimationFrame || fabric.window.msRequestAnimationFrame || function(e) {
				return fabric.window.setTimeout(e, 1e3 / 60)
			},
			r = fabric.window.cancelAnimationFrame || fabric.window.clearTimeout;
		fabric.util.animate = function(n) {
			t(function(r) {
				n || (n = {});
				var i, o = r || +new Date,
					a = n.duration || 500,
					s = o + a,
					l = n.onChange || e,
					c = n.abort || e,
					u = n.onComplete || e,
					h = n.easing || function(e, t, n, r) {
						return -n * Math.cos(e / r * (Math.PI / 2)) + n + t
					},
					f = "startValue" in n ? n.startValue : 0,
					d = "endValue" in n ? n.endValue : 100,
					p = n.byValue || d - f;
				n.onStart && n.onStart(),
					function g(e) {
						if (c()) u(d, 1, 1);
						else {
							i = e || +new Date;
							var r = i > s ? a : i - o,
								m = r / a,
								v = h(r, f, p, a),
								y = Math.abs((v - f) / p);
							l(v, y, m), i > s ? n.onComplete && n.onComplete() : t(g)
						}
					}(o)
			})
		}, fabric.util.requestAnimFrame = t, fabric.util.cancelAnimFrame = function() {
			return r.apply(fabric.window, arguments)
		}
	}(), fabric.util.animateColor = function(e, t, n, r) {
		var i = new fabric.Color(e).getSource(),
			o = new fabric.Color(t).getSource();
		r = r || {}, fabric.util.animate(fabric.util.object.extend(r, {
			duration: n || 500,
			startValue: i,
			endValue: o,
			byValue: o,
			easing: function(e, t, n, i) {
				var o, a, s, l, c = r.colorEasing ? r.colorEasing(e, i) : 1 - Math.cos(e / i * (Math.PI / 2));
				return o = t, a = n, s = c, l = "rgba(" + parseInt(o[0] + s * (a[0] - o[0]), 10) + "," + parseInt(o[1] + s * (a[
					1] - o[1]), 10) + "," + parseInt(o[2] + s * (a[2] - o[2]), 10), l += "," + (o && a ? parseFloat(o[3] + s * (a[
					3] - o[3])) : 1), l += ")"
			}
		}))
	},
	function() {
		function e(e, t, n, r) {
			return e < Math.abs(t) ? (e = t, r = n / 4) : r = 0 === t && 0 === e ? n / (2 * Math.PI) * Math.asin(1) : n / (2 *
				Math.PI) * Math.asin(t / e), {
				a: e,
				c: t,
				p: n,
				s: r
			}
		}

		function t(e, t, n) {
			return e.a * Math.pow(2, 10 * (t -= 1)) * Math.sin((t * n - e.s) * (2 * Math.PI) / e.p)
		}

		function n(e, t, n, i) {
			return n - r(i - e, 0, n, i) + t
		}

		function r(e, t, n, r) {
			return (e /= r) < 1 / 2.75 ? n * (7.5625 * e * e) + t : 2 / 2.75 > e ? n * (7.5625 * (e -= 1.5 / 2.75) * e + .75) +
				t : 2.5 / 2.75 > e ? n * (7.5625 * (e -= 2.25 / 2.75) * e + .9375) + t : n * (7.5625 * (e -= 2.625 / 2.75) * e +
					.984375) + t
		}
		fabric.util.ease = {
			easeInQuad: function(e, t, n, r) {
				return n * (e /= r) * e + t
			},
			easeOutQuad: function(e, t, n, r) {
				return -n * (e /= r) * (e - 2) + t
			},
			easeInOutQuad: function(e, t, n, r) {
				return (e /= r / 2) < 1 ? n / 2 * e * e + t : -n / 2 * (--e * (e - 2) - 1) + t
			},
			easeInCubic: function(e, t, n, r) {
				return n * (e /= r) * e * e + t
			},
			easeOutCubic: function(e, t, n, r) {
				return n * ((e = e / r - 1) * e * e + 1) + t
			},
			easeInOutCubic: function(e, t, n, r) {
				return (e /= r / 2) < 1 ? n / 2 * e * e * e + t : n / 2 * ((e -= 2) * e * e + 2) + t
			},
			easeInQuart: function(e, t, n, r) {
				return n * (e /= r) * e * e * e + t
			},
			easeOutQuart: function(e, t, n, r) {
				return -n * ((e = e / r - 1) * e * e * e - 1) + t
			},
			easeInOutQuart: function(e, t, n, r) {
				return (e /= r / 2) < 1 ? n / 2 * e * e * e * e + t : -n / 2 * ((e -= 2) * e * e * e - 2) + t
			},
			easeInQuint: function(e, t, n, r) {
				return n * (e /= r) * e * e * e * e + t
			},
			easeOutQuint: function(e, t, n, r) {
				return n * ((e = e / r - 1) * e * e * e * e + 1) + t
			},
			easeInOutQuint: function(e, t, n, r) {
				return (e /= r / 2) < 1 ? n / 2 * e * e * e * e * e + t : n / 2 * ((e -= 2) * e * e * e * e + 2) + t
			},
			easeInSine: function(e, t, n, r) {
				return -n * Math.cos(e / r * (Math.PI / 2)) + n + t
			},
			easeOutSine: function(e, t, n, r) {
				return n * Math.sin(e / r * (Math.PI / 2)) + t
			},
			easeInOutSine: function(e, t, n, r) {
				return -n / 2 * (Math.cos(Math.PI * e / r) - 1) + t
			},
			easeInExpo: function(e, t, n, r) {
				return 0 === e ? t : n * Math.pow(2, 10 * (e / r - 1)) + t
			},
			easeOutExpo: function(e, t, n, r) {
				return e === r ? t + n : n * (1 - Math.pow(2, -10 * e / r)) + t
			},
			easeInOutExpo: function(e, t, n, r) {
				return 0 === e ? t : e === r ? t + n : (e /= r / 2) < 1 ? n / 2 * Math.pow(2, 10 * (e - 1)) + t : n / 2 * (2 -
					Math.pow(2, -10 * --e)) + t
			},
			easeInCirc: function(e, t, n, r) {
				return -n * (Math.sqrt(1 - (e /= r) * e) - 1) + t
			},
			easeOutCirc: function(e, t, n, r) {
				return n * Math.sqrt(1 - (e = e / r - 1) * e) + t
			},
			easeInOutCirc: function(e, t, n, r) {
				return (e /= r / 2) < 1 ? -n / 2 * (Math.sqrt(1 - e * e) - 1) + t : n / 2 * (Math.sqrt(1 - (e -= 2) * e) + 1) + t
			},
			easeInElastic: function(n, r, i, o) {
				var a = 0;
				return 0 === n ? r : 1 == (n /= o) ? r + i : (a || (a = .3 * o), -t(e(i, i, a, 1.70158), n, o) + r)
			},
			easeOutElastic: function(t, n, r, i) {
				var o = 0;
				if (0 === t) return n;
				if (1 == (t /= i)) return n + r;
				o || (o = .3 * i);
				var a = e(r, r, o, 1.70158);
				return a.a * Math.pow(2, -10 * t) * Math.sin((t * i - a.s) * (2 * Math.PI) / a.p) + a.c + n
			},
			easeInOutElastic: function(n, r, i, o) {
				var a = 0;
				if (0 === n) return r;
				if (2 == (n /= o / 2)) return r + i;
				a || (a = o * (.3 * 1.5));
				var s = e(i, i, a, 1.70158);
				return 1 > n ? -.5 * t(s, n, o) + r : s.a * Math.pow(2, -10 * (n -= 1)) * Math.sin((n * o - s.s) * (2 * Math.PI) /
					s.p) * .5 + s.c + r
			},
			easeInBack: function(e, t, n, r, i) {
				return void 0 === i && (i = 1.70158), n * (e /= r) * e * ((i + 1) * e - i) + t
			},
			easeOutBack: function(e, t, n, r, i) {
				return void 0 === i && (i = 1.70158), n * ((e = e / r - 1) * e * ((i + 1) * e + i) + 1) + t
			},
			easeInOutBack: function(e, t, n, r, i) {
				return void 0 === i && (i = 1.70158), (e /= r / 2) < 1 ? n / 2 * (e * e * ((1 + (i *= 1.525)) * e - i)) + t : n /
					2 * ((e -= 2) * e * ((1 + (i *= 1.525)) * e + i) + 2) + t
			},
			easeInBounce: n,
			easeOutBounce: r,
			easeInOutBounce: function(e, t, i, o) {
				return o / 2 > e ? .5 * n(2 * e, 0, i, o) + t : .5 * r(2 * e - o, 0, i, o) + .5 * i + t
			}
		}
	}(),
	function(e) {
		"use strict";

		function t(e, t, n, r) {
			var i, o = "[object Array]" === Object.prototype.toString.call(t);
			if ("fill" !== e && "stroke" !== e || "none" !== t)
				if ("strokeDashArray" === e) t = "none" === t ? null : t.replace(/,/g, " ").split(/\s+/).map(function(e) {
					return parseFloat(e)
				});
				else if ("transformMatrix" === e) t = n && n.transformMatrix ? d(n.transformMatrix, l.parseTransformAttribute(t)) :
				l.parseTransformAttribute(t);
			else if ("visible" === e) t = "none" !== t && "hidden" !== t, n && !1 === n.visible && (t = !1);
			else if ("opacity" === e) t = parseFloat(t), n && void 0 !== n.opacity && (t *= n.opacity);
			else if ("textAnchor" === e) t = "start" === t ? "left" : "end" === t ? "right" : "center";
			else if ("paintFirst" === e) {
				var a = t.indexOf("fill"),
					s = t.indexOf("stroke");
				t = "fill", a > -1 && s > -1 && a > s ? t = "stroke" : -1 === a && s > -1 && (t = "stroke")
			} else i = o ? t.map(f) : f(t, r);
			else t = "";
			return !o && isNaN(i) ? t : i
		}

		function n(e) {
			return new RegExp("^(" + e.join("|") + ")\\b", "i")
		}

		function r(e, t) {
			var n, r, i, o, a = [];
			for (i = 0, o = t.length; o > i; i++) n = t[i], r = e.getElementsByTagName(n), a = a.concat(Array.prototype.slice.call(
				r));
			return a
		}

		function i(e, t) {
			var n, r = !0;
			return (n = o(e, t.pop())) && t.length && (r = function(e, t) {
				for (var n, r = !0; e.parentNode && 1 === e.parentNode.nodeType && t.length;) r && (n = t.pop()), e = e.parentNode,
					r = o(e, n);
				return 0 === t.length
			}(e, t)), n && r && 0 === t.length
		}

		function o(e, t) {
			var n, r, i = e.nodeName,
				o = e.getAttribute("class"),
				a = e.getAttribute("id");
			if (n = new RegExp("^" + i, "i"), t = t.replace(n, ""), a && t.length && (n = new RegExp("#" + a +
					"(?![a-zA-Z\\-]+)", "i"), t = t.replace(n, "")), o && t.length)
				for (r = (o = o.split(" ")).length; r--;) n = new RegExp("\\." + o[r] + "(?![a-zA-Z\\-]+)", "i"), t = t.replace(n,
					"");
			return 0 === t.length
		}

		function a(e, t) {
			var n;
			if (e.getElementById && (n = e.getElementById(t)), n) return n;
			var r, i, o, a = e.getElementsByTagName("*");
			for (i = 0, o = a.length; o > i; i++)
				if (t === (r = a[i]).getAttribute("id")) return r
		}

		function s(e) {
			var t, n, r, i, o, a, s = e.getAttribute("viewBox"),
				c = 1,
				u = 1,
				h = e.getAttribute("width"),
				d = e.getAttribute("height"),
				p = e.getAttribute("x") || 0,
				g = e.getAttribute("y") || 0,
				v = e.getAttribute("preserveAspectRatio") || "",
				y = !s || !l.svgViewBoxElementsRegEx.test(e.nodeName) || !(s = s.match(m)),
				b = !h || !d || "100%" === h || "100%" === d,
				x = y && b,
				w = {},
				S = "";
			if (w.width = 0, w.height = 0, w.toBeParsed = x) return w;
			if (y) return w.width = f(h), w.height = f(d), w;
			if (t = -parseFloat(s[1]), n = -parseFloat(s[2]), r = parseFloat(s[3]), i = parseFloat(s[4]), b ? (w.width = r, w.height =
					i) : (w.width = f(h), w.height = f(d), c = w.width / r, u = w.height / i), "none" !== (v = l.util.parsePreserveAspectRatioAttribute(
					v)).alignX && (u = c = c > u ? u : c), 1 === c && 1 === u && 0 === t && 0 === n && 0 === p && 0 === g) return w;
			if ((p || g) && (S = " translate(" + f(p) + " " + f(g) + ") "), o = S + " matrix(" + c + " 0 0 " + u + " " + t * c +
				" " + n * u + ") ", "svg" === e.nodeName) {
				for (a = e.ownerDocument.createElement("g"); e.firstChild;) a.appendChild(e.firstChild);
				e.appendChild(a)
			} else o = (a = e).getAttribute("transform") + o;
			return a.setAttribute("transform", o), w
		}
		var l = e.fabric || (e.fabric = {}),
			c = l.util.object.extend,
			u = l.util.object.clone,
			h = l.util.toFixed,
			f = l.util.parseUnit,
			d = l.util.multiplyTransformMatrices,
			p = {
				cx: "left",
				x: "left",
				r: "radius",
				cy: "top",
				y: "top",
				display: "visible",
				visibility: "visible",
				transform: "transformMatrix",
				"fill-opacity": "fillOpacity",
				"fill-rule": "fillRule",
				"font-family": "fontFamily",
				"font-size": "fontSize",
				"font-style": "fontStyle",
				"font-weight": "fontWeight",
				"paint-order": "paintFirst",
				"stroke-dasharray": "strokeDashArray",
				"stroke-linecap": "strokeLineCap",
				"stroke-linejoin": "strokeLineJoin",
				"stroke-miterlimit": "strokeMiterLimit",
				"stroke-opacity": "strokeOpacity",
				"stroke-width": "strokeWidth",
				"text-decoration": "textDecoration",
				"text-anchor": "textAnchor",
				opacity: "opacity"
			},
			g = {
				stroke: "strokeOpacity",
				fill: "fillOpacity"
			};
		l.svgValidTagNamesRegEx = n(["path", "circle", "polygon", "polyline", "ellipse", "rect", "line", "image", "text",
				"linearGradient", "radialGradient", "stop"
			]), l.svgViewBoxElementsRegEx = n(["symbol", "image", "marker", "pattern", "view", "svg"]), l.svgInvalidAncestorsRegEx =
			n(["pattern", "defs", "symbol", "metadata", "clipPath", "mask", "desc"]), l.svgValidParentsRegEx = n(["symbol", "g",
				"a", "svg"
			]), l.cssRules = {}, l.gradientDefs = {}, l.parseTransformAttribute = function() {
				function e(e, t, n) {
					e[n] = Math.tan(l.util.degreesToRadians(t[0]))
				}
				var t = [1, 0, 0, 1, 0, 0],
					n = l.reNum,
					r = "(?:\\s+,?\\s*|,\\s*)",
					i = "(?:" + ("(?:(matrix)\\s*\\(\\s*(" + n + ")" + r + "(" + n + ")" + r + "(" + n + ")" + r + "(" + n + ")" + r +
						"(" + n + ")" + r + "(" + n + ")\\s*\\))") + "|" + ("(?:(translate)\\s*\\(\\s*(" + n + ")(?:" + r + "(" + n +
						"))?\\s*\\))") + "|" + ("(?:(scale)\\s*\\(\\s*(" + n + ")(?:" + r + "(" + n + "))?\\s*\\))") + "|" + (
						"(?:(rotate)\\s*\\(\\s*(" + n + ")(?:" + r + "(" + n + ")" + r + "(" + n + "))?\\s*\\))") + "|" + (
						"(?:(skewX)\\s*\\(\\s*(" + n + ")\\s*\\))") + "|" + ("(?:(skewY)\\s*\\(\\s*(" + n + ")\\s*\\))") + ")",
					o = new RegExp("^\\s*(?:" + ("(?:" + i + "(?:" + r + "*" + i + ")*)") + "?)\\s*$"),
					a = new RegExp(i, "g");
				return function(n) {
					var r = t.concat(),
						s = [];
					if (!n || n && !o.test(n)) return r;
					n.replace(a, function(n) {
						var o, a, c, u, h, f, d, p, g, m, v, y, b = new RegExp(i).exec(n).filter(function(e) {
								return !!e
							}),
							x = b[1],
							w = b.slice(2).map(parseFloat);
						switch (x) {
							case "translate":
								y = w, (v = r)[4] = y[0], 2 === y.length && (v[5] = y[1]);
								break;
							case "rotate":
								w[0] = l.util.degreesToRadians(w[0]), h = r, f = w, d = l.util.cos(f[0]), p = l.util.sin(f[0]), m = g = 0, 3 ===
									f.length && (g = f[1], m = f[2]), h[0] = d, h[1] = p, h[2] = -p, h[3] = d, h[4] = g - (d * g - p * m), h[5] =
									m - (p * g + d * m);
								break;
							case "scale":
								o = r, c = (a = w)[0], u = 2 === a.length ? a[1] : a[0], o[0] = c, o[3] = u;
								break;
							case "skewX":
								e(r, w, 2);
								break;
							case "skewY":
								e(r, w, 1);
								break;
							case "matrix":
								r = w
						}
						s.push(r.concat()), r = t.concat()
					});
					for (var c = s[0]; 1 < s.length;) s.shift(), c = l.util.multiplyTransformMatrices(c, s[0]);
					return c
				}
			}();
		var m = new RegExp("^\\s*(" + l.reNum + "+)\\s*,?\\s*(" + l.reNum + "+)\\s*,?\\s*(" + l.reNum + "+)\\s*,?\\s*(" + l.reNum +
			"+)\\s*$");
		l.parseSVGDocument = function(e, t, n, i) {
			if (e) {
				! function(e) {
					for (var t = r(e, ["use", "svg:use"]), n = 0; t.length && n < t.length;) {
						var i, o, l, c, u = t[n],
							h = u.getAttribute("xlink:href").substr(1),
							f = u.getAttribute("x") || 0,
							d = u.getAttribute("y") || 0,
							p = a(e, h).cloneNode(!0),
							g = (p.getAttribute("transform") || "") + " translate(" + f + ", " + d + ")",
							m = t.length;
						if (s(p), /^svg$/i.test(p.nodeName)) {
							var v = p.ownerDocument.createElement("g");
							for (o = 0, c = (l = p.attributes).length; c > o; o++) i = l.item(o), v.setAttribute(i.nodeName, i.nodeValue);
							for (; p.firstChild;) v.appendChild(p.firstChild);
							p = v
						}
						for (o = 0, c = (l = u.attributes).length; c > o; o++) "x" !== (i = l.item(o)).nodeName && "y" !== i.nodeName &&
							"xlink:href" !== i.nodeName && ("transform" === i.nodeName ? g = i.nodeValue + " " + g : p.setAttribute(i.nodeName,
								i.nodeValue));
						p.setAttribute("transform", g), p.setAttribute("instantiated_by_use", "1"), p.removeAttribute("id"), u.parentNode
							.replaceChild(p, u), t.length === m && n++;
					}
				}(e);
				var o, c, h = l.Object.__uid++,
					f = s(e),
					d = l.util.toArray(e.getElementsByTagName("*"));
				if (f.crossOrigin = i && i.crossOrigin, f.svgUid = h, 0 === d.length && l.isLikelyNode) {
					var p = [];
					for (o = 0, c = (d = e.selectNodes('//*[name(.)!="svg"]')).length; c > o; o++) p[o] = d[o];
					d = p
				}
				var g = d.filter(function(e) {
					return s(e), l.svgValidTagNamesRegEx.test(e.nodeName.replace("svg:", "")) && ! function(e, t) {
						for (; e && (e = e.parentNode);)
							if (e.nodeName && t.test(e.nodeName.replace("svg:", "")) && !e.getAttribute("instantiated_by_use")) return !
								0;
						return !1
					}(e, l.svgInvalidAncestorsRegEx)
				});
				!g || g && !g.length ? t && t([], {}) : (l.gradientDefs[h] = l.getGradientDefs(e), l.cssRules[h] = l.getCSSRules(e),
					l.parseElements(g, function(e, n) {
						t && t(e, f, n, d)
					}, u(f), n, i))
			}
		};
		var v = new RegExp(
			"(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*(" +
			l.reNum + "(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|" + l.reNum + "))?\\s+(.*)");
		c(l, {
			parseFontDeclaration: function(e, t) {
				var n = e.match(v);
				if (n) {
					var r = n[1],
						i = n[3],
						o = n[4],
						a = n[5],
						s = n[6];
					r && (t.fontStyle = r), i && (t.fontWeight = isNaN(parseFloat(i)) ? i : parseFloat(i)), o && (t.fontSize = f(o)),
						s && (t.fontFamily = s), a && (t.lineHeight = "normal" === a ? 1 : a)
				}
			},
			getGradientDefs: function(e) {
				var t, n, i, o = r(e, ["linearGradient", "radialGradient", "svg:linearGradient", "svg:radialGradient"]),
					a = 0,
					s = {},
					l = {};
				for (a = o.length; a--;) i = (t = o[a]).getAttribute("xlink:href"), n = t.getAttribute("id"), i && (l[n] = i.substr(
					1)), s[n] = t;
				for (n in l) {
					var c = s[l[n]].cloneNode(!0);
					for (t = s[n]; c.firstChild;) t.appendChild(c.firstChild)
				}
				return s
			},
			parseAttributes: function(e, n, r) {
				if (e) {
					var o, a, s = {};
					void 0 === r && (r = e.getAttribute("svgUid")), e.parentNode && l.svgValidParentsRegEx.test(e.parentNode.nodeName) &&
						(s = l.parseAttributes(e.parentNode, n, r)), a = s && s.fontSize || e.getAttribute("font-size") || l.Text.DEFAULT_SVG_FONT_SIZE;
					var u = n.reduce(function(t, n) {
						return (o = e.getAttribute(n)) && (t[n] = o), t
					}, {});
					u = c(u, c(function(e, t) {
						var n = {};
						for (var r in l.cssRules[t])
							if (i(e, r.split(" ")))
								for (var o in l.cssRules[t][r]) n[o] = l.cssRules[t][r][o];
						return n
					}(e, r), l.parseStyleAttribute(e)));
					var f, d, m, v = {};
					for (var y in u) d = t(f = (m = y) in p ? p[m] : m, u[y], s, a), v[f] = d;
					v && v.font && l.parseFontDeclaration(v.font, v);
					var b = c(s, v);
					return l.svgValidParentsRegEx.test(e.nodeName) ? b : function(e) {
						for (var t in g)
							if (void 0 !== e[g[t]] && "" !== e[t]) {
								if (void 0 === e[t]) {
									if (!l.Object.prototype[t]) continue;
									e[t] = l.Object.prototype[t]
								}
								if (0 !== e[t].indexOf("url(")) {
									var n = new l.Color(e[t]);
									e[t] = n.setAlpha(h(n.getAlpha() * e[g[t]], 2)).toRgba()
								}
							} return e
					}(b)
				}
			},
			parseElements: function(e, t, n, r, i) {
				new l.ElementsParser(e, t, n, r, i).parse()
			},
			parseStyleAttribute: function(e) {
				var t, n, r, i = {},
					o = e.getAttribute("style");
				return o && ("string" == typeof o ? (t = i, o.replace(/;\s*$/, "").split(";").forEach(function(e) {
					var i = e.split(":");
					n = i[0].trim().toLowerCase(), r = i[1].trim(), t[n] = r
				})) : function(e, t) {
					var n, r;
					for (var i in e) void 0 !== e[i] && (n = i.toLowerCase(), r = e[i], t[n] = r)
				}(o, i)), i
			},
			parsePointsAttribute: function(e) {
				if (!e) return null;
				var t, n, r = [];
				for (t = 0, n = (e = (e = e.replace(/,/g, " ").trim()).split(/\s+/)).length; n > t; t += 2) r.push({
					x: parseFloat(e[t]),
					y: parseFloat(e[t + 1])
				});
				return r
			},
			getCSSRules: function(e) {
				var t, n, r = e.getElementsByTagName("style"),
					i = {};
				for (t = 0, n = r.length; n > t; t++) {
					var o = r[t].textContent || r[t].text;
					"" !== (o = o.replace(/\/\*[\s\S]*?\*\//g, "")).trim() && o.match(/[^{]*\{[\s\S]*?\}/g).map(function(e) {
						return e.trim()
					}).forEach(function(e) {
						var r = e.match(/([\s\S]*?)\s*\{([^}]*)\}/),
							o = {},
							a = r[2].trim().replace(/;$/, "").split(/\s*;\s*/);
						for (t = 0, n = a.length; n > t; t++) {
							var s = a[t].split(/\s*:\s*/),
								c = s[0],
								u = s[1];
							o[c] = u
						}(e = r[1]).split(",").forEach(function(e) {
							"" !== (e = e.replace(/^svg/i, "").trim()) && (i[e] ? l.util.object.extend(i[e], o) : i[e] = l.util.object
								.clone(o))
						})
					})
				}
				return i
			},
			loadSVGFromURL: function(e, t, n, r) {
				e = e.replace(/^\n\s*/, "").trim(), new l.util.request(e, {
					method: "get",
					onComplete: function(e) {
						var i = e.responseXML;
						i && !i.documentElement && l.window.ActiveXObject && e.responseText && ((i = new ActiveXObject(
							"Microsoft.XMLDOM")).async = "false", i.loadXML(e.responseText.replace(
							/<!DOCTYPE[\s\S]*?(\[[\s\S]*\])*?>/i, ""))), i && i.documentElement || t && t(null), l.parseSVGDocument(i
							.documentElement,
							function(e, n, r, i) {
								t && t(e, n, r, i)
							}, n, r)
					}
				})
			},
			loadSVGFromString: function(e, t, n, r) {
				var i;
				if (e = e.trim(), "undefined" != typeof DOMParser) {
					var o = new DOMParser;
					o && o.parseFromString && (i = o.parseFromString(e, "text/xml"))
				} else l.window.ActiveXObject && ((i = new ActiveXObject("Microsoft.XMLDOM")).async = "false", i.loadXML(e.replace(
					/<!DOCTYPE[\s\S]*?(\[[\s\S]*\])*?>/i, "")));
				l.parseSVGDocument(i.documentElement, function(e, n, r, i) {
					t(e, n, r, i)
				}, n, r)
			}
		})
	}("undefined" != typeof exports ? exports : this), fabric.ElementsParser = function(e, t, n, r, i) {
		this.elements = e, this.callback = t, this.options = n, this.reviver = r, this.svgUid = n && n.svgUid || 0, this.parsingOptions =
			i
	}, fabric.ElementsParser.prototype.parse = function() {
		this.instances = new Array(this.elements.length), this.numElements = this.elements.length, this.createObjects()
	}, fabric.ElementsParser.prototype.createObjects = function() {
		for (var e = 0, t = this.elements.length; t > e; e++) this.elements[e].setAttribute("svgUid", this.svgUid),
			function(e, t) {
				setTimeout(function() {
					e.createObject(e.elements[t], t)
				}, 0)
			}(this, e)
	}, fabric.ElementsParser.prototype.createObject = function(e, t) {
		var n = fabric[fabric.util.string.capitalize(e.tagName.replace("svg:", ""))];
		if (n && n.fromElement) try {
			this._createObject(n, e, t)
		} catch (e) {
			fabric.log(e)
		} else this.checkIfDone()
	}, fabric.ElementsParser.prototype._createObject = function(e, t, n) {
		e.fromElement(t, this.createCallback(n, t), this.options)
	}, fabric.ElementsParser.prototype.createCallback = function(e, t) {
		var n = this;
		return function(r) {
			var i;
			n.resolveGradient(r, "fill"), n.resolveGradient(r, "stroke"), r instanceof fabric.Image && (i = r.parsePreserveAspectRatioAttribute(
				t)), r._removeTransformMatrix(i), n.reviver && n.reviver(t, r), n.instances[e] = r, n.checkIfDone()
		}
	}, fabric.ElementsParser.prototype.resolveGradient = function(e, t) {
		var n = e.get(t);
		if (/^url\(/.test(n)) {
			var r = n.slice(5, n.length - 1);
			fabric.gradientDefs[this.svgUid][r] && e.set(t, fabric.Gradient.fromElement(fabric.gradientDefs[this.svgUid][r], e))
		}
	}, fabric.ElementsParser.prototype.checkIfDone = function() {
		0 == --this.numElements && (this.instances = this.instances.filter(function(e) {
			return null != e
		}), this.callback(this.instances, this.elements))
	},
	function(e) {
		"use strict";

		function t(e, t) {
			this.x = e, this.y = t
		}
		var n = e.fabric || (e.fabric = {});
		n.Point ? n.warn("fabric.Point is already defined") : (n.Point = t).prototype = {
			type: "point",
			constructor: t,
			add: function(e) {
				return new t(this.x + e.x, this.y + e.y)
			},
			addEquals: function(e) {
				return this.x += e.x, this.y += e.y, this
			},
			scalarAdd: function(e) {
				return new t(this.x + e, this.y + e)
			},
			scalarAddEquals: function(e) {
				return this.x += e, this.y += e, this
			},
			subtract: function(e) {
				return new t(this.x - e.x, this.y - e.y)
			},
			subtractEquals: function(e) {
				return this.x -= e.x, this.y -= e.y, this
			},
			scalarSubtract: function(e) {
				return new t(this.x - e, this.y - e)
			},
			scalarSubtractEquals: function(e) {
				return this.x -= e, this.y -= e, this
			},
			multiply: function(e) {
				return new t(this.x * e, this.y * e)
			},
			multiplyEquals: function(e) {
				return this.x *= e, this.y *= e, this
			},
			divide: function(e) {
				return new t(this.x / e, this.y / e)
			},
			divideEquals: function(e) {
				return this.x /= e, this.y /= e, this
			},
			eq: function(e) {
				return this.x === e.x && this.y === e.y
			},
			lt: function(e) {
				return this.x < e.x && this.y < e.y
			},
			lte: function(e) {
				return this.x <= e.x && this.y <= e.y
			},
			gt: function(e) {
				return this.x > e.x && this.y > e.y
			},
			gte: function(e) {
				return this.x >= e.x && this.y >= e.y
			},
			lerp: function(e, n) {
				return void 0 === n && (n = .5), n = Math.max(Math.min(1, n), 0), new t(this.x + (e.x - this.x) * n, this.y + (e.y -
					this.y) * n)
			},
			distanceFrom: function(e) {
				var t = this.x - e.x,
					n = this.y - e.y;
				return Math.sqrt(t * t + n * n)
			},
			midPointFrom: function(e) {
				return this.lerp(e)
			},
			min: function(e) {
				return new t(Math.min(this.x, e.x), Math.min(this.y, e.y))
			},
			max: function(e) {
				return new t(Math.max(this.x, e.x), Math.max(this.y, e.y))
			},
			toString: function() {
				return this.x + "," + this.y
			},
			setXY: function(e, t) {
				return this.x = e, this.y = t, this
			},
			setX: function(e) {
				return this.x = e, this
			},
			setY: function(e) {
				return this.y = e, this
			},
			setFromPoint: function(e) {
				return this.x = e.x, this.y = e.y, this
			},
			swap: function(e) {
				var t = this.x,
					n = this.y;
				this.x = e.x, this.y = e.y, e.x = t, e.y = n
			},
			clone: function() {
				return new t(this.x, this.y)
			}
		}
	}("undefined" != typeof exports ? exports : this),
	function(e) {
		"use strict";

		function t(e) {
			this.status = e, this.points = []
		}
		var n = e.fabric || (e.fabric = {});
		n.Intersection ? n.warn("fabric.Intersection is already defined") : (n.Intersection = t, n.Intersection.prototype = {
			constructor: t,
			appendPoint: function(e) {
				return this.points.push(e), this
			},
			appendPoints: function(e) {
				return this.points = this.points.concat(e), this
			}
		}, n.Intersection.intersectLineLine = function(e, r, i, o) {
			var a, s = (o.x - i.x) * (e.y - i.y) - (o.y - i.y) * (e.x - i.x),
				l = (r.x - e.x) * (e.y - i.y) - (r.y - e.y) * (e.x - i.x),
				c = (o.y - i.y) * (r.x - e.x) - (o.x - i.x) * (r.y - e.y);
			if (0 !== c) {
				var u = s / c,
					h = l / c;
				u >= 0 && 1 >= u && h >= 0 && 1 >= h ? (a = new t("Intersection")).appendPoint(new n.Point(e.x + u * (r.x - e.x),
					e.y + u * (r.y - e.y))) : a = new t
			} else a = new t(0 === s || 0 === l ? "Coincident" : "Parallel");
			return a
		}, n.Intersection.intersectLinePolygon = function(e, n, r) {
			var i, o, a, s, l = new t,
				c = r.length;
			for (s = 0; c > s; s++) i = r[s], o = r[(s + 1) % c], a = t.intersectLineLine(e, n, i, o), l.appendPoints(a.points);
			return 0 < l.points.length && (l.status = "Intersection"), l
		}, n.Intersection.intersectPolygonPolygon = function(e, n) {
			var r, i = new t,
				o = e.length;
			for (r = 0; o > r; r++) {
				var a = e[r],
					s = e[(r + 1) % o],
					l = t.intersectLinePolygon(a, s, n);
				i.appendPoints(l.points)
			}
			return 0 < i.points.length && (i.status = "Intersection"), i
		}, n.Intersection.intersectPolygonRectangle = function(e, r, i) {
			var o = r.min(i),
				a = r.max(i),
				s = new n.Point(a.x, o.y),
				l = new n.Point(o.x, a.y),
				c = t.intersectLinePolygon(o, s, e),
				u = t.intersectLinePolygon(s, a, e),
				h = t.intersectLinePolygon(a, l, e),
				f = t.intersectLinePolygon(l, o, e),
				d = new t;
			return d.appendPoints(c.points), d.appendPoints(u.points), d.appendPoints(h.points), d.appendPoints(f.points), 0 <
				d.points.length && (d.status = "Intersection"), d
		})
	}("undefined" != typeof exports ? exports : this),
	function(e) {
		"use strict";

		function t(e) {
			e ? this._tryParsingColor(e) : this.setSource([0, 0, 0, 1])
		}

		function n(e, t, n) {
			return 0 > n && (n += 1), n > 1 && (n -= 1), 1 / 6 > n ? e + 6 * (t - e) * n : .5 > n ? t : 2 / 3 > n ? e + (t - e) *
				(2 / 3 - n) * 6 : e
		}
		var r = e.fabric || (e.fabric = {});
		r.Color ? r.warn("fabric.Color is already defined.") : (r.Color = t, r.Color.prototype = {
				_tryParsingColor: function(e) {
					var n;
					e in t.colorNameMap && (e = t.colorNameMap[e]), "transparent" === e && (n = [255, 255, 255, 0]), n || (n = t.sourceFromHex(
						e)), n || (n = t.sourceFromRgb(e)), n || (n = t.sourceFromHsl(e)), n || (n = [0, 0, 0, 1]), n && this.setSource(
						n)
				},
				_rgbToHsl: function(e, t, n) {
					e /= 255, t /= 255, n /= 255;
					var i, o, a, s = r.util.array.max([e, t, n]),
						l = r.util.array.min([e, t, n]);
					if (a = (s + l) / 2, s === l) i = o = 0;
					else {
						var c = s - l;
						switch (o = a > .5 ? c / (2 - s - l) : c / (s + l), s) {
							case e:
								i = (t - n) / c + (n > t ? 6 : 0);
								break;
							case t:
								i = (n - e) / c + 2;
								break;
							case n:
								i = (e - t) / c + 4
						}
						i /= 6
					}
					return [Math.round(360 * i), Math.round(100 * o), Math.round(100 * a)]
				},
				getSource: function() {
					return this._source
				},
				setSource: function(e) {
					this._source = e
				},
				toRgb: function() {
					var e = this.getSource();
					return "rgb(" + e[0] + "," + e[1] + "," + e[2] + ")"
				},
				toRgba: function() {
					var e = this.getSource();
					return "rgba(" + e[0] + "," + e[1] + "," + e[2] + "," + e[3] + ")"
				},
				toHsl: function() {
					var e = this.getSource(),
						t = this._rgbToHsl(e[0], e[1], e[2]);
					return "hsl(" + t[0] + "," + t[1] + "%," + t[2] + "%)"
				},
				toHsla: function() {
					var e = this.getSource(),
						t = this._rgbToHsl(e[0], e[1], e[2]);
					return "hsla(" + t[0] + "," + t[1] + "%," + t[2] + "%," + e[3] + ")"
				},
				toHex: function() {
					var e, t, n, r = this.getSource();
					return e = 1 === (e = r[0].toString(16)).length ? "0" + e : e, t = 1 === (t = r[1].toString(16)).length ? "0" +
						t : t, n = 1 === (n = r[2].toString(16)).length ? "0" + n : n, e.toUpperCase() + t.toUpperCase() + n.toUpperCase()
				},
				toHexa: function() {
					var e, t = this.getSource();
					return e = 1 === (e = (e = Math.round(255 * t[3])).toString(16)).length ? "0" + e : e, this.toHex() + e.toUpperCase()
				},
				getAlpha: function() {
					return this.getSource()[3]
				},
				setAlpha: function(e) {
					var t = this.getSource();
					return t[3] = e, this.setSource(t), this
				},
				toGrayscale: function() {
					var e = this.getSource(),
						t = parseInt((.3 * e[0] + .59 * e[1] + .11 * e[2]).toFixed(0), 10),
						n = e[3];
					return this.setSource([t, t, t, n]), this
				},
				toBlackWhite: function(e) {
					var t = this.getSource(),
						n = (.3 * t[0] + .59 * t[1] + .11 * t[2]).toFixed(0),
						r = t[3];
					return e = e || 127, n = Number(n) < Number(e) ? 0 : 255, this.setSource([n, n, n, r]), this
				},
				overlayWith: function(e) {
					e instanceof t || (e = new t(e));
					var n, r = [],
						i = this.getAlpha(),
						o = this.getSource(),
						a = e.getSource();
					for (n = 0; 3 > n; n++) r.push(Math.round(.5 * o[n] + .5 * a[n]));
					return r[3] = i, this.setSource(r), this
				}
			}, r.Color.reRGBa =
			/^rgba?\(\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*(?:\s*,\s*((?:\d*\.?\d+)?)\s*)?\)$/,
			r.Color.reHSLa = /^hsla?\(\s*(\d{1,3})\s*,\s*(\d{1,3}\%)\s*,\s*(\d{1,3}\%)\s*(?:\s*,\s*(\d+(?:\.\d+)?)\s*)?\)$/, r.Color
			.reHex = /^#?([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{3})$/i, r.Color.colorNameMap = {
				aliceblue: "#F0F8FF",
				antiquewhite: "#FAEBD7",
				aqua: "#00FFFF",
				aquamarine: "#7FFFD4",
				azure: "#F0FFFF",
				beige: "#F5F5DC",
				bisque: "#FFE4C4",
				black: "#000000",
				blanchedalmond: "#FFEBCD",
				blue: "#0000FF",
				blueviolet: "#8A2BE2",
				brown: "#A52A2A",
				burlywood: "#DEB887",
				cadetblue: "#5F9EA0",
				chartreuse: "#7FFF00",
				chocolate: "#D2691E",
				coral: "#FF7F50",
				cornflowerblue: "#6495ED",
				cornsilk: "#FFF8DC",
				crimson: "#DC143C",
				cyan: "#00FFFF",
				darkblue: "#00008B",
				darkcyan: "#008B8B",
				darkgoldenrod: "#B8860B",
				darkgray: "#A9A9A9",
				darkgrey: "#A9A9A9",
				darkgreen: "#006400",
				darkkhaki: "#BDB76B",
				darkmagenta: "#8B008B",
				darkolivegreen: "#556B2F",
				darkorange: "#FF8C00",
				darkorchid: "#9932CC",
				darkred: "#8B0000",
				darksalmon: "#E9967A",
				darkseagreen: "#8FBC8F",
				darkslateblue: "#483D8B",
				darkslategray: "#2F4F4F",
				darkslategrey: "#2F4F4F",
				darkturquoise: "#00CED1",
				darkviolet: "#9400D3",
				deeppink: "#FF1493",
				deepskyblue: "#00BFFF",
				dimgray: "#696969",
				dimgrey: "#696969",
				dodgerblue: "#1E90FF",
				firebrick: "#B22222",
				floralwhite: "#FFFAF0",
				forestgreen: "#228B22",
				fuchsia: "#FF00FF",
				gainsboro: "#DCDCDC",
				ghostwhite: "#F8F8FF",
				gold: "#FFD700",
				goldenrod: "#DAA520",
				gray: "#808080",
				grey: "#808080",
				green: "#008000",
				greenyellow: "#ADFF2F",
				honeydew: "#F0FFF0",
				hotpink: "#FF69B4",
				indianred: "#CD5C5C",
				indigo: "#4B0082",
				ivory: "#FFFFF0",
				khaki: "#F0E68C",
				lavender: "#E6E6FA",
				lavenderblush: "#FFF0F5",
				lawngreen: "#7CFC00",
				lemonchiffon: "#FFFACD",
				lightblue: "#ADD8E6",
				lightcoral: "#F08080",
				lightcyan: "#E0FFFF",
				lightgoldenrodyellow: "#FAFAD2",
				lightgray: "#D3D3D3",
				lightgrey: "#D3D3D3",
				lightgreen: "#90EE90",
				lightpink: "#FFB6C1",
				lightsalmon: "#FFA07A",
				lightseagreen: "#20B2AA",
				lightskyblue: "#87CEFA",
				lightslategray: "#778899",
				lightslategrey: "#778899",
				lightsteelblue: "#B0C4DE",
				lightyellow: "#FFFFE0",
				lime: "#00FF00",
				limegreen: "#32CD32",
				linen: "#FAF0E6",
				magenta: "#FF00FF",
				maroon: "#800000",
				mediumaquamarine: "#66CDAA",
				mediumblue: "#0000CD",
				mediumorchid: "#BA55D3",
				mediumpurple: "#9370DB",
				mediumseagreen: "#3CB371",
				mediumslateblue: "#7B68EE",
				mediumspringgreen: "#00FA9A",
				mediumturquoise: "#48D1CC",
				mediumvioletred: "#C71585",
				midnightblue: "#191970",
				mintcream: "#F5FFFA",
				mistyrose: "#FFE4E1",
				moccasin: "#FFE4B5",
				navajowhite: "#FFDEAD",
				navy: "#000080",
				oldlace: "#FDF5E6",
				olive: "#808000",
				olivedrab: "#6B8E23",
				orange: "#FFA500",
				orangered: "#FF4500",
				orchid: "#DA70D6",
				palegoldenrod: "#EEE8AA",
				palegreen: "#98FB98",
				paleturquoise: "#AFEEEE",
				palevioletred: "#DB7093",
				papayawhip: "#FFEFD5",
				peachpuff: "#FFDAB9",
				peru: "#CD853F",
				pink: "#FFC0CB",
				plum: "#DDA0DD",
				powderblue: "#B0E0E6",
				purple: "#800080",
				rebeccapurple: "#663399",
				red: "#FF0000",
				rosybrown: "#BC8F8F",
				royalblue: "#4169E1",
				saddlebrown: "#8B4513",
				salmon: "#FA8072",
				sandybrown: "#F4A460",
				seagreen: "#2E8B57",
				seashell: "#FFF5EE",
				sienna: "#A0522D",
				silver: "#C0C0C0",
				skyblue: "#87CEEB",
				slateblue: "#6A5ACD",
				slategray: "#708090",
				slategrey: "#708090",
				snow: "#FFFAFA",
				springgreen: "#00FF7F",
				steelblue: "#4682B4",
				tan: "#D2B48C",
				teal: "#008080",
				thistle: "#D8BFD8",
				tomato: "#FF6347",
				turquoise: "#40E0D0",
				violet: "#EE82EE",
				wheat: "#F5DEB3",
				white: "#FFFFFF",
				whitesmoke: "#F5F5F5",
				yellow: "#FFFF00",
				yellowgreen: "#9ACD32"
			}, r.Color.fromRgb = function(e) {
				return t.fromSource(t.sourceFromRgb(e))
			}, r.Color.sourceFromRgb = function(e) {
				var n = e.match(t.reRGBa);
				if (n) {
					var r = parseInt(n[1], 10) / (/%$/.test(n[1]) ? 100 : 1) * (/%$/.test(n[1]) ? 255 : 1),
						i = parseInt(n[2], 10) / (/%$/.test(n[2]) ? 100 : 1) * (/%$/.test(n[2]) ? 255 : 1),
						o = parseInt(n[3], 10) / (/%$/.test(n[3]) ? 100 : 1) * (/%$/.test(n[3]) ? 255 : 1);
					return [parseInt(r, 10), parseInt(i, 10), parseInt(o, 10), n[4] ? parseFloat(n[4]) : 1]
				}
			}, r.Color.fromRgba = t.fromRgb, r.Color.fromHsl = function(e) {
				return t.fromSource(t.sourceFromHsl(e))
			}, r.Color.sourceFromHsl = function(e) {
				var r = e.match(t.reHSLa);
				if (r) {
					var i, o, a, s = (parseFloat(r[1]) % 360 + 360) % 360 / 360,
						l = parseFloat(r[2]) / (/%$/.test(r[2]) ? 100 : 1),
						c = parseFloat(r[3]) / (/%$/.test(r[3]) ? 100 : 1);
					if (0 === l) i = o = a = c;
					else {
						var u = .5 >= c ? c * (l + 1) : c + l - c * l,
							h = 2 * c - u;
						i = n(h, u, s + 1 / 3), o = n(h, u, s), a = n(h, u, s - 1 / 3)
					}
					return [Math.round(255 * i), Math.round(255 * o), Math.round(255 * a), r[4] ? parseFloat(r[4]) : 1]
				}
			}, r.Color.fromHsla = t.fromHsl, r.Color.fromHex = function(e) {
				return t.fromSource(t.sourceFromHex(e))
			}, r.Color.sourceFromHex = function(e) {
				if (e.match(t.reHex)) {
					var n = e.slice(e.indexOf("#") + 1),
						r = 3 === n.length || 4 === n.length,
						i = 8 === n.length || 4 === n.length,
						o = r ? n.charAt(0) + n.charAt(0) : n.substring(0, 2),
						a = r ? n.charAt(1) + n.charAt(1) : n.substring(2, 4),
						s = r ? n.charAt(2) + n.charAt(2) : n.substring(4, 6),
						l = i ? r ? n.charAt(3) + n.charAt(3) : n.substring(6, 8) : "FF";
					return [parseInt(o, 16), parseInt(a, 16), parseInt(s, 16), parseFloat((parseInt(l, 16) / 255).toFixed(2))]
				}
			}, r.Color.fromSource = function(e) {
				var n = new t;
				return n.setSource(e), n
			})
	}("undefined" != typeof exports ? exports : this),
	function() {
		function e(e) {
			var t, n, r, i, o = e.getAttribute("style"),
				a = e.getAttribute("offset") || 0;
			if (a = (a = parseFloat(a) / (/%$/.test(a) ? 100 : 1)) < 0 ? 0 : a > 1 ? 1 : a, o) {
				var s = o.split(/\s*;\s*/);
				for ("" === s[s.length - 1] && s.pop(), i = s.length; i--;) {
					var l = s[i].split(/\s*:\s*/),
						c = l[0].trim(),
						u = l[1].trim();
					"stop-color" === c ? t = u : "stop-opacity" === c && (r = u)
				}
			}
			return t || (t = e.getAttribute("stop-color") || "rgb(0,0,0)"), r || (r = e.getAttribute("stop-opacity")), n = (t =
				new fabric.Color(t)).getAlpha(), r = isNaN(parseFloat(r)) ? 1 : parseFloat(r), r *= n, {
				offset: a,
				color: t.toRgb(),
				opacity: r
			}
		}

		function t(e, t, n) {
			var r, i = 0,
				o = 1,
				a = "";
			for (var s in t) "Infinity" === t[s] ? t[s] = 1 : "-Infinity" === t[s] && (t[s] = 0), r = parseFloat(t[s], 10), o =
				"string" == typeof t[s] && /^(\d+\.\d+)%|(\d+)%$/.test(t[s]) ? .01 : 1, "x1" === s || "x2" === s || "r2" === s ? (o *=
					"objectBoundingBox" === n ? e.width : 1, i = "objectBoundingBox" === n && e.left || 0) : "y1" !== s && "y2" !== s ||
				(o *= "objectBoundingBox" === n ? e.height : 1, i = "objectBoundingBox" === n && e.top || 0), t[s] = r * o + i;
			if ("ellipse" === e.type && null !== t.r2 && "objectBoundingBox" === n && e.rx !== e.ry) {
				var l = e.ry / e.rx;
				a = " scale(1, " + l + ")", t.y1 && (t.y1 /= l), t.y2 && (t.y2 /= l)
			}
			return a
		}
		var n = fabric.util.object.clone;
		fabric.Gradient = fabric.util.createClass({
			offsetX: 0,
			offsetY: 0,
			initialize: function(e) {
				e || (e = {});
				var t = {};
				this.id = fabric.Object.__uid++, this.type = e.type || "linear", t = {
						x1: e.coords.x1 || 0,
						y1: e.coords.y1 || 0,
						x2: e.coords.x2 || 0,
						y2: e.coords.y2 || 0
					}, "radial" === this.type && (t.r1 = e.coords.r1 || 0, t.r2 = e.coords.r2 || 0), this.coords = t, this.colorStops =
					e.colorStops.slice(), e.gradientTransform && (this.gradientTransform = e.gradientTransform), this.offsetX = e.offsetX ||
					this.offsetX, this.offsetY = e.offsetY || this.offsetY
			},
			addColorStop: function(e) {
				for (var t in e) {
					var n = new fabric.Color(e[t]);
					this.colorStops.push({
						offset: parseFloat(t),
						color: n.toRgb(),
						opacity: n.getAlpha()
					})
				}
				return this
			},
			toObject: function(e) {
				var t = {
					type: this.type,
					coords: this.coords,
					colorStops: this.colorStops,
					offsetX: this.offsetX,
					offsetY: this.offsetY,
					gradientTransform: this.gradientTransform ? this.gradientTransform.concat() : this.gradientTransform
				};
				return fabric.util.populateWithProperties(this, t, e), t
			},
			toSVG: function(e) {
				var t, r, i, o, a = n(this.coords, !0),
					s = n(this.colorStops, !0),
					l = a.r1 > a.r2,
					c = e.width / 2,
					u = e.height / 2;
				for (var h in s.sort(function(e, t) {
						return e.offset - t.offset
					}), "path" === e.type && (c -= e.pathOffset.x, u -= e.pathOffset.y), a) "x1" === h || "x2" === h ? a[h] += this
					.offsetX - c : "y1" !== h && "y2" !== h || (a[h] += this.offsetY - u);
				if (o = 'id="SVGID_' + this.id + '" gradientUnits="userSpaceOnUse"', this.gradientTransform && (o +=
						' gradientTransform="matrix(' + this.gradientTransform.join(" ") + ')" '), "linear" === this.type ? i = [
						"<linearGradient ", o, ' x1="', a.x1, '" y1="', a.y1, '" x2="', a.x2, '" y2="', a.y2, '">\n'
					] : "radial" === this.type && (i = ["<radialGradient ", o, ' cx="', l ? a.x1 : a.x2, '" cy="', l ? a.y1 : a.y2,
						'" r="', l ? a.r1 : a.r2, '" fx="', l ? a.x2 : a.x1, '" fy="', l ? a.y2 : a.y1, '">\n'
					]), "radial" === this.type) {
					if (l)
						for ((s = s.concat()).reverse(), t = 0, r = s.length; r > t; t++) s[t].offset = 1 - s[t].offset;
					var f = Math.min(a.r1, a.r2);
					if (f > 0) {
						var d = f / Math.max(a.r1, a.r2);
						for (t = 0, r = s.length; r > t; t++) s[t].offset += d * (1 - s[t].offset)
					}
				}
				for (t = 0, r = s.length; r > t; t++) {
					var p = s[t];
					i.push("<stop ", 'offset="', 100 * p.offset + "%", '" style="stop-color:', p.color, null !== p.opacity ?
						";stop-opacity: " + p.opacity : ";", '"/>\n')
				}
				return i.push("linear" === this.type ? "</linearGradient>\n" : "</radialGradient>\n"), i.join("")
			},
			toLive: function(e) {
				var t, n, r, i = fabric.util.object.clone(this.coords);
				if (this.type) {
					for ("linear" === this.type ? t = e.createLinearGradient(i.x1, i.y1, i.x2, i.y2) : "radial" === this.type && (t =
							e.createRadialGradient(i.x1, i.y1, i.r1, i.x2, i.y2, i.r2)), n = 0, r = this.colorStops.length; r > n; n++) {
						var o = this.colorStops[n].color,
							a = this.colorStops[n].opacity,
							s = this.colorStops[n].offset;
						void 0 !== a && (o = new fabric.Color(o).setAlpha(a).toRgba()), t.addColorStop(s, o)
					}
					return t
				}
			}
		}), fabric.util.object.extend(fabric.Gradient, {
			fromElement: function(n, r) {
				var i, o, a, s, l, c, u = n.getElementsByTagName("stop"),
					h = n.getAttribute("gradientUnits") || "objectBoundingBox",
					f = n.getAttribute("gradientTransform"),
					d = [];
				for ("linear" == (i = "linearGradient" === n.nodeName || "LINEARGRADIENT" === n.nodeName ? "linear" : "radial") ?
					o = {
						x1: (c = n).getAttribute("x1") || 0,
						y1: c.getAttribute("y1") || 0,
						x2: c.getAttribute("x2") || "100%",
						y2: c.getAttribute("y2") || 0
					} : "radial" === i && (o = {
						x1: (l = n).getAttribute("fx") || l.getAttribute("cx") || "50%",
						y1: l.getAttribute("fy") || l.getAttribute("cy") || "50%",
						r1: 0,
						x2: l.getAttribute("cx") || "50%",
						y2: l.getAttribute("cy") || "50%",
						r2: l.getAttribute("r") || "50%"
					}), s = u.length; s--;) d.push(e(u[s]));
				a = t(r, o, h);
				var p = new fabric.Gradient({
					type: i,
					coords: o,
					colorStops: d,
					offsetX: -r.left,
					offsetY: -r.top
				});
				return (f || "" !== a) && (p.gradientTransform = fabric.parseTransformAttribute((f || "") + a)), p
			},
			forObject: function(e, n) {
				return n || (n = {}), t(e, n.coords, "userSpaceOnUse"), new fabric.Gradient(n)
			}
		})
	}(),
	function() {
		"use strict";
		var e = fabric.util.toFixed;
		fabric.Pattern = fabric.util.createClass({
			repeat: "repeat",
			offsetX: 0,
			offsetY: 0,
			crossOrigin: "",
			patternTransform: null,
			initialize: function(e, t) {
				if (e || (e = {}), this.id = fabric.Object.__uid++, this.setOptions(e), !e.source || e.source && "string" !=
					typeof e.source) t && t(this);
				else if (void 0 !== fabric.util.getFunctionBody(e.source)) this.source = new Function(fabric.util.getFunctionBody(
					e.source)), t && t(this);
				else {
					var n = this;
					this.source = fabric.util.createImage(), fabric.util.loadImage(e.source, function(e) {
						n.source = e, t && t(n)
					}, null, this.crossOrigin)
				}
			},
			toObject: function(t) {
				var n, r, i = fabric.Object.NUM_FRACTION_DIGITS;
				return "function" == typeof this.source ? n = String(this.source) : "string" == typeof this.source.src ? n =
					this.source.src : "object" == typeof this.source && this.source.toDataURL && (n = this.source.toDataURL()), r = {
						type: "pattern",
						source: n,
						repeat: this.repeat,
						crossOrigin: this.crossOrigin,
						offsetX: e(this.offsetX, i),
						offsetY: e(this.offsetY, i),
						patternTransform: this.patternTransform ? this.patternTransform.concat() : null
					}, fabric.util.populateWithProperties(this, r, t), r
			},
			toSVG: function(e) {
				var t = "function" == typeof this.source ? this.source() : this.source,
					n = t.width / e.width,
					r = t.height / e.height,
					i = this.offsetX / e.width,
					o = this.offsetY / e.height,
					a = "";
				return "repeat-x" !== this.repeat && "no-repeat" !== this.repeat || (r = 1), "repeat-y" !== this.repeat &&
					"no-repeat" !== this.repeat || (n = 1), t.src ? a = t.src : t.toDataURL && (a = t.toDataURL()),
					'<pattern id="SVGID_' + this.id + '" x="' + i + '" y="' + o + '" width="' + n + '" height="' + r +
					'">\n<image x="0" y="0" width="' + t.width + '" height="' + t.height + '" xlink:href="' + a +
					'"></image>\n</pattern>\n'
			},
			setOptions: function(e) {
				for (var t in e) this[t] = e[t]
			},
			toLive: function(e) {
				var t = "function" == typeof this.source ? this.source() : this.source;
				if (!t) return "";
				if (void 0 !== t.src) {
					if (!t.complete) return "";
					if (0 === t.naturalWidth || 0 === t.naturalHeight) return ""
				}
				return e.createPattern(t, this.repeat)
			}
		})
	}(),
	function(e) {
		"use strict";
		var t = e.fabric || (e.fabric = {}),
			n = t.util.toFixed;
		t.Shadow ? t.warn("fabric.Shadow is already defined.") : (t.Shadow = t.util.createClass({
				color: "rgb(0,0,0)",
				blur: 0,
				offsetX: 0,
				offsetY: 0,
				affectStroke: !1,
				includeDefaultValues: !0,
				initialize: function(e) {
					for (var n in "string" == typeof e && (e = this._parseShadow(e)), e) this[n] = e[n];
					this.id = t.Object.__uid++
				},
				_parseShadow: function(e) {
					var n = e.trim(),
						r = t.Shadow.reOffsetsAndBlur.exec(n) || [];
					return {
						color: (n.replace(t.Shadow.reOffsetsAndBlur, "") || "rgb(0,0,0)").trim(),
						offsetX: parseInt(r[1], 10) || 0,
						offsetY: parseInt(r[2], 10) || 0,
						blur: parseInt(r[3], 10) || 0
					}
				},
				toString: function() {
					return [this.offsetX, this.offsetY, this.blur, this.color].join("px ")
				},
				toSVG: function(e) {
					var r = 40,
						i = 40,
						o = t.Object.NUM_FRACTION_DIGITS,
						a = t.util.rotateVector({
							x: this.offsetX,
							y: this.offsetY
						}, t.util.degreesToRadians(-e.angle));
					return e.width && e.height && (r = 100 * n((Math.abs(a.x) + this.blur) / e.width, o) + 20, i = 100 * n((Math.abs(
							a.y) + this.blur) / e.height, o) + 20), e.flipX && (a.x *= -1), e.flipY && (a.y *= -1), '<filter id="SVGID_' +
						this.id + '" y="-' + i + '%" height="' + (100 + 2 * i) + '%" x="-' + r + '%" width="' + (100 + 2 * r) +
						'%" >\n	<feGaussianBlur in="SourceAlpha" stdDeviation="' + n(this.blur ? this.blur / 2 : 0, o) +
						'"></feGaussianBlur>\n	<feOffset dx="' + n(a.x, o) + '" dy="' + n(a.y, o) +
						'" result="oBlur" ></feOffset>\n	<feFlood flood-color="' + this.color +
						'"/>\n	<feComposite in2="oBlur" operator="in" />\n	<feMerge>\n		<feMergeNode></feMergeNode>\n		<feMergeNode in="SourceGraphic"></feMergeNode>\n	</feMerge>\n</filter>\n'
				},
				toObject: function() {
					if (this.includeDefaultValues) return {
						color: this.color,
						blur: this.blur,
						offsetX: this.offsetX,
						offsetY: this.offsetY,
						affectStroke: this.affectStroke
					};
					var e = {},
						n = t.Shadow.prototype;
					return ["color", "blur", "offsetX", "offsetY", "affectStroke"].forEach(function(t) {
						this[t] !== n[t] && (e[t] = this[t])
					}, this), e
				}
			}), t.Shadow.reOffsetsAndBlur =
			/(?:\s|^)(-?\d+(?:px)?(?:\s?|$))?(-?\d+(?:px)?(?:\s?|$))?(\d+(?:px)?)?(?:\s?|$)(?:$|\s)/)
	}("undefined" != typeof exports ? exports : this),
	function() {
		"use strict";
		if (fabric.StaticCanvas) fabric.warn("fabric.StaticCanvas is already defined.");
		else {
			var e = fabric.util.object.extend,
				t = fabric.util.getElementOffset,
				n = fabric.util.removeFromArray,
				r = fabric.util.toFixed,
				i = fabric.util.transformPoint,
				o = fabric.util.invertTransform,
				a = new Error("Could not initialize `canvas` element");
			fabric.StaticCanvas = fabric.util.createClass(fabric.CommonMethods, {
				initialize: function(e, t) {
					t || (t = {}), this.renderAndResetBound = this.renderAndReset.bind(this), this.requestRenderAllBound = this.requestRenderAll
						.bind(this), this._initStatic(e, t)
				},
				backgroundColor: "",
				backgroundImage: null,
				overlayColor: "",
				overlayImage: null,
				includeDefaultValues: !0,
				stateful: !1,
				renderOnAddRemove: !0,
				clipTo: null,
				controlsAboveOverlay: !1,
				allowTouchScrolling: !1,
				imageSmoothingEnabled: !0,
				viewportTransform: fabric.iMatrix.concat(),
				backgroundVpt: !0,
				overlayVpt: !0,
				onBeforeScaleRotate: function() {},
				enableRetinaScaling: !0,
				vptCoords: {},
				skipOffscreen: !0,
				_initStatic: function(e, t) {
					var n = this.requestRenderAllBound;
					this._objects = [], this._createLowerCanvas(e), this._initOptions(t), this._setImageSmoothing(), this.interactive ||
						this._initRetinaScaling(), t.overlayImage && this.setOverlayImage(t.overlayImage, n), t.backgroundImage &&
						this.setBackgroundImage(t.backgroundImage, n), t.backgroundColor && this.setBackgroundColor(t.backgroundColor,
							n), t.overlayColor && this.setOverlayColor(t.overlayColor, n), this.calcOffset()
				},
				_isRetinaScaling: function() {
					return 1 !== fabric.devicePixelRatio && this.enableRetinaScaling
				},
				getRetinaScaling: function() {
					return this._isRetinaScaling() ? fabric.devicePixelRatio : 1
				},
				_initRetinaScaling: function() {
					this._isRetinaScaling() && (this.lowerCanvasEl.setAttribute("width", this.width * fabric.devicePixelRatio),
						this.lowerCanvasEl.setAttribute("height", this.height * fabric.devicePixelRatio), this.contextContainer.scale(
							fabric.devicePixelRatio, fabric.devicePixelRatio))
				},
				calcOffset: function() {
					return this._offset = t(this.lowerCanvasEl), this
				},
				setOverlayImage: function(e, t, n) {
					return this.__setBgOverlayImage("overlayImage", e, t, n)
				},
				setBackgroundImage: function(e, t, n) {
					return this.__setBgOverlayImage("backgroundImage", e, t, n)
				},
				setOverlayColor: function(e, t) {
					return this.__setBgOverlayColor("overlayColor", e, t)
				},
				setBackgroundColor: function(e, t) {
					return this.__setBgOverlayColor("backgroundColor", e, t)
				},
				_setImageSmoothing: function() {
					var e = this.getContext();
					e.imageSmoothingEnabled = e.imageSmoothingEnabled || e.webkitImageSmoothingEnabled || e.mozImageSmoothingEnabled ||
						e.msImageSmoothingEnabled || e.oImageSmoothingEnabled, e.imageSmoothingEnabled = this.imageSmoothingEnabled
				},
				__setBgOverlayImage: function(e, t, n, r) {
					return "string" == typeof t ? fabric.util.loadImage(t, function(t) {
						t && (this[e] = new fabric.Image(t, r)), n && n(t)
					}, this, r && r.crossOrigin) : (r && t.setOptions(r), this[e] = t, n && n(t)), this
				},
				__setBgOverlayColor: function(e, t, n) {
					return this[e] = t, this._initGradient(t, e), this._initPattern(t, e, n), this
				},
				_createCanvasElement: function() {
					var e = fabric.util.createCanvasElement();
					if (!e) throw a;
					if (e.style || (e.style = {}), void 0 === e.getContext) throw a;
					return e
				},
				_initOptions: function(e) {
					this._setOptions(e), this.width = this.width || parseInt(this.lowerCanvasEl.width, 10) || 0, this.height = this
						.height || parseInt(this.lowerCanvasEl.height, 10) || 0, this.lowerCanvasEl.style && (this.lowerCanvasEl.width =
							this.width, this.lowerCanvasEl.height = this.height, this.lowerCanvasEl.style.width = this.width + "px", this
							.lowerCanvasEl.style.height = this.height + "px", this.viewportTransform = this.viewportTransform.slice())
				},
				_createLowerCanvas: function(e) {
					e && e.getContext ? this.lowerCanvasEl = e : this.lowerCanvasEl = fabric.util.getById(e) || this._createCanvasElement(),
						fabric.util.addClass(this.lowerCanvasEl, "lower-canvas"), this.interactive && this._applyCanvasStyle(this.lowerCanvasEl),
						this.contextContainer = this.lowerCanvasEl.getContext("2d")
				},
				getWidth: function() {
					return this.width
				},
				getHeight: function() {
					return this.height
				},
				setWidth: function(e, t) {
					return this.setDimensions({
						width: e
					}, t)
				},
				setHeight: function(e, t) {
					return this.setDimensions({
						height: e
					}, t)
				},
				setDimensions: function(e, t) {
					var n;
					for (var r in t = t || {}, e) n = e[r], t.cssOnly || (this._setBackstoreDimension(r, e[r]), n += "px"), t.backstoreOnly ||
						this._setCssDimension(r, n);
					return this._isCurrentlyDrawing && this.freeDrawingBrush && this.freeDrawingBrush._setBrushStyles(), this._initRetinaScaling(),
						this._setImageSmoothing(), this.calcOffset(), t.cssOnly || this.requestRenderAll(), this
				},
				_setBackstoreDimension: function(e, t) {
					return this.lowerCanvasEl[e] = t, this.upperCanvasEl && (this.upperCanvasEl[e] = t), this.cacheCanvasEl && (
						this.cacheCanvasEl[e] = t), this[e] = t, this
				},
				_setCssDimension: function(e, t) {
					return this.lowerCanvasEl.style[e] = t, this.upperCanvasEl && (this.upperCanvasEl.style[e] = t), this.wrapperEl &&
						(this.wrapperEl.style[e] = t), this
				},
				getZoom: function() {
					return this.viewportTransform[0]
				},
				setViewportTransform: function(e) {
					var t, n, r, i = this._activeObject;
					for (this.viewportTransform = e, n = 0, r = this._objects.length; r > n; n++)(t = this._objects[n]).group || t.setCoords(
						!1, !0);
					return i && "activeSelection" === i.type && i.setCoords(!1, !0), this.calcViewportBoundaries(), this.renderOnAddRemove &&
						this.requestRenderAll(), this
				},
				zoomToPoint: function(e, t) {
					var n = e,
						r = this.viewportTransform.slice(0);
					e = i(e, o(this.viewportTransform)), r[0] = t, r[3] = t;
					var a = i(e, r);
					return r[4] += n.x - a.x, r[5] += n.y - a.y, this.setViewportTransform(r)
				},
				setZoom: function(e) {
					return this.zoomToPoint(new fabric.Point(0, 0), e), this
				},
				absolutePan: function(e) {
					var t = this.viewportTransform.slice(0);
					return t[4] = -e.x, t[5] = -e.y, this.setViewportTransform(t)
				},
				relativePan: function(e) {
					return this.absolutePan(new fabric.Point(-e.x - this.viewportTransform[4], -e.y - this.viewportTransform[5]))
				},
				getElement: function() {
					return this.lowerCanvasEl
				},
				_onObjectAdded: function(e) {
					this.stateful && e.setupState(), e._set("canvas", this), e.setCoords(), this.fire("object:added", {
						target: e
					}), e.fire("added")
				},
				_onObjectRemoved: function(e) {
					this.fire("object:removed", {
						target: e
					}), e.fire("removed"), delete e.canvas
				},
				clearContext: function(e) {
					return e.clearRect(0, 0, this.width, this.height), this
				},
				getContext: function() {
					return this.contextContainer
				},
				clear: function() {
					return this._objects.length = 0, this.backgroundImage = null, this.overlayImage = null, this.backgroundColor =
						"", this.overlayColor = "", this._hasITextHandlers && (this.off("mouse:up", this._mouseUpITextHandler), this._iTextInstances =
							null, this._hasITextHandlers = !1), this.clearContext(this.contextContainer), this.fire("canvas:cleared"),
						this.renderOnAddRemove && this.requestRenderAll(), this;
				},
				renderAll: function() {
					var e = this.contextContainer;
					return this.renderCanvas(e, this._objects), this
				},
				renderAndReset: function() {
					this.isRendering = 0, this.renderAll()
				},
				requestRenderAll: function() {
					return this.isRendering || (this.isRendering = fabric.util.requestAnimFrame(this.renderAndResetBound)), this
				},
				calcViewportBoundaries: function() {
					var e = {},
						t = this.width,
						n = this.height,
						r = o(this.viewportTransform);
					return e.tl = i({
						x: 0,
						y: 0
					}, r), e.br = i({
						x: t,
						y: n
					}, r), e.tr = new fabric.Point(e.br.x, e.tl.y), e.bl = new fabric.Point(e.tl.x, e.br.y), this.vptCoords = e
				},
				renderCanvas: function(e, t) {
					var n = this.viewportTransform;
					this.isRendering && (fabric.util.cancelAnimFrame(this.isRendering), this.isRendering = 0), this.calcViewportBoundaries(),
						this.clearContext(e), this.fire("before:render"), this.clipTo && fabric.util.clipContext(this, e), this._renderBackground(
							e), e.save(), e.transform(n[0], n[1], n[2], n[3], n[4], n[5]), this._renderObjects(e, t), e.restore(), !this.controlsAboveOverlay &&
						this.interactive && this.drawControls(e), this.clipTo && e.restore(), this._renderOverlay(e), this.controlsAboveOverlay &&
						this.interactive && this.drawControls(e), this.fire("after:render")
				},
				_renderObjects: function(e, t) {
					var n, r;
					for (n = 0, r = t.length; r > n; ++n) t[n] && t[n].render(e)
				},
				_renderBackgroundOrOverlay: function(e, t) {
					var n, r = this[t + "Color"];
					r && (e.fillStyle = r.toLive ? r.toLive(e, this) : r, e.fillRect(r.offsetX || 0, r.offsetY || 0, this.width,
						this.height)), (r = this[t + "Image"]) && (this[t + "Vpt"] && (n = this.viewportTransform, e.save(), e.transform(
						n[0], n[1], n[2], n[3], n[4], n[5])), r.render(e), this[t + "Vpt"] && e.restore())
				},
				_renderBackground: function(e) {
					this._renderBackgroundOrOverlay(e, "background")
				},
				_renderOverlay: function(e) {
					this._renderBackgroundOrOverlay(e, "overlay")
				},
				getCenter: function() {
					return {
						top: this.height / 2,
						left: this.width / 2
					}
				},
				centerObjectH: function(e) {
					return this._centerObject(e, new fabric.Point(this.getCenter().left, e.getCenterPoint().y))
				},
				centerObjectV: function(e) {
					return this._centerObject(e, new fabric.Point(e.getCenterPoint().x, this.getCenter().top))
				},
				centerObject: function(e) {
					var t = this.getCenter();
					return this._centerObject(e, new fabric.Point(t.left, t.top))
				},
				viewportCenterObject: function(e) {
					var t = this.getVpCenter();
					return this._centerObject(e, t)
				},
				viewportCenterObjectH: function(e) {
					var t = this.getVpCenter();
					return this._centerObject(e, new fabric.Point(t.x, e.getCenterPoint().y)), this
				},
				viewportCenterObjectV: function(e) {
					var t = this.getVpCenter();
					return this._centerObject(e, new fabric.Point(e.getCenterPoint().x, t.y))
				},
				getVpCenter: function() {
					var e = this.getCenter(),
						t = o(this.viewportTransform);
					return i({
						x: e.left,
						y: e.top
					}, t)
				},
				_centerObject: function(e, t) {
					return e.setPositionByOrigin(t, "center", "center"), e.setCoords(), this.renderOnAddRemove && this.requestRenderAll(),
						this
				},
				toDatalessJSON: function(e) {
					return this.toDatalessObject(e)
				},
				toObject: function(e) {
					return this._toObjectMethod("toObject", e)
				},
				toDatalessObject: function(e) {
					return this._toObjectMethod("toDatalessObject", e)
				},
				_toObjectMethod: function(t, n) {
					var r = {
						version: fabric.version,
						objects: this._toObjects(t, n)
					};
					return e(r, this.__serializeBgOverlay(t, n)), fabric.util.populateWithProperties(this, r, n), r
				},
				_toObjects: function(e, t) {
					return this.getObjects().filter(function(e) {
						return !e.excludeFromExport
					}).map(function(n) {
						return this._toObject(n, e, t)
					}, this)
				},
				_toObject: function(e, t, n) {
					var r;
					this.includeDefaultValues || (r = e.includeDefaultValues, e.includeDefaultValues = !1);
					var i = e[t](n);
					return this.includeDefaultValues || (e.includeDefaultValues = r), i
				},
				__serializeBgOverlay: function(e, t) {
					var n = {},
						r = this.backgroundImage,
						i = this.overlayImage;
					return this.backgroundColor && (n.background = this.backgroundColor.toObject ? this.backgroundColor.toObject(t) :
							this.backgroundColor), this.overlayColor && (n.overlay = this.overlayColor.toObject ? this.overlayColor.toObject(
							t) : this.overlayColor), r && !r.excludeFromExport && (n.backgroundImage = this._toObject(r, e, t)), i && !i.excludeFromExport &&
						(n.overlayImage = this._toObject(i, e, t)), n
				},
				svgViewportTransformation: !0,
				toSVG: function(e, t) {
					e || (e = {});
					var n = [];
					return this._setSVGPreamble(n, e), this._setSVGHeader(n, e), this._setSVGBgOverlayColor(n, "backgroundColor"),
						this._setSVGBgOverlayImage(n, "backgroundImage", t), this._setSVGObjects(n, t), this._setSVGBgOverlayColor(n,
							"overlayColor"), this._setSVGBgOverlayImage(n, "overlayImage", t), n.push("</svg>"), n.join("")
				},
				_setSVGPreamble: function(e, t) {
					t.suppressPreamble || e.push('<?xml version="1.0" encoding="', t.encoding || "UTF-8", '" standalone="no" ?>\n',
						'<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ', '"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n')
				},
				_setSVGHeader: function(e, t) {
					var n, i = t.width || this.width,
						o = t.height || this.height,
						a = 'viewBox="0 0 ' + this.width + " " + this.height + '" ',
						s = fabric.Object.NUM_FRACTION_DIGITS;
					t.viewBox ? a = 'viewBox="' + t.viewBox.x + " " + t.viewBox.y + " " + t.viewBox.width + " " + t.viewBox.height +
						'" ' : this.svgViewportTransformation && (n = this.viewportTransform, a = 'viewBox="' + r(-n[4] / n[0], s) +
							" " + r(-n[5] / n[3], s) + " " + r(this.width / n[0], s) + " " + r(this.height / n[3], s) + '" '), e.push(
							"<svg ", 'xmlns="http://www.w3.org/2000/svg" ', 'xmlns:xlink="http://www.w3.org/1999/xlink" ',
							'version="1.1" ', 'width="', i, '" ', 'height="', o, '" ', a, 'xml:space="preserve">\n',
							"<desc>Created with Fabric.js ", fabric.version, "</desc>\n", "<defs>\n", this.createSVGFontFacesMarkup(),
							this.createSVGRefElementsMarkup(), "</defs>\n")
				},
				createSVGRefElementsMarkup: function() {
					var e = this;
					return ["backgroundColor", "overlayColor"].map(function(t) {
						var n = e[t];
						return n && n.toLive ? n.toSVG(e, !1) : void 0
					}).join("")
				},
				createSVGFontFacesMarkup: function() {
					var e, t, n, r, i, o, a, s, l = "",
						c = {},
						u = fabric.fontPaths,
						h = this.getObjects();
					for (a = 0, s = h.length; s > a; a++)
						if (t = (e = h[a]).fontFamily, -1 !== e.type.indexOf("text") && !c[t] && u[t] && (c[t] = !0, e.styles))
							for (i in n = e.styles)
								for (o in r = n[i]) !c[t = r[o].fontFamily] && u[t] && (c[t] = !0);
					for (var f in c) l += ["		@font-face {\n", "			font-family: '", f, "';\n", "			src: url('", u[f], "');\n",
						"		}\n"
					].join("");
					return l && (l = ['	<style type="text/css">', "<![CDATA[\n", l, "]]>", "</style>\n"].join("")), l
				},
				_setSVGObjects: function(e, t) {
					var n, r, i, o = this.getObjects();
					for (r = 0, i = o.length; i > r; r++)(n = o[r]).excludeFromExport || this._setSVGObject(e, n, t)
				},
				_setSVGObject: function(e, t, n) {
					e.push(t.toSVG(n))
				},
				_setSVGBgOverlayImage: function(e, t, n) {
					this[t] && this[t].toSVG && e.push(this[t].toSVG(n))
				},
				_setSVGBgOverlayColor: function(e, t) {
					var n = this[t];
					if (n)
						if (n.toLive) {
							var r = n.repeat;
							e.push('<rect transform="translate(', this.width / 2, ",", this.height / 2, ')"', ' x="', n.offsetX - this.width /
								2, '" y="', n.offsetY - this.height / 2, '" ', 'width="', "repeat-y" === r || "no-repeat" === r ? n.source.width :
								this.width, '" height="', "repeat-x" === r || "no-repeat" === r ? n.source.height : this.height,
								'" fill="url(#SVGID_' + n.id + ')"', "></rect>\n")
						} else e.push('<rect x="0" y="0" ', 'width="', this.width, '" height="', this.height, '" fill="', this[t], '"',
							"></rect>\n")
				},
				sendToBack: function(e) {
					if (!e) return this;
					var t, r, i, o = this._activeObject;
					if (e === o && "activeSelection" === e.type)
						for (t = (i = o._objects).length; t--;) r = i[t], n(this._objects, r), this._objects.unshift(r);
					else n(this._objects, e), this._objects.unshift(e);
					return this.renderOnAddRemove && this.requestRenderAll(), this
				},
				bringToFront: function(e) {
					if (!e) return this;
					var t, r, i, o = this._activeObject;
					if (e === o && "activeSelection" === e.type)
						for (i = o._objects, t = 0; t < i.length; t++) r = i[t], n(this._objects, r), this._objects.push(r);
					else n(this._objects, e), this._objects.push(e);
					return this.renderOnAddRemove && this.requestRenderAll(), this
				},
				sendBackwards: function(e, t) {
					if (!e) return this;
					var r, i, o, a, s, l = this._activeObject,
						c = 0;
					if (e === l && "activeSelection" === e.type)
						for (s = l._objects, r = 0; r < s.length; r++) i = s[r], 0 + c < (o = this._objects.indexOf(i)) && (a = o - 1,
							n(this._objects, i), this._objects.splice(a, 0, i)), c++;
					else 0 !== (o = this._objects.indexOf(e)) && (a = this._findNewLowerIndex(e, o, t), n(this._objects, e), this._objects
						.splice(a, 0, e));
					return this.renderOnAddRemove && this.requestRenderAll(), this
				},
				_findNewLowerIndex: function(e, t, n) {
					var r, i;
					if (n) {
						for (i = (r = t) - 1; i >= 0; --i)
							if (e.intersectsWithObject(this._objects[i]) || e.isContainedWithinObject(this._objects[i]) || this._objects[
									i].isContainedWithinObject(e)) {
								r = i;
								break
							}
					} else r = t - 1;
					return r
				},
				bringForward: function(e, t) {
					if (!e) return this;
					var r, i, o, a, s, l = this._activeObject,
						c = 0;
					if (e === l && "activeSelection" === e.type)
						for (r = (s = l._objects).length; r--;) i = s[r], (o = this._objects.indexOf(i)) < this._objects.length - 1 -
							c && (a = o + 1, n(this._objects, i), this._objects.splice(a, 0, i)), c++;
					else(o = this._objects.indexOf(e)) !== this._objects.length - 1 && (a = this._findNewUpperIndex(e, o, t), n(
						this._objects, e), this._objects.splice(a, 0, e));
					return this.renderOnAddRemove && this.requestRenderAll(), this
				},
				_findNewUpperIndex: function(e, t, n) {
					var r, i, o;
					if (n) {
						for (i = (r = t) + 1, o = this._objects.length; o > i; ++i)
							if (e.intersectsWithObject(this._objects[i]) || e.isContainedWithinObject(this._objects[i]) || this._objects[
									i].isContainedWithinObject(e)) {
								r = i;
								break
							}
					} else r = t + 1;
					return r
				},
				moveTo: function(e, t) {
					return n(this._objects, e), this._objects.splice(t, 0, e), this.renderOnAddRemove && this.requestRenderAll()
				},
				dispose: function() {
					return this.forEachObject(function(e) {
							e.dispose && e.dispose()
						}), this._objects = [], this.backgroundImage = null, this.overlayImage = null, this._iTextInstances = null,
						this.lowerCanvasEl = null, this.cacheCanvasEl = null, this
				},
				toString: function() {
					return "#<fabric.Canvas (" + this.complexity() + "): { objects: " + this.getObjects().length + " }>"
				}
			}), e(fabric.StaticCanvas.prototype, fabric.Observable), e(fabric.StaticCanvas.prototype, fabric.Collection), e(
				fabric.StaticCanvas.prototype, fabric.DataURLExporter), e(fabric.StaticCanvas, {
				EMPTY_JSON: '{"objects": [], "background": "white"}',
				supports: function(e) {
					var t = fabric.util.createCanvasElement();
					if (!t || !t.getContext) return null;
					var n = t.getContext("2d");
					if (!n) return null;
					switch (e) {
						case "getImageData":
							return void 0 !== n.getImageData;
						case "setLineDash":
							return void 0 !== n.setLineDash;
						case "toDataURL":
							return void 0 !== t.toDataURL;
						case "toDataURLWithQuality":
							try {
								return t.toDataURL("image/jpeg", 0), !0
							} catch (e) {}
							return !1;
						default:
							return null
					}
				}
			}), fabric.StaticCanvas.prototype.toJSON = fabric.StaticCanvas.prototype.toObject, fabric.isLikelyNode && (fabric.StaticCanvas
				.prototype.createPNGStream = function() {
					var e = fabric.util.getNodeCanvas(this.lowerCanvasEl);
					return e && e.createPNGStream()
				}, fabric.StaticCanvas.prototype.createJPEGStream = function(e) {
					var t = fabric.util.getNodeCanvas(this.lowerCanvasEl);
					return t && t.createJPEGStream(e)
				})
		}
	}(), fabric.BaseBrush = fabric.util.createClass({
		color: "rgb(0, 0, 0)",
		width: 1,
		shadow: null,
		strokeLineCap: "round",
		strokeLineJoin: "round",
		strokeMiterLimit: 10,
		strokeDashArray: null,
		setShadow: function(e) {
			return this.shadow = new fabric.Shadow(e), this
		},
		_setBrushStyles: function() {
			var e = this.canvas.contextTop;
			e.strokeStyle = this.color, e.lineWidth = this.width, e.lineCap = this.strokeLineCap, e.miterLimit = this.strokeMiterLimit,
				e.lineJoin = this.strokeLineJoin, this.strokeDashArray && fabric.StaticCanvas.supports("setLineDash") && e.setLineDash(
					this.strokeDashArray)
		},
		_saveAndTransform: function(e) {
			var t = this.canvas.viewportTransform;
			e.save(), e.transform(t[0], t[1], t[2], t[3], t[4], t[5])
		},
		_setShadow: function() {
			if (this.shadow) {
				var e = this.canvas.contextTop,
					t = this.canvas.getZoom();
				e.shadowColor = this.shadow.color, e.shadowBlur = this.shadow.blur * t, e.shadowOffsetX = this.shadow.offsetX * t,
					e.shadowOffsetY = this.shadow.offsetY * t
			}
		},
		_resetShadow: function() {
			var e = this.canvas.contextTop;
			e.shadowColor = "", e.shadowBlur = e.shadowOffsetX = e.shadowOffsetY = 0
		}
	}), fabric.PencilBrush = fabric.util.createClass(fabric.BaseBrush, {
		initialize: function(e) {
			this.canvas = e, this._points = []
		},
		_drawSegment: function(e, t, n) {
			var r = t.midPointFrom(n);
			return e.quadraticCurveTo(t.x, t.y, r.x, r.y), r
		},
		onMouseDown: function(e) {
			this._prepareForDrawing(e), this._captureDrawingPath(e), this._render()
		},
		onMouseMove: function(e) {
			if (this._captureDrawingPath(e) && 1 < this._points.length) {
				var t = this._points,
					n = t.length,
					r = this.canvas.contextTop;
				this._saveAndTransform(r), this.oldEnd && (r.beginPath(), r.moveTo(this.oldEnd.x, this.oldEnd.y)), this.oldEnd =
					this._drawSegment(r, t[n - 2], t[n - 1], !0), r.stroke(), r.restore()
			}
		},
		onMouseUp: function() {
			this.oldEnd = void 0, this._finalizeAndAddPath()
		},
		_prepareForDrawing: function(e) {
			var t = new fabric.Point(e.x, e.y);
			this._reset(), this._addPoint(t), this.canvas.contextTop.moveTo(t.x, t.y)
		},
		_addPoint: function(e) {
			return !(1 < this._points.length && e.eq(this._points[this._points.length - 1]) || (this._points.push(e), 0))
		},
		_reset: function() {
			this._points.length = 0, this._setBrushStyles(), this._setShadow()
		},
		_captureDrawingPath: function(e) {
			var t = new fabric.Point(e.x, e.y);
			return this._addPoint(t)
		},
		_render: function() {
			var e, t, n = this.canvas.contextTop,
				r = this._points[0],
				i = this._points[1];
			if (this._saveAndTransform(n), n.beginPath(), 2 === this._points.length && r.x === i.x && r.y === i.y) {
				var o = this.width / 1e3;
				r = new fabric.Point(r.x, r.y), i = new fabric.Point(i.x, i.y), r.x -= o, i.x += o
			}
			for (n.moveTo(r.x, r.y), e = 1, t = this._points.length; t > e; e++) this._drawSegment(n, r, i), r = this._points[
				e], i = this._points[e + 1];
			n.lineTo(r.x, r.y), n.stroke(), n.restore()
		},
		convertPointsToSVGPath: function(e) {
			var t, n = [],
				r = this.width / 1e3,
				i = new fabric.Point(e[0].x, e[0].y),
				o = new fabric.Point(e[1].x, e[1].y),
				a = e.length,
				s = 1,
				l = 1,
				c = a > 2;
			for (c && (s = e[2].x < o.x ? -1 : e[2].x === o.x ? 0 : 1, l = e[2].y < o.y ? -1 : e[2].y === o.y ? 0 : 1), n.push(
					"M ", i.x - s * r, " ", i.y - l * r, " "), t = 1; a > t; t++) {
				if (!i.eq(o)) {
					var u = i.midPointFrom(o);
					n.push("Q ", i.x, " ", i.y, " ", u.x, " ", u.y, " ")
				}
				i = e[t], t + 1 < e.length && (o = e[t + 1])
			}
			return c && (s = i.x > e[t - 2].x ? 1 : i.x === e[t - 2].x ? 0 : -1, l = i.y > e[t - 2].y ? 1 : i.y === e[t - 2].y ?
				0 : -1), n.push("L ", i.x + s * r, " ", i.y + l * r), n
		},
		createPath: function(e) {
			var t = new fabric.Path(e, {
					fill: null,
					stroke: this.color,
					strokeWidth: this.width,
					strokeLineCap: this.strokeLineCap,
					strokeMiterLimit: this.strokeMiterLimit,
					strokeLineJoin: this.strokeLineJoin,
					strokeDashArray: this.strokeDashArray
				}),
				n = new fabric.Point(t.left + t.width / 2, t.top + t.height / 2);
			return n = t.translateToGivenOrigin(n, "center", "center", t.originX, t.originY), t.top = n.y, t.left = n.x, this.shadow &&
				(this.shadow.affectStroke = !0, t.setShadow(this.shadow)), t
		},
		_finalizeAndAddPath: function() {
			this.canvas.contextTop.closePath();
			var e = this.convertPointsToSVGPath(this._points).join("");
			if ("M 0 0 Q 0 0 0 0 L 0 0" !== e) {
				var t = this.createPath(e);
				this.canvas.clearContext(this.canvas.contextTop), this.canvas.add(t), this.canvas.renderAll(), t.setCoords(),
					this._resetShadow(), this.canvas.fire("path:created", {
						path: t
					})
			} else this.canvas.requestRenderAll()
		}
	}), fabric.CircleBrush = fabric.util.createClass(fabric.BaseBrush, {
		width: 10,
		initialize: function(e) {
			this.canvas = e, this.points = []
		},
		drawDot: function(e) {
			var t = this.addPoint(e),
				n = this.canvas.contextTop;
			this._saveAndTransform(n), n.fillStyle = t.fill, n.beginPath(), n.arc(t.x, t.y, t.radius, 0, 2 * Math.PI, !1), n.closePath(),
				n.fill(), n.restore()
		},
		onMouseDown: function(e) {
			this.points.length = 0, this.canvas.clearContext(this.canvas.contextTop), this._setShadow(), this.drawDot(e)
		},
		_render: function() {
			var e, t, n, r = this.canvas.contextTop,
				i = this.points;
			for (this._saveAndTransform(r), e = 0, t = i.length; t > e; e++) n = i[e], r.fillStyle = n.fill, r.beginPath(), r.arc(
				n.x, n.y, n.radius, 0, 2 * Math.PI, !1), r.closePath(), r.fill();
			r.restore()
		},
		onMouseMove: function(e) {
			this.drawDot(e)
		},
		onMouseUp: function() {
			var e, t, n = this.canvas.renderOnAddRemove;
			this.canvas.renderOnAddRemove = !1;
			var r = [];
			for (e = 0, t = this.points.length; t > e; e++) {
				var i = this.points[e],
					o = new fabric.Circle({
						radius: i.radius,
						left: i.x,
						top: i.y,
						originX: "center",
						originY: "center",
						fill: i.fill
					});
				this.shadow && o.setShadow(this.shadow), r.push(o)
			}
			var a = new fabric.Group(r, {
				originX: "center",
				originY: "center"
			});
			a.canvas = this.canvas, this.canvas.add(a), this.canvas.fire("path:created", {
					path: a
				}), this.canvas.clearContext(this.canvas.contextTop), this._resetShadow(), this.canvas.renderOnAddRemove = n,
				this.canvas.requestRenderAll()
		},
		addPoint: function(e) {
			var t = new fabric.Point(e.x, e.y),
				n = fabric.util.getRandomInt(Math.max(0, this.width - 20), this.width + 20) / 2,
				r = new fabric.Color(this.color).setAlpha(fabric.util.getRandomInt(0, 100) / 100).toRgba();
			return t.radius = n, t.fill = r, this.points.push(t), t
		}
	}), fabric.SprayBrush = fabric.util.createClass(fabric.BaseBrush, {
		width: 10,
		density: 20,
		dotWidth: 1,
		dotWidthVariance: 1,
		randomOpacity: !1,
		optimizeOverlapping: !0,
		initialize: function(e) {
			this.canvas = e, this.sprayChunks = []
		},
		onMouseDown: function(e) {
			this.sprayChunks.length = 0, this.canvas.clearContext(this.canvas.contextTop), this._setShadow(), this.addSprayChunk(
				e), this.render(this.sprayChunkPoints)
		},
		onMouseMove: function(e) {
			this.addSprayChunk(e), this.render(this.sprayChunkPoints)
		},
		onMouseUp: function() {
			var e = this.canvas.renderOnAddRemove;
			this.canvas.renderOnAddRemove = !1;
			for (var t = [], n = 0, r = this.sprayChunks.length; r > n; n++)
				for (var i = this.sprayChunks[n], o = 0, a = i.length; a > o; o++) {
					var s = new fabric.Rect({
						width: i[o].width,
						height: i[o].width,
						left: i[o].x + 1,
						top: i[o].y + 1,
						originX: "center",
						originY: "center",
						fill: this.color
					});
					t.push(s)
				}
			this.optimizeOverlapping && (t = this._getOptimizedRects(t));
			var l = new fabric.Group(t, {
				originX: "center",
				originY: "center"
			});
			this.shadow && l.setShadow(this.shadow), this.canvas.add(l), this.canvas.fire("path:created", {
					path: l
				}), this.canvas.clearContext(this.canvas.contextTop), this._resetShadow(), this.canvas.renderOnAddRemove = e,
				this.canvas.requestRenderAll()
		},
		_getOptimizedRects: function(e) {
			var t, n, r, i = {};
			for (n = 0, r = e.length; r > n; n++) i[t = e[n].left + "" + e[n].top] || (i[t] = e[n]);
			var o = [];
			for (t in i) o.push(i[t]);
			return o
		},
		render: function(e) {
			var t, n, r = this.canvas.contextTop;
			for (r.fillStyle = this.color, this._saveAndTransform(r), t = 0, n = e.length; n > t; t++) {
				var i = e[t];
				void 0 !== i.opacity && (r.globalAlpha = i.opacity), r.fillRect(i.x, i.y, i.width, i.width)
			}
			r.restore()
		},
		_render: function() {
			var e, t, n = this.canvas.contextTop;
			for (n.fillStyle = this.color, this._saveAndTransform(n), e = 0, t = this.sprayChunks.length; t > e; e++) this.render(
				this.sprayChunks[e]);
			n.restore()
		},
		addSprayChunk: function(e) {
			this.sprayChunkPoints = [];
			var t, n, r, i, o = this.width / 2;
			for (i = 0; i < this.density; i++) {
				t = fabric.util.getRandomInt(e.x - o, e.x + o), n = fabric.util.getRandomInt(e.y - o, e.y + o), r = this.dotWidthVariance ?
					fabric.util.getRandomInt(Math.max(1, this.dotWidth - this.dotWidthVariance), this.dotWidth + this.dotWidthVariance) :
					this.dotWidth;
				var a = new fabric.Point(t, n);
				a.width = r, this.randomOpacity && (a.opacity = fabric.util.getRandomInt(0, 100) / 100), this.sprayChunkPoints.push(
					a)
			}
			this.sprayChunks.push(this.sprayChunkPoints)
		}
	}), fabric.PatternBrush = fabric.util.createClass(fabric.PencilBrush, {
		getPatternSrc: function() {
			var e = fabric.document.createElement("canvas"),
				t = e.getContext("2d");
			return e.width = e.height = 25, t.fillStyle = this.color, t.beginPath(), t.arc(10, 10, 10, 0, 2 * Math.PI, !1), t.closePath(),
				t.fill(), e
		},
		getPatternSrcFunction: function() {
			return String(this.getPatternSrc).replace("this.color", '"' + this.color + '"')
		},
		getPattern: function() {
			return this.canvas.contextTop.createPattern(this.source || this.getPatternSrc(), "repeat")
		},
		_setBrushStyles: function() {
			this.callSuper("_setBrushStyles"), this.canvas.contextTop.strokeStyle = this.getPattern()
		},
		createPath: function(e) {
			var t = this.callSuper("createPath", e),
				n = t._getLeftTopCoords().scalarAdd(t.strokeWidth / 2);
			return t.stroke = new fabric.Pattern({
				source: this.source || this.getPatternSrcFunction(),
				offsetX: -n.x,
				offsetY: -n.y
			}), t
		}
	}),
	function() {
		var e = fabric.util.getPointer,
			t = fabric.util.degreesToRadians,
			n = fabric.util.radiansToDegrees,
			r = Math.atan2,
			i = Math.abs,
			o = fabric.StaticCanvas.supports("setLineDash");
		for (var a in fabric.Canvas = fabric.util.createClass(fabric.StaticCanvas, {
				initialize: function(e, t) {
					t || (t = {}), this.renderAndResetBound = this.renderAndReset.bind(this), this._initStatic(e, t), this._initInteractive(),
						this._createCacheCanvas()
				},
				uniScaleTransform: !1,
				uniScaleKey: "shiftKey",
				centeredScaling: !1,
				centeredRotation: !1,
				centeredKey: "altKey",
				altActionKey: "shiftKey",
				interactive: !0,
				selection: !0,
				selectionKey: "shiftKey",
				altSelectionKey: null,
				selectionColor: "rgba(100, 100, 255, 0.3)",
				selectionDashArray: [],
				selectionBorderColor: "rgba(255, 255, 255, 0.3)",
				selectionLineWidth: 1,
				selectionFullyContained: !1,
				hoverCursor: "move",
				moveCursor: "move",
				defaultCursor: "default",
				freeDrawingCursor: "crosshair",
				rotationCursor: "crosshair",
				notAllowedCursor: "not-allowed",
				containerClass: "canvas-container",
				perPixelTargetFind: !1,
				targetFindTolerance: 0,
				skipTargetFind: !1,
				isDrawingMode: !1,
				preserveObjectStacking: !1,
				snapAngle: 0,
				snapThreshold: null,
				stopContextMenu: !1,
				fireRightClick: !1,
				fireMiddleClick: !1,
				_initInteractive: function() {
					this._currentTransform = null, this._groupSelector = null, this._initWrapperElement(), this._createUpperCanvas(),
						this._initEventListeners(), this._initRetinaScaling(), this.freeDrawingBrush = fabric.PencilBrush && new fabric
						.PencilBrush(this), this.calcOffset()
				},
				_chooseObjectsToRender: function() {
					var e, t, n, r = this.getActiveObjects();
					if (0 < r.length && !this.preserveObjectStacking) {
						t = [], n = [];
						for (var i = 0, o = this._objects.length; o > i; i++) e = this._objects[i], -1 === r.indexOf(e) ? t.push(e) :
							n.push(e);
						1 < r.length && (this._activeObject._objects = n), t.push.apply(t, n)
					} else t = this._objects;
					return t
				},
				renderAll: function() {
					!this.contextTopDirty || this._groupSelector || this.isDrawingMode || (this.clearContext(this.contextTop), this
							.contextTopDirty = !1), this.isDrawingMode && this._isCurrentlyDrawing && this.freeDrawingBrush && this.freeDrawingBrush
						._render();
					var e = this.contextContainer;
					return this.renderCanvas(e, this._chooseObjectsToRender()), this
				},
				renderTop: function() {
					var e = this.contextTop;
					return this.clearContext(e), this.selection && this._groupSelector && this._drawSelection(e), this.fire(
						"after:render"), this.contextTopDirty = !0, this
				},
				_resetCurrentTransform: function() {
					var e = this._currentTransform;
					e.target.set({
							scaleX: e.original.scaleX,
							scaleY: e.original.scaleY,
							skewX: e.original.skewX,
							skewY: e.original.skewY,
							left: e.original.left,
							top: e.original.top
						}), this._shouldCenterTransform(e.target) ? "rotate" === e.action ? this._setOriginToCenter(e.target) : (
							"center" !== e.originX && ("right" === e.originX ? e.mouseXSign = -1 : e.mouseXSign = 1), "center" !== e.originY &&
							("bottom" === e.originY ? e.mouseYSign = -1 : e.mouseYSign = 1), e.originX = "center", e.originY = "center") :
						(e.originX = e.original.originX, e.originY = e.original.originY)
				},
				containsPoint: function(e, t, n) {
					var r, i = n || this.getPointer(e, !0);
					return r = t.group && t.group === this._activeObject && "activeSelection" === t.group.type ? this._normalizePointer(
						t.group, i) : {
						x: i.x,
						y: i.y
					}, t.containsPoint(r) || t._findTargetCorner(i)
				},
				_normalizePointer: function(e, t) {
					var n = e.calcTransformMatrix(),
						r = fabric.util.invertTransform(n),
						i = this.restorePointerVpt(t);
					return fabric.util.transformPoint(i, r)
				},
				isTargetTransparent: function(e, t, n) {
					var r = this.contextCache,
						i = e.selectionBackgroundColor,
						o = this.viewportTransform;
					return e.selectionBackgroundColor = "", this.clearContext(r), r.save(), r.transform(o[0], o[1], o[2], o[3], o[4],
						o[5]), e.render(r), r.restore(), e === this._activeObject && e._renderControls(r, {
						hasBorders: !1,
						transparentCorners: !1
					}, {
						hasBorders: !1
					}), e.selectionBackgroundColor = i, fabric.util.isTransparent(r, t, n, this.targetFindTolerance)
				},
				_isSelectionKeyPressed: function(e) {
					return "[object Array]" === Object.prototype.toString.call(this.selectionKey) ? !!this.selectionKey.find(
						function(t) {
							return !0 === e[t]
						}) : e[this.selectionKey]
				},
				_shouldClearSelection: function(e, t) {
					var n = this.getActiveObjects(),
						r = this._activeObject;
					return !t || t && r && 1 < n.length && -1 === n.indexOf(t) && r !== t && !this._isSelectionKeyPressed(e) || t &&
						!t.evented || t && !t.selectable && r && r !== t
				},
				_shouldCenterTransform: function(e) {
					if (e) {
						var t, n = this._currentTransform;
						return "scale" === n.action || "scaleX" === n.action || "scaleY" === n.action ? t = this.centeredScaling || e.centeredScaling :
							"rotate" === n.action && (t = this.centeredRotation || e.centeredRotation), t ? !n.altKey : n.altKey
					}
				},
				_getOriginFromCorner: function(e, t) {
					var n = {
						x: e.originX,
						y: e.originY
					};
					return "ml" === t || "tl" === t || "bl" === t ? n.x = "right" : "mr" !== t && "tr" !== t && "br" !== t || (n.x =
							"left"), "tl" === t || "mt" === t || "tr" === t ? n.y = "bottom" : "bl" !== t && "mb" !== t && "br" !== t ||
						(n.y = "top"), n
				},
				_getActionFromCorner: function(e, t, n) {
					if (!t) return "drag";
					switch (t) {
						case "mtr":
							return "rotate";
						case "ml":
						case "mr":
							return n[this.altActionKey] ? "skewY" : "scaleX";
						case "mt":
						case "mb":
							return n[this.altActionKey] ? "skewX" : "scaleY";
						default:
							return "scale"
					}
				},
				_setupCurrentTransform: function(e, n) {
					if (n) {
						var r = this.getPointer(e),
							i = n._findTargetCorner(this.getPointer(e, !0)),
							o = this._getActionFromCorner(n, i, e),
							a = this._getOriginFromCorner(n, i);
						this._currentTransform = {
							target: n,
							action: o,
							corner: i,
							scaleX: n.scaleX,
							scaleY: n.scaleY,
							skewX: n.skewX,
							skewY: n.skewY,
							offsetX: r.x - n.left,
							offsetY: r.y - n.top,
							originX: a.x,
							originY: a.y,
							ex: r.x,
							ey: r.y,
							lastX: r.x,
							lastY: r.y,
							left: n.left,
							top: n.top,
							theta: t(n.angle),
							width: n.width * n.scaleX,
							mouseXSign: 1,
							mouseYSign: 1,
							shiftKey: e.shiftKey,
							altKey: e[this.centeredKey]
						}, this._currentTransform.original = {
							left: n.left,
							top: n.top,
							scaleX: n.scaleX,
							scaleY: n.scaleY,
							skewX: n.skewX,
							skewY: n.skewY,
							originX: a.x,
							originY: a.y
						}, this._resetCurrentTransform()
					}
				},
				_translateObject: function(e, t) {
					var n = this._currentTransform,
						r = n.target,
						i = e - n.offsetX,
						o = t - n.offsetY,
						a = !r.get("lockMovementX") && r.left !== i,
						s = !r.get("lockMovementY") && r.top !== o;
					return a && r.set("left", i), s && r.set("top", o), a || s
				},
				_changeSkewTransformOrigin: function(e, t, n) {
					var r = "originX",
						i = {
							0: "center"
						},
						o = t.target.skewX,
						a = "left",
						s = "right",
						l = "mt" === t.corner || "ml" === t.corner ? 1 : -1,
						c = 1;
					e = e > 0 ? 1 : -1, "y" === n && (o = t.target.skewY, a = "top", s = "bottom", r = "originY"), i[-1] = a, i[1] =
						s, t.target.flipX && (c *= -1), t.target.flipY && (c *= -1), 0 === o ? (t.skewSign = -l * e * c, t[r] = i[-e]) :
						(o = o > 0 ? 1 : -1, t.skewSign = o, t[r] = i[o * l * c])
				},
				_skewObject: function(e, t, n) {
					var r, i = this._currentTransform,
						o = i.target,
						a = o.get("lockSkewingX"),
						s = o.get("lockSkewingY");
					if (a && "x" === n || s && "y" === n) return !1;
					var l, c, u = o.getCenterPoint(),
						h = o.toLocalPoint(new fabric.Point(e, t), "center", "center")[n],
						f = o.toLocalPoint(new fabric.Point(i.lastX, i.lastY), "center", "center")[n],
						d = o._getTransformedDimensions();
					return this._changeSkewTransformOrigin(h - f, i, n), l = o.toLocalPoint(new fabric.Point(e, t), i.originX, i.originY)[
							n], c = o.translateToOriginPoint(u, i.originX, i.originY), r = this._setObjectSkew(l, i, n, d), i.lastX = e,
						i.lastY = t, o.setPositionByOrigin(c, i.originX, i.originY), r
				},
				_setObjectSkew: function(e, t, n, r) {
					var i, o, a, s, l, c, u, h, f, d, p = t.target,
						g = t.skewSign;
					return "x" === n ? (l = "y", c = "Y", u = "X", f = 0, d = p.skewY) : (l = "x", c = "X", u = "Y", f = p.skewX, d =
						0), s = p._getTransformedDimensions(f, d), (h = 2 * Math.abs(e) - s[n]) <= 2 ? i = 0 : (i = g * Math.atan(h /
						p["scale" + u] / (s[l] / p["scale" + c])), i = fabric.util.radiansToDegrees(i)), o = p["skew" + u] !== i, p.set(
						"skew" + u, i), 0 !== p["skew" + c] && (a = p._getTransformedDimensions(), i = r[l] / a[l] * p["scale" + c],
						p.set("scale" + c, i)), o
				},
				_scaleObject: function(e, t, n) {
					var r = this._currentTransform,
						i = r.target,
						o = i.get("lockScalingX"),
						a = i.get("lockScalingY"),
						s = i.get("lockScalingFlip");
					if (o && a) return !1;
					var l, c = i.translateToOriginPoint(i.getCenterPoint(), r.originX, r.originY),
						u = i.toLocalPoint(new fabric.Point(e, t), r.originX, r.originY),
						h = i._getTransformedDimensions();
					return this._setLocalMouse(u, r), l = this._setObjectScale(u, r, o, a, n, s, h), i.setPositionByOrigin(c, r.originX,
						r.originY), l
				},
				_setObjectScale: function(e, t, n, r, i, o, a) {
					var s, l, c, u, h = t.target,
						f = !1,
						d = !1,
						p = !1;
					return c = e.x * h.scaleX / a.x, u = e.y * h.scaleY / a.y, s = h.scaleX !== c, l = h.scaleY !== u, o && 0 >= c &&
						c < h.scaleX && (f = !0, e.x = 0), o && 0 >= u && u < h.scaleY && (d = !0, e.y = 0), "equally" !== i || n || r ?
						i ? "x" !== i || h.get("lockUniScaling") ? "y" !== i || h.get("lockUniScaling") || d || r || h.set("scaleY", u) &&
						(p = p || l) : f || n || h.set("scaleX", c) && (p = p || s) : (f || n || h.set("scaleX", c) && (p = p || s), d ||
							r || h.set("scaleY", u) && (p = p || l)) : p = this._scaleObjectEqually(e, h, t, a), t.newScaleX = c, t.newScaleY =
						u, f || d || this._flipObject(t, i), p
				},
				_scaleObjectEqually: function(e, t, n, r) {
					var i, o = e.y + e.x,
						a = r.y * n.original.scaleY / t.scaleY + r.x * n.original.scaleX / t.scaleX,
						s = e.x < 0 ? -1 : 1,
						l = e.y < 0 ? -1 : 1;
					return n.newScaleX = s * Math.abs(n.original.scaleX * o / a), n.newScaleY = l * Math.abs(n.original.scaleY * o /
						a), i = n.newScaleX !== t.scaleX || n.newScaleY !== t.scaleY, t.set("scaleX", n.newScaleX), t.set("scaleY", n
						.newScaleY), i
				},
				_flipObject: function(e, t) {
					e.newScaleX < 0 && "y" !== t && ("left" === e.originX ? e.originX = "right" : "right" === e.originX && (e.originX =
						"left")), e.newScaleY < 0 && "x" !== t && ("top" === e.originY ? e.originY = "bottom" : "bottom" === e.originY &&
						(e.originY = "top"))
				},
				_setLocalMouse: function(e, t) {
					var n = t.target,
						r = this.getZoom(),
						o = n.padding / r;
					"right" === t.originX ? e.x *= -1 : "center" === t.originX && (e.x *= 2 * t.mouseXSign, e.x < 0 && (t.mouseXSign = -
							t.mouseXSign)), "bottom" === t.originY ? e.y *= -1 : "center" === t.originY && (e.y *= 2 * t.mouseYSign, e.y <
							0 && (t.mouseYSign = -t.mouseYSign)), i(e.x) > o ? e.x < 0 ? e.x += o : e.x -= o : e.x = 0, i(e.y) > o ? e.y <
						0 ? e.y += o : e.y -= o : e.y = 0
				},
				_rotateObject: function(e, t) {
					var i = this._currentTransform;
					if (i.target.get("lockRotation")) return !1;
					var o = r(i.ey - i.top, i.ex - i.left),
						a = r(t - i.top, e - i.left),
						s = n(a - o + i.theta),
						l = !0;
					if (0 < i.target.snapAngle) {
						var c = i.target.snapAngle,
							u = i.target.snapThreshold || c,
							h = Math.ceil(s / c) * c,
							f = Math.floor(s / c) * c;
						Math.abs(s - f) < u ? s = f : Math.abs(s - h) < u && (s = h)
					}
					return 0 > s && (s = 360 + s), s %= 360, i.target.angle === s ? l = !1 : i.target.angle = s, l
				},
				setCursor: function(e) {
					this.upperCanvasEl.style.cursor = e
				},
				_resetObjectTransform: function(e) {
					e.scaleX = 1, e.scaleY = 1, e.skewX = 0, e.skewY = 0, e.rotate(0)
				},
				_drawSelection: function(e) {
					var t = this._groupSelector,
						n = t.left,
						r = t.top,
						a = i(n),
						s = i(r);
					if (this.selectionColor && (e.fillStyle = this.selectionColor, e.fillRect(t.ex - (n > 0 ? 0 : -n), t.ey - (r >
							0 ? 0 : -r), a, s)), this.selectionLineWidth && this.selectionBorderColor)
						if (e.lineWidth = this.selectionLineWidth, e.strokeStyle = this.selectionBorderColor, 1 < this.selectionDashArray
							.length && !o) {
							var l = t.ex + .5 - (n > 0 ? 0 : a),
								c = t.ey + .5 - (r > 0 ? 0 : s);
							e.beginPath(), fabric.util.drawDashedLine(e, l, c, l + a, c, this.selectionDashArray), fabric.util.drawDashedLine(
									e, l, c + s - 1, l + a, c + s - 1, this.selectionDashArray), fabric.util.drawDashedLine(e, l, c, l, c + s,
									this.selectionDashArray), fabric.util.drawDashedLine(e, l + a - 1, c, l + a - 1, c + s, this.selectionDashArray),
								e.closePath(), e.stroke()
						} else fabric.Object.prototype._setLineDash.call(this, e, this.selectionDashArray), e.strokeRect(t.ex + .5 - (
							n > 0 ? 0 : a), t.ey + .5 - (r > 0 ? 0 : s), a, s)
				},
				findTarget: function(e, t) {
					if (!this.skipTargetFind) {
						var n, r, i = this.getPointer(e, !0),
							o = this._activeObject,
							a = this.getActiveObjects();
						if (this.targets = [], 1 < a.length && !t && o === this._searchPossibleTargets([o], i)) return o;
						if (1 === a.length && o._findTargetCorner(i)) return o;
						if (1 === a.length && o === this._searchPossibleTargets([o], i)) {
							if (!this.preserveObjectStacking) return o;
							n = o, r = this.targets, this.targets = []
						}
						var s = this._searchPossibleTargets(this._objects, i);
						return e[this.altSelectionKey] && s && n && s !== n && (s = n, this.targets = r), s
					}
				},
				_checkTarget: function(e, t) {
					if (t && t.visible && t.evented && this.containsPoint(null, t, e)) {
						if (!this.perPixelTargetFind && !t.perPixelTargetFind || t.isEditing) return !0;
						if (!this.isTargetTransparent(t, e.x, e.y)) return !0
					}
				},
				_searchPossibleTargets: function(e, t) {
					for (var n, r, i, o = e.length; o--;)
						if (this._checkTarget(t, e[o])) {
							(n = e[o]).subTargetCheck && n instanceof fabric.Group && (r = this._normalizePointer(n, t), (i = this._searchPossibleTargets(
								n._objects, r)) && this.targets.push(i));
							break
						} return n
				},
				restorePointerVpt: function(e) {
					return fabric.util.transformPoint(e, fabric.util.invertTransform(this.viewportTransform))
				},
				getPointer: function(t, n, r) {
					r || (r = this.upperCanvasEl);
					var i, o = e(t),
						a = r.getBoundingClientRect(),
						s = a.width || 0,
						l = a.height || 0;
					return s && l || ("top" in a && "bottom" in a && (l = Math.abs(a.top - a.bottom)), "right" in a && "left" in a &&
							(s = Math.abs(a.right - a.left))), this.calcOffset(), o.x = o.x - this._offset.left, o.y = o.y - this._offset
						.top, n || (o = this.restorePointerVpt(o)), i = 0 === s || 0 === l ? {
							width: 1,
							height: 1
						} : {
							width: r.width / s,
							height: r.height / l
						}, {
							x: o.x * i.width,
							y: o.y * i.height
						}
				},
				_createUpperCanvas: function() {
					var e = this.lowerCanvasEl.className.replace(/\s*lower-canvas\s*/, "");
					this.upperCanvasEl ? this.upperCanvasEl.className = "" : this.upperCanvasEl = this._createCanvasElement(),
						fabric.util.addClass(this.upperCanvasEl, "upper-canvas " + e), this.wrapperEl.appendChild(this.upperCanvasEl),
						this._copyCanvasStyle(this.lowerCanvasEl, this.upperCanvasEl), this._applyCanvasStyle(this.upperCanvasEl),
						this.contextTop = this.upperCanvasEl.getContext("2d")
				},
				_createCacheCanvas: function() {
					this.cacheCanvasEl = this._createCanvasElement(), this.cacheCanvasEl.setAttribute("width", this.width), this.cacheCanvasEl
						.setAttribute("height", this.height), this.contextCache = this.cacheCanvasEl.getContext("2d")
				},
				_initWrapperElement: function() {
					this.wrapperEl = fabric.util.wrapElement(this.lowerCanvasEl, "div", {
						"class": this.containerClass
					}), fabric.util.setStyle(this.wrapperEl, {
						width: this.width + "px",
						height: this.height + "px",
						position: "relative"
					}), fabric.util.makeElementUnselectable(this.wrapperEl)
				},
				_applyCanvasStyle: function(e) {
					var t = this.width || e.width,
						n = this.height || e.height;
					fabric.util.setStyle(e, {
						position: "absolute",
						width: t + "px",
						height: n + "px",
						left: 0,
						top: 0,
						"touch-action": "none"
					}), e.width = t, e.height = n, fabric.util.makeElementUnselectable(e)
				},
				_copyCanvasStyle: function(e, t) {
					t.style.cssText = e.style.cssText
				},
				getSelectionContext: function() {
					return this.contextTop
				},
				getSelectionElement: function() {
					return this.upperCanvasEl
				},
				getActiveObject: function() {
					return this._activeObject
				},
				getActiveObjects: function() {
					var e = this._activeObject;
					return e ? "activeSelection" === e.type && e._objects ? e._objects.slice(0) : [e] : []
				},
				_onObjectRemoved: function(e) {
					e === this._activeObject && (this.fire("before:selection:cleared", {
						target: e
					}), this._discardActiveObject(), this.fire("selection:cleared", {
						target: e
					}), e.fire("deselected")), this._hoveredTarget === e && (this._hoveredTarget = null), this.callSuper(
						"_onObjectRemoved", e)
				},
				_fireSelectionEvents: function(e, t) {
					var n = !1,
						r = this.getActiveObjects(),
						i = [],
						o = [],
						a = {
							e: t
						};
					e.forEach(function(e) {
						-1 === r.indexOf(e) && (n = !0, e.fire("deselected", a), o.push(e))
					}), r.forEach(function(t) {
						-1 === e.indexOf(t) && (n = !0, t.fire("selected", a), i.push(t))
					}), 0 < e.length && 0 < r.length ? (a.selected = i, a.deselected = o, a.updated = i[0] || o[0], a.target =
						this._activeObject, n && this.fire("selection:updated", a)) : 0 < r.length ? (1 === r.length && (a.target = i[
						0], this.fire("object:selected", a)), a.selected = i, a.target = this._activeObject, this.fire(
						"selection:created", a)) : 0 < e.length && (a.deselected = o, this.fire("selection:cleared", a))
				},
				setActiveObject: function(e, t) {
					var n = this.getActiveObjects();
					return this._setActiveObject(e, t), this._fireSelectionEvents(n, t), this
				},
				_setActiveObject: function(e, t) {
					return this._activeObject !== e && !!this._discardActiveObject(t, e) && !e.onSelect({
						e: t
					}) && (this._activeObject = e, !0)
				},
				_discardActiveObject: function(e, t) {
					var n = this._activeObject;
					if (n) {
						if (n.onDeselect({
								e: e,
								object: t
							})) return !1;
						this._activeObject = null
					}
					return !0
				},
				discardActiveObject: function(e) {
					var t = this.getActiveObjects();
					return t.length && this.fire("before:selection:cleared", {
						target: t[0],
						e: e
					}), this._discardActiveObject(e), this._fireSelectionEvents(t, e), this
				},
				dispose: function() {
					var e = this.wrapperEl;
					return this.removeListeners(), e.removeChild(this.upperCanvasEl), e.removeChild(this.lowerCanvasEl), delete this
						.upperCanvasEl, e.parentNode && e.parentNode.replaceChild(this.lowerCanvasEl, this.wrapperEl), delete this.wrapperEl,
						fabric.StaticCanvas.prototype.dispose.call(this), this
				},
				clear: function() {
					return this.discardActiveObject(), this.clearContext(this.contextTop), this.callSuper("clear")
				},
				drawControls: function(e) {
					var t = this._activeObject;
					t && t._renderControls(e)
				},
				_toObject: function(e, t, n) {
					var r = this._realizeGroupTransformOnObject(e),
						i = this.callSuper("_toObject", e, t, n);
					return this._unwindGroupTransformOnObject(e, r), i
				},
				_realizeGroupTransformOnObject: function(e) {
					if (e.group && "activeSelection" === e.group.type && this._activeObject === e.group) {
						var t = {};
						return ["angle", "flipX", "flipY", "left", "scaleX", "scaleY", "skewX", "skewY", "top"].forEach(function(n) {
							t[n] = e[n]
						}), this._activeObject.realizeTransform(e), t
					}
					return null
				},
				_unwindGroupTransformOnObject: function(e, t) {
					t && e.set(t)
				},
				_setSVGObject: function(e, t, n) {
					var r = this._realizeGroupTransformOnObject(t);
					this.callSuper("_setSVGObject", e, t, n), this._unwindGroupTransformOnObject(t, r)
				}
			}), fabric.StaticCanvas) "prototype" !== a && (fabric.Canvas[a] = fabric.StaticCanvas[a]);
		fabric.isTouchSupported && (fabric.Canvas.prototype._setCursorFromEvent = function() {})
	}(),
	function() {
		function e(e, t) {
			return "which" in e ? e.which === t : e.button === t - 1
		}
		var t = {
				mt: 0,
				tr: 1,
				mr: 2,
				br: 3,
				mb: 4,
				bl: 5,
				ml: 6,
				tl: 7
			},
			n = fabric.util.addListener,
			r = fabric.util.removeListener,
			i = {
				passive: !1
			};
		fabric.util.object.extend(fabric.Canvas.prototype, {
			cursorMap: ["n-resize", "ne-resize", "e-resize", "se-resize", "s-resize", "sw-resize", "w-resize", "nw-resize"],
			_initEventListeners: function() {
				this.removeListeners(), this._bindEvents(), n(fabric.window, "resize", this._onResize), n(this.upperCanvasEl,
					"mousedown", this._onMouseDown), n(this.upperCanvasEl, "dblclick", this._onDoubleClick), n(this.upperCanvasEl,
					"mousemove", this._onMouseMove), n(this.upperCanvasEl, "mouseout", this._onMouseOut), n(this.upperCanvasEl,
					"mouseenter", this._onMouseEnter), n(this.upperCanvasEl, "wheel", this._onMouseWheel), n(this.upperCanvasEl,
					"contextmenu", this._onContextMenu), n(this.upperCanvasEl, "dragover", this._onDragOver), n(this.upperCanvasEl,
					"dragenter", this._onDragEnter), n(this.upperCanvasEl, "dragleave", this._onDragLeave), n(this.upperCanvasEl,
					"drop", this._onDrop), n(this.upperCanvasEl, "touchstart", this._onMouseDown, i), n(this.upperCanvasEl,
					"touchmove", this._onMouseMove, i), "undefined" != typeof eventjs && "add" in eventjs && (eventjs.add(this.upperCanvasEl,
					"gesture", this._onGesture), eventjs.add(this.upperCanvasEl, "drag", this._onDrag), eventjs.add(this.upperCanvasEl,
					"orientation", this._onOrientationChange), eventjs.add(this.upperCanvasEl, "shake", this._onShake), eventjs.add(
					this.upperCanvasEl, "longpress", this._onLongPress))
			},
			_bindEvents: function() {
				this.eventsBound || (this._onMouseDown = this._onMouseDown.bind(this), this._onMouseMove = this._onMouseMove.bind(
						this), this._onMouseUp = this._onMouseUp.bind(this), this._onResize = this._onResize.bind(this), this._onGesture =
					this._onGesture.bind(this), this._onDrag = this._onDrag.bind(this), this._onShake = this._onShake.bind(this),
					this._onLongPress = this._onLongPress.bind(this), this._onOrientationChange = this._onOrientationChange.bind(
						this), this._onMouseWheel = this._onMouseWheel.bind(this), this._onMouseOut = this._onMouseOut.bind(this),
					this._onMouseEnter = this._onMouseEnter.bind(this), this._onContextMenu = this._onContextMenu.bind(this), this
					._onDoubleClick = this._onDoubleClick.bind(this), this._onDragOver = this._onDragOver.bind(this), this._onDragEnter =
					this._simpleEventHandler.bind(this, "dragenter"), this._onDragLeave = this._simpleEventHandler.bind(this,
						"dragleave"), this._onDrop = this._simpleEventHandler.bind(this, "drop"), this.eventsBound = !0)
			},
			removeListeners: function() {
				r(fabric.window, "resize", this._onResize), r(this.upperCanvasEl, "mousedown", this._onMouseDown), r(this.upperCanvasEl,
						"mousemove", this._onMouseMove), r(this.upperCanvasEl, "mouseout", this._onMouseOut), r(this.upperCanvasEl,
						"mouseenter", this._onMouseEnter), r(this.upperCanvasEl, "wheel", this._onMouseWheel), r(this.upperCanvasEl,
						"contextmenu", this._onContextMenu), r(this.upperCanvasEl, "doubleclick", this._onDoubleClick), r(this.upperCanvasEl,
						"touchstart", this._onMouseDown), r(this.upperCanvasEl, "touchmove", this._onMouseMove), r(this.upperCanvasEl,
						"dragover", this._onDragOver), r(this.upperCanvasEl, "dragenter", this._onDragEnter), r(this.upperCanvasEl,
						"dragleave", this._onDragLeave), r(this.upperCanvasEl, "drop", this._onDrop), "undefined" != typeof eventjs &&
					"remove" in eventjs && (eventjs.remove(this.upperCanvasEl, "gesture", this._onGesture), eventjs.remove(this.upperCanvasEl,
						"drag", this._onDrag), eventjs.remove(this.upperCanvasEl, "orientation", this._onOrientationChange), eventjs.remove(
						this.upperCanvasEl, "shake", this._onShake), eventjs.remove(this.upperCanvasEl, "longpress", this._onLongPress))
			},
			_onGesture: function(e, t) {
				this.__onTransformGesture && this.__onTransformGesture(e, t)
			},
			_onDrag: function(e, t) {
				this.__onDrag && this.__onDrag(e, t)
			},
			_onMouseWheel: function(e) {
				this.__onMouseWheel(e)
			},
			_onMouseOut: function(e) {
				var t = this._hoveredTarget;
				this.fire("mouse:out", {
					target: t,
					e: e
				}), this._hoveredTarget = null, t && t.fire("mouseout", {
					e: e
				}), this._iTextInstances && this._iTextInstances.forEach(function(e) {
					e.isEditing && e.hiddenTextarea.focus()
				})
			},
			_onMouseEnter: function(e) {
				this.findTarget(e) || (this.fire("mouse:over", {
					target: null,
					e: e
				}), this._hoveredTarget = null)
			},
			_onOrientationChange: function(e, t) {
				this.__onOrientationChange && this.__onOrientationChange(e, t)
			},
			_onShake: function(e, t) {
				this.__onShake && this.__onShake(e, t)
			},
			_onLongPress: function(e, t) {
				this.__onLongPress && this.__onLongPress(e, t)
			},
			_onDragOver: function(e) {
				e.preventDefault();
				var t = this._simpleEventHandler("dragover", e);
				this._fireEnterLeaveEvents(t, e)
			},
			_onContextMenu: function(e) {
				return this.stopContextMenu && (e.stopPropagation(), e.preventDefault()), !1
			},
			_onDoubleClick: function(e) {
				this._handleEvent(e, "dblclick")
			},
			_onMouseDown: function(e) {
				this.__onMouseDown(e), n(fabric.document, "touchend", this._onMouseUp, i), n(fabric.document, "touchmove", this._onMouseMove,
					i), r(this.upperCanvasEl, "mousemove", this._onMouseMove), r(this.upperCanvasEl, "touchmove", this._onMouseMove,
					i), "touchstart" === e.type ? r(this.upperCanvasEl, "mousedown", this._onMouseDown) : (n(fabric.document,
					"mouseup", this._onMouseUp), n(fabric.document, "mousemove", this._onMouseMove))
			},
			_onMouseUp: function(e) {
				if (this.__onMouseUp(e), r(fabric.document, "mouseup", this._onMouseUp), r(fabric.document, "touchend", this._onMouseUp,
						i), r(fabric.document, "mousemove", this._onMouseMove), r(fabric.document, "touchmove", this._onMouseMove, i),
					n(this.upperCanvasEl, "mousemove", this._onMouseMove), n(this.upperCanvasEl, "touchmove", this._onMouseMove, i),
					"touchend" === e.type) {
					var t = this;
					setTimeout(function() {
						n(t.upperCanvasEl, "mousedown", t._onMouseDown)
					}, 400)
				}
			},
			_onMouseMove: function(e) {
				!this.allowTouchScrolling && e.preventDefault && e.preventDefault(), this.__onMouseMove(e)
			},
			_onResize: function() {
				this.calcOffset()
			},
			_shouldRender: function(e, t) {
				var n = this._activeObject;
				return !(n && n.isEditing && e === n || !(e && (e.isMoving || e !== n) || !e && n || !e && !n && !this._groupSelector ||
					t && this._previousPointer && this.selection && (t.x !== this._previousPointer.x || t.y !== this._previousPointer
						.y)))
			},
			__onMouseUp: function(t) {
				var n, r = !0,
					i = this._currentTransform,
					o = this._groupSelector,
					a = !o || 0 === o.left && 0 === o.top;
				if (e(t, 3)) this.fireRightClick && this._handleEvent(t, "up", n, 3, a);
				else if (e(t, 2)) this.fireMiddleClick && this._handleEvent(t, "up", n, 2, a);
				else if (this.isDrawingMode && this._isCurrentlyDrawing) this._onMouseUpInDrawingMode(t);
				else {
					i && (this._finalizeCurrentTransform(t), r = !i.actionPerformed), n = r ? this.findTarget(t, !0) : i.target;
					var s = this._shouldRender(n, this.getPointer(t));
					n || !a ? this._maybeGroupObjects(t) : (this._groupSelector = null, this._currentTransform = null), n && (n.isMoving = !
							1), this._setCursorFromEvent(t, n), this._handleEvent(t, "up", n || null, 1, a), n && (n.__corner = 0), s &&
						this.requestRenderAll()
				}
			},
			_simpleEventHandler: function(e, t) {
				var n = this.findTarget(t),
					r = this.targets,
					i = {
						e: t,
						target: n,
						subTargets: r
					};
				if (this.fire(e, i), n && n.fire(e, i), !r) return n;
				for (var o = 0; o < r.length; o++) r[o].fire(e, i);
				return n
			},
			_handleEvent: function(e, t, n, r, i) {
				var o = void 0 === n ? this.findTarget(e) : n,
					a = this.targets || [],
					s = {
						e: e,
						target: o,
						subTargets: a,
						button: r || 1,
						isClick: i || !1
					};
				this.fire("mouse:" + t, s), o && o.fire("mouse" + t, s);
				for (var l = 0; l < a.length; l++) a[l].fire("mouse" + t, s)
			},
			_finalizeCurrentTransform: function(e) {
				var t = this._currentTransform,
					n = t.target;
				n._scaling && (n._scaling = !1), n.setCoords(), this._restoreOriginXY(n), (t.actionPerformed || this.stateful &&
					n.hasStateChanged()) && (this.fire("object:modified", {
					target: n,
					e: e
				}), n.fire("modified", {
					e: e
				}))
			},
			_restoreOriginXY: function(e) {
				if (this._previousOriginX && this._previousOriginY) {
					var t = e.translateToOriginPoint(e.getCenterPoint(), this._previousOriginX, this._previousOriginY);
					e.originX = this._previousOriginX, e.originY = this._previousOriginY, e.left = t.x, e.top = t.y, this._previousOriginX =
						null, this._previousOriginY = null
				}
			},
			_onMouseDownInDrawingMode: function(e) {
				this._isCurrentlyDrawing = !0, this.getActiveObject() && this.discardActiveObject(e).requestRenderAll(), this.clipTo &&
					fabric.util.clipContext(this, this.contextTop);
				var t = this.getPointer(e);
				this.freeDrawingBrush.onMouseDown(t), this._handleEvent(e, "down")
			},
			_onMouseMoveInDrawingMode: function(e) {
				if (this._isCurrentlyDrawing) {
					var t = this.getPointer(e);
					this.freeDrawingBrush.onMouseMove(t)
				}
				this.setCursor(this.freeDrawingCursor), this._handleEvent(e, "move")
			},
			_onMouseUpInDrawingMode: function(e) {
				this._isCurrentlyDrawing = !1, this.clipTo && this.contextTop.restore(), this.freeDrawingBrush.onMouseUp(), this
					._handleEvent(e, "up")
			},
			__onMouseDown: function(t) {
				var n = this.findTarget(t) || null;
				if (e(t, 3)) this.fireRightClick && this._handleEvent(t, "down", n, 3);
				else if (e(t, 2)) this.fireMiddleClick && this._handleEvent(t, "down", n, 2);
				else if (this.isDrawingMode) this._onMouseDownInDrawingMode(t);
				else if (!this._currentTransform) {
					var r = this.getPointer(t, !0);
					this._previousPointer = r;
					var i = this._shouldRender(n, r),
						o = this._shouldGroup(t, n);
					this._shouldClearSelection(t, n) ? this.discardActiveObject(t) : o && (this._handleGrouping(t, n), n = this._activeObject),
						!this.selection || n && (n.selectable || n.isEditing || n === this._activeObject) || (this._groupSelector = {
							ex: r.x,
							ey: r.y,
							top: 0,
							left: 0
						}), n && (n.selectable && this.setActiveObject(n, t), n !== this._activeObject || !n.__corner && o || (this._beforeTransform(
							t, n), this._setupCurrentTransform(t, n))), this._handleEvent(t, "down", n), i && this.requestRenderAll()
				}
			},
			_beforeTransform: function(e, t) {
				this.stateful && t.saveState(), t._findTargetCorner(this.getPointer(e, !0)) && this.onBeforeScaleRotate(t)
			},
			_setOriginToCenter: function(e) {
				this._previousOriginX = this._currentTransform.target.originX, this._previousOriginY = this._currentTransform.target
					.originY;
				var t = e.getCenterPoint();
				e.originX = "center", e.originY = "center", e.left = t.x, e.top = t.y, this._currentTransform.left = e.left,
					this._currentTransform.top = e.top
			},
			_setCenterToOrigin: function(e) {
				var t = e.translateToOriginPoint(e.getCenterPoint(), this._previousOriginX, this._previousOriginY);
				e.originX = this._previousOriginX, e.originY = this._previousOriginY, e.left = t.x, e.top = t.y, this._previousOriginX =
					null, this._previousOriginY = null
			},
			__onMouseMove: function(e) {
				var t, n;
				if (this.isDrawingMode) this._onMouseMoveInDrawingMode(e);
				else if (!(void 0 !== e.touches && 1 < e.touches.length)) {
					var r = this._groupSelector;
					r ? (n = this.getPointer(e, !0), r.left = n.x - r.ex, r.top = n.y - r.ey, this.renderTop()) : this._currentTransform ?
						this._transformObject(e) : (t = this.findTarget(e) || null, this._setCursorFromEvent(e, t), this._fireOverOutEvents(
							t, e)), this._handleEvent(e, "move", this._currentTransform ? null : t)
				}
			},
			_fireOverOutEvents: function(e, t) {
				this.fireSynteticInOutEvents(e, t, {
					targetName: "_hoveredTarget",
					canvasEvtOut: "mouse:out",
					evtOut: "mouseout",
					canvasEvtIn: "mouse:over",
					evtIn: "mouseover"
				})
			},
			_fireEnterLeaveEvents: function(e, t) {
				this.fireSynteticInOutEvents(e, t, {
					targetName: "_draggedoverTarget",
					evtOut: "dragleave",
					evtIn: "dragenter"
				})
			},
			fireSynteticInOutEvents: function(e, t, n) {
				var r, i, o, a = this[n.targetName],
					s = a !== e,
					l = n.canvasEvtIn,
					c = n.canvasEvtOut;
				s && (r = {
					e: t,
					target: e,
					previousTarget: a
				}, i = {
					e: t,
					target: a,
					nextTarget: e
				}, this[n.targetName] = e), o = e && s, a && s && (c && this.fire(c, i), a.fire(n.evtOut, i)), o && (l && this.fire(
					l, r), e.fire(n.evtIn, r))
			},
			__onMouseWheel: function(e) {
				this._handleEvent(e, "wheel")
			},
			_transformObject: function(e) {
				var t = this.getPointer(e),
					n = this._currentTransform;
				n.reset = !1, n.target.isMoving = !0, n.shiftKey = e.shiftKey, n.altKey = e[this.centeredKey], this._beforeScaleTransform(
					e, n), this._performTransformAction(e, n, t), n.actionPerformed && this.requestRenderAll()
			},
			_performTransformAction: function(e, t, n) {
				var r = n.x,
					i = n.y,
					o = t.target,
					a = t.action,
					s = !1;
				"rotate" === a ? (s = this._rotateObject(r, i)) && this._fire("rotating", o, e) : "scale" === a ? (s = this._onScale(
						e, t, r, i)) && this._fire("scaling", o, e) : "scaleX" === a ? (s = this._scaleObject(r, i, "x")) && this._fire(
						"scaling", o, e) : "scaleY" === a ? (s = this._scaleObject(r, i, "y")) && this._fire("scaling", o, e) :
					"skewX" === a ? (s = this._skewObject(r, i, "x")) && this._fire("skewing", o, e) : "skewY" === a ? (s = this._skewObject(
						r, i, "y")) && this._fire("skewing", o, e) : (s = this._translateObject(r, i)) && (this._fire("moving", o, e),
						this.setCursor(o.moveCursor || this.moveCursor)), t.actionPerformed = t.actionPerformed || s
			},
			_fire: function(e, t, n) {
				this.fire("object:" + e, {
					target: t,
					e: n
				}), t.fire(e, {
					e: n
				})
			},
			_beforeScaleTransform: function(e, t) {
				if ("scale" === t.action || "scaleX" === t.action || "scaleY" === t.action) {
					var n = this._shouldCenterTransform(t.target);
					(n && ("center" !== t.originX || "center" !== t.originY) || !n && "center" === t.originX && "center" === t.originY) &&
					(this._resetCurrentTransform(), t.reset = !0)
				}
			},
			_onScale: function(e, t, n, r) {
				return this._isUniscalePossible(e, t.target) ? (t.currentAction = "scale", this._scaleObject(n, r)) : (t.reset ||
					"scale" !== t.currentAction || this._resetCurrentTransform(), t.currentAction = "scaleEqually", this._scaleObject(
						n, r, "equally"))
			},
			_isUniscalePossible: function(e, t) {
				return (e[this.uniScaleKey] || this.uniScaleTransform) && !t.get("lockUniScaling")
			},
			_setCursorFromEvent: function(e, t) {
				if (!t) return this.setCursor(this.defaultCursor), !1;
				var n = t.hoverCursor || this.hoverCursor,
					r = this._activeObject && "activeSelection" === this._activeObject.type ? this._activeObject : null,
					i = (!r || !r.contains(t)) && t._findTargetCorner(this.getPointer(e, !0));
				i ? this.setCursor(this.getCornerCursor(i, t, e)) : this.setCursor(n)
			},
			getCornerCursor: function(e, n, r) {
				return this.actionIsDisabled(e, n, r) ? this.notAllowedCursor : e in t ? this._getRotatedCornerCursor(e, n, r) :
					"mtr" === e && n.hasRotatingPoint ? this.rotationCursor : this.defaultCursor
			},
			actionIsDisabled: function(e, t, n) {
				return "mt" === e || "mb" === e ? n[this.altActionKey] ? t.lockSkewingX : t.lockScalingY : "ml" === e || "mr" ===
					e ? n[this.altActionKey] ? t.lockSkewingY : t.lockScalingX : "mtr" === e ? t.lockRotation : this._isUniscalePossible(
						n, t) ? t.lockScalingX && t.lockScalingY : t.lockScalingX || t.lockScalingY
			},
			_getRotatedCornerCursor: function(e, n, r) {
				var i = Math.round(n.angle % 360 / 45);
				return 0 > i && (i += 8), i += t[e], r[this.altActionKey] && t[e] % 2 == 0 && (i += 2), i %= 8, this.cursorMap[i]
			}
		})
	}(),
	function() {
		var e = Math.min,
			t = Math.max;
		fabric.util.object.extend(fabric.Canvas.prototype, {
			_shouldGroup: function(e, t) {
				var n = this._activeObject;
				return n && this._isSelectionKeyPressed(e) && t && t.selectable && this.selection && (n !== t ||
					"activeSelection" === n.type)
			},
			_handleGrouping: function(e, t) {
				var n = this._activeObject;
				n.__corner || (t !== n || (t = this.findTarget(e, !0))) && (n && "activeSelection" === n.type ? this._updateActiveSelection(
					t, e) : this._createActiveSelection(t, e))
			},
			_updateActiveSelection: function(e, t) {
				var n = this._activeObject,
					r = n._objects.slice(0);
				n.contains(e) ? (n.removeWithUpdate(e), this._hoveredTarget = e, 1 === n.size() && this._setActiveObject(n.item(
					0), t)) : (n.addWithUpdate(e), this._hoveredTarget = n), this._fireSelectionEvents(r, t)
			},
			_createActiveSelection: function(e, t) {
				var n = this.getActiveObjects(),
					r = this._createGroup(e);
				this._hoveredTarget = r, this._setActiveObject(r, t), this._fireSelectionEvents(n, t)
			},
			_createGroup: function(e) {
				var t = this.getObjects(),
					n = t.indexOf(this._activeObject) < t.indexOf(e) ? [this._activeObject, e] : [e, this._activeObject];
				return this._activeObject.isEditing && this._activeObject.exitEditing(), new fabric.ActiveSelection(n, {
					canvas: this
				})
			},
			_groupSelectedObjects: function(e) {
				var t, n = this._collectObjects();
				1 === n.length ? this.setActiveObject(n[0], e) : 1 < n.length && (t = new fabric.ActiveSelection(n.reverse(), {
					canvas: this
				}), this.setActiveObject(t, e))
			},
			_collectObjects: function() {
				for (var n, r = [], i = this._groupSelector.ex, o = this._groupSelector.ey, a = i + this._groupSelector.left, s =
						o + this._groupSelector.top, l = new fabric.Point(e(i, a), e(o, s)), c = new fabric.Point(t(i, a), t(o, s)), u = !
						this.selectionFullyContained, h = i === a && o === s, f = this._objects.length; f-- && !((n = this._objects[f]) &&
						n.selectable && n.visible && (u && n.intersectsWithRect(l, c) || n.isContainedWithinRect(l, c) || u && n.containsPoint(
							l) || u && n.containsPoint(c)) && (r.push(n), h)););
				return r
			},
			_maybeGroupObjects: function(e) {
				this.selection && this._groupSelector && this._groupSelectedObjects(e), this.setCursor(this.defaultCursor), this
					._groupSelector = null, this._currentTransform = null
			}
		})
	}(),
	function() {
		var e = fabric.StaticCanvas.supports("toDataURLWithQuality");
		fabric.util.object.extend(fabric.StaticCanvas.prototype, {
			toDataURL: function(e) {
				e || (e = {});
				var t = e.format || "png",
					n = e.quality || 1,
					r = (e.multiplier || 1) * (e.enableRetinaScaling ? 1 : 1 / this.getRetinaScaling()),
					i = {
						left: e.left || 0,
						top: e.top || 0,
						width: e.width || 0,
						height: e.height || 0
					};
				return this.__toDataURLWithMultiplier(t, n, i, r)
			},
			__toDataURLWithMultiplier: function(e, t, n, r) {
				var i = this.width,
					o = this.height,
					a = (n.width || this.width) * r,
					s = (n.height || this.height) * r,
					l = this.getZoom() * r,
					c = this.viewportTransform,
					u = [l, 0, 0, l, (c[4] - n.left) * r, (c[5] - n.top) * r],
					h = this.interactive,
					f = this.skipOffscreen,
					d = i !== a || o !== s;
				this.viewportTransform = u, this.skipOffscreen = !1, this.interactive = !1, d && this.setDimensions({
					width: a,
					height: s
				}, {
					backstoreOnly: !0
				}), this.renderAll();
				var p = this.__toDataURL(e, t, n);
				return this.interactive = h, this.skipOffscreen = f, this.viewportTransform = c, d && this.setDimensions({
					width: i,
					height: o
				}, {
					backstoreOnly: !0
				}), this.renderAll(), p
			},
			__toDataURL: function(t, n) {
				var r = this.contextContainer.canvas;
				return "jpg" === t && (t = "jpeg"), e ? r.toDataURL("image/" + t, n) : r.toDataURL("image/" + t)
			}
		})
	}(), fabric.util.object.extend(fabric.StaticCanvas.prototype, {
		loadFromDatalessJSON: function(e, t, n) {
			return this.loadFromJSON(e, t, n)
		},
		loadFromJSON: function(e, t, n) {
			if (e) {
				var r = "string" == typeof e ? JSON.parse(e) : fabric.util.object.clone(e),
					i = this,
					o = this.renderOnAddRemove;
				return this.renderOnAddRemove = !1, this._enlivenObjects(r.objects, function(e) {
					i.clear(), i._setBgOverlay(r, function() {
						e.forEach(function(e, t) {
								i.insertAt(e, t)
							}), i.renderOnAddRemove = o, delete r.objects, delete r.backgroundImage, delete r.overlayImage, delete r.background,
							delete r.overlay, i._setOptions(r), i.renderAll(), t && t()
					})
				}, n), this
			}
		},
		_setBgOverlay: function(e, t) {
			var n = {
				backgroundColor: !1,
				overlayColor: !1,
				backgroundImage: !1,
				overlayImage: !1
			};
			if (e.backgroundImage || e.overlayImage || e.background || e.overlay) {
				var r = function() {
					n.backgroundImage && n.overlayImage && n.backgroundColor && n.overlayColor && t && t()
				};
				this.__setBgOverlay("backgroundImage", e.backgroundImage, n, r), this.__setBgOverlay("overlayImage", e.overlayImage,
					n, r), this.__setBgOverlay("backgroundColor", e.background, n, r), this.__setBgOverlay("overlayColor", e.overlay,
					n, r)
			} else t && t()
		},
		__setBgOverlay: function(e, t, n, r) {
			var i = this;
			return t ? void("backgroundImage" === e || "overlayImage" === e ? fabric.util.enlivenObjects([t], function(t) {
				i[e] = t[0], n[e] = !0, r && r()
			}) : this["set" + fabric.util.string.capitalize(e, !0)](t, function() {
				n[e] = !0, r && r()
			})) : (n[e] = !0, void(r && r()))
		},
		_enlivenObjects: function(e, t, n) {
			e && 0 !== e.length ? fabric.util.enlivenObjects(e, function(e) {
				t && t(e)
			}, null, n) : t && t([])
		},
		_toDataURL: function(e, t) {
			this.clone(function(n) {
				t(n.toDataURL(e))
			})
		},
		_toDataURLWithMultiplier: function(e, t, n) {
			this.clone(function(r) {
				n(r.toDataURLWithMultiplier(e, t))
			})
		},
		clone: function(e, t) {
			var n = JSON.stringify(this.toJSON(t));
			this.cloneWithoutData(function(t) {
				t.loadFromJSON(n, function() {
					e && e(t)
				})
			})
		},
		cloneWithoutData: function(e) {
			var t = fabric.document.createElement("canvas");
			t.width = this.width, t.height = this.height;
			var n = new fabric.Canvas(t);
			n.clipTo = this.clipTo, this.backgroundImage ? (n.setBackgroundImage(this.backgroundImage.src, function() {
					n.renderAll(), e && e(n)
				}), n.backgroundImageOpacity = this.backgroundImageOpacity, n.backgroundImageStretch = this.backgroundImageStretch) :
				e && e(n)
		}
	}),
	function(e) {
		"use strict";
		var t = e.fabric || (e.fabric = {}),
			n = t.util.object.extend,
			r = t.util.object.clone,
			i = t.util.toFixed,
			o = t.util.string.capitalize,
			a = t.util.degreesToRadians,
			s = t.StaticCanvas.supports("setLineDash"),
			l = !t.isLikelyNode;
		t.Object || (t.Object = t.util.createClass(t.CommonMethods, {
				type: "object",
				originX: "left",
				originY: "top",
				top: 0,
				left: 0,
				width: 0,
				height: 0,
				scaleX: 1,
				scaleY: 1,
				flipX: !1,
				flipY: !1,
				opacity: 1,
				angle: 0,
				skewX: 0,
				skewY: 0,
				cornerSize: 13,
				transparentCorners: !0,
				hoverCursor: null,
				moveCursor: null,
				padding: 0,
				borderColor: "rgba(102,153,255,0.75)",
				borderDashArray: null,
				cornerColor: "rgba(102,153,255,0.5)",
				cornerStrokeColor: null,
				cornerStyle: "rect",
				cornerDashArray: null,
				centeredScaling: !1,
				centeredRotation: !0,
				fill: "rgb(0,0,0)",
				fillRule: "nonzero",
				globalCompositeOperation: "source-over",
				backgroundColor: "",
				selectionBackgroundColor: "",
				stroke: null,
				strokeWidth: 1,
				strokeDashArray: null,
				strokeLineCap: "butt",
				strokeLineJoin: "miter",
				strokeMiterLimit: 10,
				shadow: null,
				borderOpacityWhenMoving: .4,
				borderScaleFactor: 1,
				transformMatrix: null,
				minScaleLimit: 0,
				selectable: !0,
				evented: !0,
				visible: !0,
				hasControls: !0,
				hasBorders: !0,
				hasRotatingPoint: !0,
				rotatingPointOffset: 40,
				perPixelTargetFind: !1,
				includeDefaultValues: !0,
				clipTo: null,
				lockMovementX: !1,
				lockMovementY: !1,
				lockRotation: !1,
				lockScalingX: !1,
				lockScalingY: !1,
				lockUniScaling: !1,
				lockSkewingX: !1,
				lockSkewingY: !1,
				lockScalingFlip: !1,
				excludeFromExport: !1,
				objectCaching: l,
				statefullCache: !1,
				noScaleCache: !0,
				dirty: !0,
				__corner: 0,
				paintFirst: "fill",
				stateProperties: "top left width height scaleX scaleY flipX flipY originX originY transformMatrix stroke strokeWidth strokeDashArray strokeLineCap strokeLineJoin strokeMiterLimit angle opacity fill globalCompositeOperation shadow clipTo visible backgroundColor skewX skewY fillRule paintFirst"
					.split(" "),
				cacheProperties: "fill stroke strokeWidth strokeDashArray width height paintFirst strokeLineCap strokeLineJoin strokeMiterLimit backgroundColor"
					.split(" "),
				initialize: function(e) {
					e && this.setOptions(e)
				},
				_createCacheCanvas: function() {
					this._cacheProperties = {}, this._cacheCanvas = t.document.createElement("canvas"), this._cacheContext = this._cacheCanvas
						.getContext("2d"), this._updateCacheCanvas()
				},
				_limitCacheSize: function(e) {
					var n = t.perfLimitSizeTotal,
						r = e.width,
						i = e.height,
						o = t.maxCacheSideLimit,
						a = t.minCacheSideLimit;
					if (o >= r && o >= i && n >= r * i) return a > r && (e.width = a), a > i && (e.height = a), e;
					var s = r / i,
						l = t.util.limitDimsByArea(s, n),
						c = t.util.capValue,
						u = c(a, l.x, o),
						h = c(a, l.y, o);
					return r > u && (e.zoomX /= r / u, e.width = u, e.capped = !0), i > h && (e.zoomY /= i / h, e.height = h, e.capped = !
						0), e
				},
				_getCacheCanvasDimensions: function() {
					var e = this.canvas && this.canvas.getZoom() || 1,
						n = this.getObjectScaling(),
						r = this.canvas && this.canvas._isRetinaScaling() ? t.devicePixelRatio : 1,
						i = this._getNonTransformedDimensions(),
						o = n.scaleX * e * r,
						a = n.scaleY * e * r;
					return {
						width: i.x * o + 2,
						height: i.y * a + 2,
						zoomX: o,
						zoomY: a,
						x: i.x,
						y: i.y
					}
				},
				_updateCacheCanvas: function() {
					if (this.noScaleCache && this.canvas && this.canvas._currentTransform) {
						var e = this.canvas._currentTransform.target,
							n = this.canvas._currentTransform.action;
						if (this === e && n.slice && "scale" === n.slice(0, 5)) return !1
					}
					var r, i, o = this._cacheCanvas,
						a = this._limitCacheSize(this._getCacheCanvasDimensions()),
						s = t.minCacheSideLimit,
						l = a.width,
						c = a.height,
						u = a.zoomX,
						h = a.zoomY,
						f = l !== this.cacheWidth || c !== this.cacheHeight,
						d = this.zoomX !== u || this.zoomY !== h,
						p = f || d,
						g = 0,
						m = 0,
						v = !1;
					if (f) {
						var y = this._cacheCanvas.width,
							b = this._cacheCanvas.height,
							x = l > y || c > b;
						v = x || (.9 * y > l || .9 * b > c) && y > s && b > s, x && !a.capped && (l > s || c > s) && (g = .1 * l, m =
							.1 * c)
					}
					return !!p && (v ? (o.width = Math.ceil(l + g), o.height = Math.ceil(c + m)) : (this._cacheContext.setTransform(
							1, 0, 0, 1, 0, 0), this._cacheContext.clearRect(0, 0, o.width, o.height)), r = a.x * u / 2, i = a.y * h / 2,
						this.cacheTranslationX = Math.round(o.width / 2 - r) + r, this.cacheTranslationY = Math.round(o.height / 2 -
							i) + i, this.cacheWidth = l, this.cacheHeight = c, this._cacheContext.translate(this.cacheTranslationX, this
							.cacheTranslationY), this._cacheContext.scale(u, h), this.zoomX = u, this.zoomY = h, !0)
				},
				setOptions: function(e) {
					this._setOptions(e), this._initGradient(e.fill, "fill"), this._initGradient(e.stroke, "stroke"), this._initClipping(
						e), this._initPattern(e.fill, "fill"), this._initPattern(e.stroke, "stroke")
				},
				transform: function(e) {
					var t;
					t = this.group && !this.group._transformDone ? this.calcTransformMatrix() : this.calcOwnMatrix(), e.transform(t[
						0], t[1], t[2], t[3], t[4], t[5])
				},
				toObject: function(e) {
					var n = t.Object.NUM_FRACTION_DIGITS,
						r = {
							type: this.type,
							version: t.version,
							originX: this.originX,
							originY: this.originY,
							left: i(this.left, n),
							top: i(this.top, n),
							width: i(this.width, n),
							height: i(this.height, n),
							fill: this.fill && this.fill.toObject ? this.fill.toObject() : this.fill,
							stroke: this.stroke && this.stroke.toObject ? this.stroke.toObject() : this.stroke,
							strokeWidth: i(this.strokeWidth, n),
							strokeDashArray: this.strokeDashArray ? this.strokeDashArray.concat() : this.strokeDashArray,
							strokeLineCap: this.strokeLineCap,
							strokeLineJoin: this.strokeLineJoin,
							strokeMiterLimit: i(this.strokeMiterLimit, n),
							scaleX: i(this.scaleX, n),
							scaleY: i(this.scaleY, n),
							angle: i(this.angle, n),
							flipX: this.flipX,
							flipY: this.flipY,
							opacity: i(this.opacity, n),
							shadow: this.shadow && this.shadow.toObject ? this.shadow.toObject() : this.shadow,
							visible: this.visible,
							clipTo: this.clipTo && String(this.clipTo),
							backgroundColor: this.backgroundColor,
							fillRule: this.fillRule,
							paintFirst: this.paintFirst,
							globalCompositeOperation: this.globalCompositeOperation,
							transformMatrix: this.transformMatrix ? this.transformMatrix.concat() : null,
							skewX: i(this.skewX, n),
							skewY: i(this.skewY, n)
						};
					return t.util.populateWithProperties(this, r, e), this.includeDefaultValues || (r = this._removeDefaultValues(r)),
						r
				},
				toDatalessObject: function(e) {
					return this.toObject(e)
				},
				_removeDefaultValues: function(e) {
					var n = t.util.getKlass(e.type).prototype;
					return n.stateProperties.forEach(function(t) {
						e[t] === n[t] && delete e[t], "[object Array]" === Object.prototype.toString.call(e[t]) && "[object Array]" ===
							Object.prototype.toString.call(n[t]) && 0 === e[t].length && 0 === n[t].length && delete e[t]
					}), e
				},
				toString: function() {
					return "#<fabric." + o(this.type) + ">"
				},
				getObjectScaling: function() {
					var e = this.scaleX,
						t = this.scaleY;
					if (this.group) {
						var n = this.group.getObjectScaling();
						e *= n.scaleX, t *= n.scaleY
					}
					return {
						scaleX: e,
						scaleY: t
					}
				},
				getObjectOpacity: function() {
					var e = this.opacity;
					return this.group && (e *= this.group.getObjectOpacity()), e
				},
				_set: function(e, n) {
					var r = "scaleX" === e || "scaleY" === e,
						i = this[e] !== n,
						o = !1;
					return r && (n = this._constrainScale(n)), "scaleX" === e && 0 > n ? (this.flipX = !this.flipX, n *= -1) :
						"scaleY" === e && 0 > n ? (this.flipY = !this.flipY, n *= -1) : "shadow" !== e || !n || n instanceof t.Shadow ?
						"dirty" === e && this.group && this.group.set("dirty", n) : n = new t.Shadow(n), this[e] = n, i && (o = this.group &&
							this.group.isOnACache(), -1 < this.cacheProperties.indexOf(e) ? (this.dirty = !0, o && this.group.set("dirty",
								!0)) : o && -1 < this.stateProperties.indexOf(e) && this.group.set("dirty", !0)), this
				},
				setOnGroup: function() {},
				getViewportTransform: function() {
					return this.canvas && this.canvas.viewportTransform ? this.canvas.viewportTransform : t.iMatrix.concat()
				},
				isNotVisible: function() {
					return 0 === this.opacity || 0 === this.width && 0 === this.height || !this.visible
				},
				render: function(e) {
					this.isNotVisible() || this.canvas && this.canvas.skipOffscreen && !this.group && !this.isOnScreen() || (e.save(),
						this._setupCompositeOperation(e), this.drawSelectionBackground(e), this.transform(e), this._setOpacity(e),
						this._setShadow(e, this), this.transformMatrix && e.transform.apply(e, this.transformMatrix), this.clipTo &&
						t.util.clipContext(this, e), this.shouldCache() ? (this._cacheCanvas || this._createCacheCanvas(), this.isCacheDirty() &&
							(this.statefullCache && this.saveState({
								propertySet: "cacheProperties"
							}), this.drawObject(this._cacheContext), this.dirty = !1), this.drawCacheOnCanvas(e)) : (this._removeCacheCanvas(),
							this.dirty = !1, this.drawObject(e), this.objectCaching && this.statefullCache && this.saveState({
								propertySet: "cacheProperties"
							})), this.clipTo && e.restore(), e.restore())
				},
				_removeCacheCanvas: function() {
					this._cacheCanvas = null, this.cacheWidth = 0, this.cacheHeight = 0
				},
				needsItsOwnCache: function() {
					return "stroke" === this.paintFirst && "object" == typeof this.shadow
				},
				shouldCache: function() {
					return this.ownCaching = this.objectCaching && (!this.group || this.needsItsOwnCache() || !this.group.isOnACache()),
						this.ownCaching
				},
				willDrawShadow: function() {
					return !!this.shadow && (0 !== this.shadow.offsetX || 0 !== this.shadow.offsetY)
				},
				drawObject: function(e) {
					this._renderBackground(e), this._setStrokeStyles(e, this), this._setFillStyles(e, this), this._render(e)
				},
				drawCacheOnCanvas: function(e) {
					e.scale(1 / this.zoomX, 1 / this.zoomY), e.drawImage(this._cacheCanvas, -this.cacheTranslationX, -this.cacheTranslationY)
				},
				isCacheDirty: function(e) {
					if (this.isNotVisible()) return !1;
					if (this._cacheCanvas && !e && this._updateCacheCanvas()) return !0;
					if (this.dirty || this.statefullCache && this.hasStateChanged("cacheProperties")) {
						if (this._cacheCanvas && !e) {
							var t = this.cacheWidth / this.zoomX,
								n = this.cacheHeight / this.zoomY;
							this._cacheContext.clearRect(-t / 2, -n / 2, t, n)
						}
						return !0
					}
					return !1
				},
				_renderBackground: function(e) {
					if (this.backgroundColor) {
						var t = this._getNonTransformedDimensions();
						e.fillStyle = this.backgroundColor, e.fillRect(-t.x / 2, -t.y / 2, t.x, t.y), this._removeShadow(e)
					}
				},
				_setOpacity: function(e) {
					this.group && !this.group._transformDone ? e.globalAlpha = this.getObjectOpacity() : e.globalAlpha *= this.opacity
				},
				_setStrokeStyles: function(e, t) {
					t.stroke && (e.lineWidth = t.strokeWidth, e.lineCap = t.strokeLineCap, e.lineJoin = t.strokeLineJoin, e.miterLimit =
						t.strokeMiterLimit, e.strokeStyle = t.stroke.toLive ? t.stroke.toLive(e, this) : t.stroke)
				},
				_setFillStyles: function(e, t) {
					t.fill && (e.fillStyle = t.fill.toLive ? t.fill.toLive(e, this) : t.fill)
				},
				_setLineDash: function(e, t, n) {
					t && (1 & t.length && t.push.apply(t, t), s ? e.setLineDash(t) : n && n(e))
				},
				_renderControls: function(e, n) {
					var r, i, o, s = this.getViewportTransform(),
						l = this.calcTransformMatrix();
					i = void 0 !== (n = n || {}).hasBorders ? n.hasBorders : this.hasBorders, o = void 0 !== n.hasControls ? n.hasControls :
						this.hasControls, l = t.util.multiplyTransformMatrices(s, l), r = t.util.qrDecompose(l), e.save(), e.translate(
							r.translateX, r.translateY),
						e.lineWidth = 1 * this.borderScaleFactor, this.group || (e.globalAlpha = this.isMoving ? this.borderOpacityWhenMoving :
							1), n.forActiveSelection ? (e.rotate(a(r.angle)), i && this.drawBordersInGroup(e, r, n)) : (e.rotate(a(this.angle)),
							i && this.drawBorders(e, n)), o && this.drawControls(e, n), e.restore()
				},
				_setShadow: function(e) {
					if (this.shadow) {
						var n = this.canvas && this.canvas.viewportTransform[0] || 1,
							r = this.canvas && this.canvas.viewportTransform[3] || 1,
							i = this.getObjectScaling();
						this.canvas && this.canvas._isRetinaScaling() && (n *= t.devicePixelRatio, r *= t.devicePixelRatio), e.shadowColor =
							this.shadow.color, e.shadowBlur = this.shadow.blur * t.browserShadowBlurConstant * (n + r) * (i.scaleX + i.scaleY) /
							4, e.shadowOffsetX = this.shadow.offsetX * n * i.scaleX, e.shadowOffsetY = this.shadow.offsetY * r * i.scaleY
					}
				},
				_removeShadow: function(e) {
					this.shadow && (e.shadowColor = "", e.shadowBlur = e.shadowOffsetX = e.shadowOffsetY = 0)
				},
				_applyPatternGradientTransform: function(e, t) {
					if (!t || !t.toLive) return {
						offsetX: 0,
						offsetY: 0
					};
					var n = t.gradientTransform || t.patternTransform,
						r = -this.width / 2 + t.offsetX || 0,
						i = -this.height / 2 + t.offsetY || 0;
					return e.translate(r, i), n && e.transform(n[0], n[1], n[2], n[3], n[4], n[5]), {
						offsetX: r,
						offsetY: i
					}
				},
				_renderPaintInOrder: function(e) {
					"stroke" === this.paintFirst ? (this._renderStroke(e), this._renderFill(e)) : (this._renderFill(e), this._renderStroke(
						e))
				},
				_renderFill: function(e) {
					this.fill && (e.save(), this._applyPatternGradientTransform(e, this.fill), "evenodd" === this.fillRule ? e.fill(
						"evenodd") : e.fill(), e.restore())
				},
				_renderStroke: function(e) {
					this.stroke && 0 !== this.strokeWidth && (this.shadow && !this.shadow.affectStroke && this._removeShadow(e), e.save(),
						this._setLineDash(e, this.strokeDashArray, this._renderDashedStroke), this._applyPatternGradientTransform(e,
							this.stroke), e.stroke(), e.restore())
				},
				_findCenterFromElement: function() {
					return {
						x: this.left + this.width / 2,
						y: this.top + this.height / 2
					}
				},
				_assignTransformMatrixProps: function() {
					if (this.transformMatrix) {
						var e = t.util.qrDecompose(this.transformMatrix);
						this.flipX = !1, this.flipY = !1, this.set("scaleX", e.scaleX), this.set("scaleY", e.scaleY), this.angle = e.angle,
							this.skewX = e.skewX, this.skewY = 0
					}
				},
				_removeTransformMatrix: function(e) {
					var n = this._findCenterFromElement();
					this.transformMatrix && (this._assignTransformMatrixProps(), n = t.util.transformPoint(n, this.transformMatrix)),
						this.transformMatrix = null, e && (this.scaleX *= e.scaleX, this.scaleY *= e.scaleY, this.cropX = e.cropX,
							this.cropY = e.cropY, n.x += e.offsetLeft, n.y += e.offsetTop, this.width = e.width, this.height = e.height),
						this.setPositionByOrigin(n, "center", "center")
				},
				clone: function(e, n) {
					var r = this.toObject(n);
					this.constructor.fromObject ? this.constructor.fromObject(r, e) : t.Object._fromObject("Object", r, e)
				},
				cloneAsImage: function(e, n) {
					var r = this.toDataURL(n);
					return t.util.loadImage(r, function(n) {
						e && e(new t.Image(n))
					}), this
				},
				toDataURL: function(e) {
					e || (e = {});
					var n = t.util.createCanvasElement(),
						r = this.getBoundingRect();
					n.width = r.width, n.height = r.height, t.util.wrapElement(n, "div");
					var i = new t.StaticCanvas(n, {
						enableRetinaScaling: e.enableRetinaScaling,
						renderOnAddRemove: !1,
						skipOffscreen: !1
					});
					"jpg" === e.format && (e.format = "jpeg"), "jpeg" === e.format && (i.backgroundColor = "#fff");
					var o = {
						left: this.left,
						top: this.top
					};
					this.setPositionByOrigin(new t.Point(i.width / 2, i.height / 2), "center", "center");
					var a = this.canvas;
					i.add(this);
					var s = i.toDataURL(e);
					return this.set(o).setCoords(), this.canvas = a, i._objects = [], i.dispose(), i = null, s
				},
				isType: function(e) {
					return this.type === e
				},
				complexity: function() {
					return 1
				},
				toJSON: function(e) {
					return this.toObject(e)
				},
				setGradient: function(e, n) {
					n || (n = {});
					var r = {
						colorStops: []
					};
					return r.type = n.type || (n.r1 || n.r2 ? "radial" : "linear"), r.coords = {
							x1: n.x1,
							y1: n.y1,
							x2: n.x2,
							y2: n.y2
						}, (n.r1 || n.r2) && (r.coords.r1 = n.r1, r.coords.r2 = n.r2), r.gradientTransform = n.gradientTransform, t.Gradient
						.prototype.addColorStop.call(r, n.colorStops), this.set(e, t.Gradient.forObject(this, r))
				},
				setPatternFill: function(e) {
					return this.set("fill", new t.Pattern(e))
				},
				setShadow: function(e) {
					return this.set("shadow", e ? new t.Shadow(e) : null)
				},
				setColor: function(e) {
					return this.set("fill", e), this
				},
				rotate: function(e) {
					var t = ("center" !== this.originX || "center" !== this.originY) && this.centeredRotation;
					return t && this._setOriginToCenter(), this.set("angle", e), t && this._resetOrigin(), this
				},
				centerH: function() {
					return this.canvas && this.canvas.centerObjectH(this), this
				},
				viewportCenterH: function() {
					return this.canvas && this.canvas.viewportCenterObjectH(this), this
				},
				centerV: function() {
					return this.canvas && this.canvas.centerObjectV(this), this
				},
				viewportCenterV: function() {
					return this.canvas && this.canvas.viewportCenterObjectV(this), this
				},
				center: function() {
					return this.canvas && this.canvas.centerObject(this), this
				},
				viewportCenter: function() {
					return this.canvas && this.canvas.viewportCenterObject(this), this
				},
				getLocalPointer: function(e, n) {
					n = n || this.canvas.getPointer(e);
					var r = new t.Point(n.x, n.y),
						i = this._getLeftTopCoords();
					return this.angle && (r = t.util.rotatePoint(r, i, a(-this.angle))), {
						x: r.x - i.x,
						y: r.y - i.y
					}
				},
				_setupCompositeOperation: function(e) {
					this.globalCompositeOperation && (e.globalCompositeOperation = this.globalCompositeOperation)
				}
			}), t.util.createAccessors && t.util.createAccessors(t.Object), n(t.Object.prototype, t.Observable), t.Object.NUM_FRACTION_DIGITS =
			2, t.Object._fromObject = function(e, n, i, o) {
				var a = t[e];
				n = r(n, !0), t.util.enlivenPatterns([n.fill, n.stroke], function(e) {
					void 0 !== e[0] && (n.fill = e[0]), void 0 !== e[1] && (n.stroke = e[1]);
					var t = o ? new a(n[o], n) : new a(n);
					i && i(t)
				})
			}, t.Object.__uid = 0)
	}("undefined" != typeof exports ? exports : this),
	function() {
		var e = fabric.util.degreesToRadians,
			t = {
				left: -.5,
				center: 0,
				right: .5
			},
			n = {
				top: -.5,
				center: 0,
				bottom: .5
			};
		fabric.util.object.extend(fabric.Object.prototype, {
			translateToGivenOrigin: function(e, r, i, o, a) {
				var s, l, c, u = e.x,
					h = e.y;
				return "string" == typeof r ? r = t[r] : r -= .5, "string" == typeof o ? o = t[o] : o -= .5, "string" == typeof i ?
					i = n[i] : i -= .5, "string" == typeof a ? a = n[a] : a -= .5, l = a - i, ((s = o - r) || l) && (c = this._getTransformedDimensions(),
						u = e.x + s * c.x, h = e.y + l * c.y), new fabric.Point(u, h)
			},
			translateToCenterPoint: function(t, n, r) {
				var i = this.translateToGivenOrigin(t, n, r, "center", "center");
				return this.angle ? fabric.util.rotatePoint(i, t, e(this.angle)) : i
			},
			translateToOriginPoint: function(t, n, r) {
				var i = this.translateToGivenOrigin(t, "center", "center", n, r);
				return this.angle ? fabric.util.rotatePoint(i, t, e(this.angle)) : i
			},
			getCenterPoint: function() {
				var e = new fabric.Point(this.left, this.top);
				return this.translateToCenterPoint(e, this.originX, this.originY)
			},
			getPointByOrigin: function(e, t) {
				var n = this.getCenterPoint();
				return this.translateToOriginPoint(n, e, t)
			},
			toLocalPoint: function(t, n, r) {
				var i, o, a = this.getCenterPoint();
				return i = void 0 !== n && void 0 !== r ? this.translateToGivenOrigin(a, "center", "center", n, r) : new fabric.Point(
					this.left, this.top), o = new fabric.Point(t.x, t.y), this.angle && (o = fabric.util.rotatePoint(o, a, -e(this
					.angle))), o.subtractEquals(i)
			},
			setPositionByOrigin: function(e, t, n) {
				var r = this.translateToCenterPoint(e, t, n),
					i = this.translateToOriginPoint(r, this.originX, this.originY);
				this.set("left", i.x), this.set("top", i.y)
			},
			adjustPosition: function(n) {
				var r, i, o = e(this.angle),
					a = this.getScaledWidth(),
					s = fabric.util.cos(o) * a,
					l = fabric.util.sin(o) * a;
				r = "string" == typeof this.originX ? t[this.originX] : this.originX - .5, i = "string" == typeof n ? t[n] : n -
					.5, this.left += s * (i - r), this.top += l * (i - r), this.setCoords(), this.originX = n
			},
			_setOriginToCenter: function() {
				this._originalOriginX = this.originX, this._originalOriginY = this.originY;
				var e = this.getCenterPoint();
				this.originX = "center", this.originY = "center", this.left = e.x, this.top = e.y
			},
			_resetOrigin: function() {
				var e = this.translateToOriginPoint(this.getCenterPoint(), this._originalOriginX, this._originalOriginY);
				this.originX = this._originalOriginX, this.originY = this._originalOriginY, this.left = e.x, this.top = e.y,
					this._originalOriginX = null, this._originalOriginY = null
			},
			_getLeftTopCoords: function() {
				return this.translateToOriginPoint(this.getCenterPoint(), "left", "top")
			},
			onDeselect: function() {}
		})
	}(),
	function() {
		var e = fabric.util.degreesToRadians,
			t = fabric.util.multiplyTransformMatrices,
			n = fabric.util.transformPoint;
		fabric.util.object.extend(fabric.Object.prototype, {
			oCoords: null,
			aCoords: null,
			ownMatrixCache: null,
			matrixCache: null,
			getCoords: function(e, t) {
				this.oCoords || this.setCoords();
				var n, r = e ? this.aCoords : this.oCoords;
				return n = t ? this.calcCoords(e) : r, [new fabric.Point(n.tl.x, n.tl.y), new fabric.Point(n.tr.x, n.tr.y), new fabric
					.Point(n.br.x, n.br.y), new fabric.Point(n.bl.x, n.bl.y)
				]
			},
			intersectsWithRect: function(e, t, n, r) {
				var i = this.getCoords(n, r);
				return "Intersection" === fabric.Intersection.intersectPolygonRectangle(i, e, t).status
			},
			intersectsWithObject: function(e, t, n) {
				return "Intersection" === fabric.Intersection.intersectPolygonPolygon(this.getCoords(t, n), e.getCoords(t, n)).status ||
					e.isContainedWithinObject(this, t, n) || this.isContainedWithinObject(e, t, n)
			},
			isContainedWithinObject: function(e, t, n) {
				for (var r = this.getCoords(t, n), i = 0, o = e._getImageLines(n ? e.calcCoords(t) : t ? e.aCoords : e.oCoords); 4 >
					i; i++)
					if (!e.containsPoint(r[i], o)) return !1;
				return !0
			},
			isContainedWithinRect: function(e, t, n, r) {
				var i = this.getBoundingRect(n, r);
				return i.left >= e.x && i.left + i.width <= t.x && i.top >= e.y && i.top + i.height <= t.y
			},
			containsPoint: function(e, t, n, r) {
				t = t || this._getImageLines(r ? this.calcCoords(n) : n ? this.aCoords : this.oCoords);
				var i = this._findCrossPoints(e, t);
				return 0 !== i && i % 2 == 1
			},
			isOnScreen: function(e) {
				if (!this.canvas) return !1;
				for (var t, n = this.canvas.vptCoords.tl, r = this.canvas.vptCoords.br, i = this.getCoords(!0, e), o = 0; 4 > o; o++)
					if ((t = i[o]).x <= r.x && t.x >= n.x && t.y <= r.y && t.y >= n.y) return !0;
				if (this.intersectsWithRect(n, r, !0, e)) return !0;
				var a = {
					x: (n.x + r.x) / 2,
					y: (n.y + r.y) / 2
				};
				return !!this.containsPoint(a, null, !0, e)
			},
			_getImageLines: function(e) {
				return {
					topline: {
						o: e.tl,
						d: e.tr
					},
					rightline: {
						o: e.tr,
						d: e.br
					},
					bottomline: {
						o: e.br,
						d: e.bl
					},
					leftline: {
						o: e.bl,
						d: e.tl
					}
				}
			},
			_findCrossPoints: function(e, t) {
				var n, r, i, o = 0;
				for (var a in t)
					if (!((i = t[a]).o.y < e.y && i.d.y < e.y || i.o.y >= e.y && i.d.y >= e.y || (i.o.x === i.d.x && i.o.x >= e.x ?
							r = i.o.x : (n = (i.d.y - i.o.y) / (i.d.x - i.o.x), r = -(e.y - 0 * e.x - (i.o.y - n * i.o.x)) / (0 - n)), r >=
							e.x && (o += 1), 2 !== o))) break;
				return o
			},
			getBoundingRect: function(e, t) {
				var n = this.getCoords(e, t);
				return fabric.util.makeBoundingBoxFromPoints(n)
			},
			getScaledWidth: function() {
				return this._getTransformedDimensions().x
			},
			getScaledHeight: function() {
				return this._getTransformedDimensions().y
			},
			_constrainScale: function(e) {
				return Math.abs(e) < this.minScaleLimit ? 0 > e ? -this.minScaleLimit : this.minScaleLimit : 0 === e ? 1e-4 : e
			},
			scale: function(e) {
				return this._set("scaleX", e), this._set("scaleY", e), this.setCoords()
			},
			scaleToWidth: function(e, t) {
				var n = this.getBoundingRect(t).width / this.getScaledWidth();
				return this.scale(e / this.width / n)
			},
			scaleToHeight: function(e, t) {
				var n = this.getBoundingRect(t).height / this.getScaledHeight();
				return this.scale(e / this.height / n)
			},
			calcCoords: function(r) {
				var i = this._calcRotateMatrix(),
					o = this._calcTranslateMatrix(),
					a = t(o, i),
					s = this.getViewportTransform(),
					l = r ? a : t(s, a),
					c = this._getTransformedDimensions(),
					u = c.x / 2,
					h = c.y / 2,
					f = n({
						x: -u,
						y: -h
					}, l),
					d = n({
						x: u,
						y: -h
					}, l),
					p = n({
						x: -u,
						y: h
					}, l),
					g = n({
						x: u,
						y: h
					}, l);
				if (!r) {
					var m = this.padding,
						v = e(this.angle),
						y = fabric.util.cos(v),
						b = fabric.util.sin(v),
						x = y * m,
						w = b * m,
						S = x + w,
						_ = x - w;
					m && (f.x -= _, f.y -= S, d.x += S, d.y -= _, p.x -= S, p.y += _, g.x += _, g.y += S);
					var T = new fabric.Point((f.x + p.x) / 2, (f.y + p.y) / 2),
						C = new fabric.Point((d.x + f.x) / 2, (d.y + f.y) / 2),
						E = new fabric.Point((g.x + d.x) / 2, (g.y + d.y) / 2),
						O = new fabric.Point((g.x + p.x) / 2, (g.y + p.y) / 2),
						k = new fabric.Point(C.x + b * this.rotatingPointOffset, C.y - y * this.rotatingPointOffset)
				}
				var R = {
					tl: f,
					tr: d,
					br: g,
					bl: p
				};
				return r || (R.ml = T, R.mt = C, R.mr = E, R.mb = O, R.mtr = k), R
			},
			setCoords: function(e, t) {
				return this.oCoords = this.calcCoords(e), t || (this.aCoords = this.calcCoords(!0)), e || this._setCornerCoords &&
					this._setCornerCoords(), this
			},
			_calcRotateMatrix: function() {
				if (this.angle) {
					var t = e(this.angle),
						n = fabric.util.cos(t),
						r = fabric.util.sin(t);
					return [n, r, -r, n, 0, 0]
				}
				return fabric.iMatrix.concat()
			},
			_calcTranslateMatrix: function() {
				var e = this.getCenterPoint();
				return [1, 0, 0, 1, e.x, e.y]
			},
			transformMatrixKey: function(e) {
				var t = "_",
					n = "";
				return !e && this.group && (n = this.group.transformMatrixKey(e) + t), n + this.top + t + this.left + t + this.scaleX +
					t + this.scaleY + t + this.skewX + t + this.skewY + t + this.angle + t + this.originX + t + this.originY + t +
					this.width + t + this.height + t + this.strokeWidth + this.flipX + this.flipY
			},
			calcTransformMatrix: function(e) {
				if (e) return this.calcOwnMatrix();
				var n = this.transformMatrixKey(),
					r = this.matrixCache || (this.matrixCache = {});
				if (r.key === n) return r.value;
				var i = this.calcOwnMatrix();
				return this.group && (i = t(this.group.calcTransformMatrix(), i)), r.key = n, r.value = i
			},
			calcOwnMatrix: function() {
				var e = this.transformMatrixKey(!0),
					n = this.ownMatrixCache || (this.ownMatrixCache = {});
				if (n.key === e) return n.value;
				var r, i = this._calcTranslateMatrix(),
					o = this._calcDimensionsTransformMatrix(this.skewX, this.skewY, !0);
				return this.angle && (r = this._calcRotateMatrix(), i = t(i, r)), i = t(i, o), n.key = e, n.value = i
			},
			_calcDimensionsTransformMatrix: function(n, r, i) {
				var o, a = [this.scaleX * (i && this.flipX ? -1 : 1), 0, 0, this.scaleY * (i && this.flipY ? -1 : 1), 0, 0];
				return n && (o = [1, 0, Math.tan(e(n)), 1], a = t(a, o, !0)), r && (o = [1, Math.tan(e(r)), 0, 1], a = t(a, o, !
					0)), a
			},
			_getNonTransformedDimensions: function() {
				var e = this.strokeWidth;
				return {
					x: this.width + e,
					y: this.height + e
				}
			},
			_getTransformedDimensions: function(e, t) {
				void 0 === e && (e = this.skewX), void 0 === t && (t = this.skewY);
				var n = this._getNonTransformedDimensions();
				if (0 === e && 0 === t) return {
					x: n.x * this.scaleX,
					y: n.y * this.scaleY
				};
				var r, i, o = n.x / 2,
					a = n.y / 2,
					s = [{
						x: -o,
						y: -a
					}, {
						x: o,
						y: -a
					}, {
						x: -o,
						y: a
					}, {
						x: o,
						y: a
					}],
					l = this._calcDimensionsTransformMatrix(e, t, !1);
				for (r = 0; r < s.length; r++) s[r] = fabric.util.transformPoint(s[r], l);
				return {
					x: (i = fabric.util.makeBoundingBoxFromPoints(s)).width,
					y: i.height
				}
			},
			_calculateCurrentDimensions: function() {
				var e = this.getViewportTransform(),
					t = this._getTransformedDimensions();
				return fabric.util.transformPoint(t, e, !0).scalarAdd(2 * this.padding)
			}
		})
	}(), fabric.util.object.extend(fabric.Object.prototype, {
		sendToBack: function() {
			return this.group ? fabric.StaticCanvas.prototype.sendToBack.call(this.group, this) : this.canvas.sendToBack(this),
				this
		},
		bringToFront: function() {
			return this.group ? fabric.StaticCanvas.prototype.bringToFront.call(this.group, this) : this.canvas.bringToFront(
				this), this
		},
		sendBackwards: function(e) {
			return this.group ? fabric.StaticCanvas.prototype.sendBackwards.call(this.group, this, e) : this.canvas.sendBackwards(
				this, e), this
		},
		bringForward: function(e) {
			return this.group ? fabric.StaticCanvas.prototype.bringForward.call(this.group, this, e) : this.canvas.bringForward(
				this, e), this
		},
		moveTo: function(e) {
			return this.group && "activeSelection" !== this.group.type ? fabric.StaticCanvas.prototype.moveTo.call(this.group,
				this, e) : this.canvas.moveTo(this, e), this
		}
	}),
	function() {
		function e(e, t) {
			if (t) {
				if (t.toLive) return e + ": url(#SVGID_" + t.id + "); ";
				var n = new fabric.Color(t),
					r = e + ": " + n.toRgb() + "; ",
					i = n.getAlpha();
				return 1 !== i && (r += e + "-opacity: " + i.toString() + "; "), r
			}
			return e + ": none; "
		}
		var t = fabric.util.toFixed;
		fabric.util.object.extend(fabric.Object.prototype, {
			getSvgStyles: function(t) {
				var n = this.fillRule,
					r = this.strokeWidth ? this.strokeWidth : "0",
					i = this.strokeDashArray ? this.strokeDashArray.join(" ") : "none",
					o = this.strokeLineCap ? this.strokeLineCap : "butt",
					a = this.strokeLineJoin ? this.strokeLineJoin : "miter",
					s = this.strokeMiterLimit ? this.strokeMiterLimit : "4",
					l = void 0 !== this.opacity ? this.opacity : "1",
					c = this.visible ? "" : " visibility: hidden;",
					u = t ? "" : this.getSvgFilter(),
					h = e("fill", this.fill);
				return [e("stroke", this.stroke), "stroke-width: ", r, "; ", "stroke-dasharray: ", i, "; ", "stroke-linecap: ",
					o, "; ", "stroke-linejoin: ", a, "; ", "stroke-miterlimit: ", s, "; ", h, "fill-rule: ", n, "; ", "opacity: ",
					l, ";", u, c
				].join("")
			},
			getSvgSpanStyles: function(t, n) {
				var r = "; ",
					i = t.strokeWidth ? "stroke-width: " + t.strokeWidth + r : "",
					o = t.fontFamily ? "font-family: " + t.fontFamily.replace(/"/g, "'") + r : "",
					a = t.fontSize ? "font-size: " + t.fontSize + "px" + r : "",
					s = t.fontStyle ? "font-style: " + t.fontStyle + r : "",
					l = t.fontWeight ? "font-weight: " + t.fontWeight + r : "",
					c = t.fill ? e("fill", t.fill) : "",
					u = t.stroke ? e("stroke", t.stroke) : "",
					h = this.getSvgTextDecoration(t);
				return h && (h = "text-decoration: " + h + r), [u, i, o, a, s, l, h, c, t.deltaY ? "baseline-shift: " + -t.deltaY +
					"; " : "", n ? "white-space: pre; " : ""
				].join("")
			},
			getSvgTextDecoration: function(e) {
				return "overline" in e || "underline" in e || "linethrough" in e ? (e.overline ? "overline " : "") + (e.underline ?
					"underline " : "") + (e.linethrough ? "line-through " : "") : ""
			},
			getSvgFilter: function() {
				return this.shadow ? "filter: url(#SVGID_" + this.shadow.id + ");" : ""
			},
			getSvgId: function() {
				return this.id ? 'id="' + this.id + '" ' : ""
			},
			getSvgTransform: function() {
				var e = this.angle,
					n = this.skewX % 360,
					r = this.skewY % 360,
					i = this.getCenterPoint(),
					o = fabric.Object.NUM_FRACTION_DIGITS,
					a = "translate(" + t(i.x, o) + " " + t(i.y, o) + ")",
					s = 0 !== e ? " rotate(" + t(e, o) + ")" : "",
					l = 1 === this.scaleX && 1 === this.scaleY ? "" : " scale(" + t(this.scaleX, o) + " " + t(this.scaleY, o) + ")",
					c = 0 !== n ? " skewX(" + t(n, o) + ")" : "",
					u = 0 !== r ? " skewY(" + t(r, o) + ")" : "";
				return [a, s, l, this.flipX ? " matrix(-1 0 0 1 0 0) " : "", this.flipY ? " matrix(1 0 0 -1 0 0)" : "", c, u].join(
					"")
			},
			getSvgTransformMatrix: function() {
				return this.transformMatrix ? " matrix(" + this.transformMatrix.join(" ") + ") " : ""
			},
			_setSVGBg: function(e) {
				if (this.backgroundColor) {
					var n = fabric.Object.NUM_FRACTION_DIGITS;
					e.push("		<rect ", this._getFillAttributes(this.backgroundColor), ' x="', t(-this.width / 2, n), '" y="', t(-
						this.height / 2, n), '" width="', t(this.width, n), '" height="', t(this.height, n), '"></rect>\n')
				}
			},
			_createBaseSVGMarkup: function() {
				var e = [];
				return this.fill && this.fill.toLive && e.push(this.fill.toSVG(this, !1)), this.stroke && this.stroke.toLive &&
					e.push(this.stroke.toSVG(this, !1)), this.shadow && e.push(this.shadow.toSVG(this)), e
			},
			addPaintOrder: function() {
				return "fill" !== this.paintFirst ? ' paint-order="' + this.paintFirst + '" ' : ""
			}
		})
	}(),
	function() {
		function e(e, n, r) {
			var i = {};
			r.forEach(function(t) {
				i[t] = e[t]
			}), t(e[n], i, !0)
		}
		var t = fabric.util.object.extend,
			n = "stateProperties";
		fabric.util.object.extend(fabric.Object.prototype, {
			hasStateChanged: function(e) {
				var t = "_" + (e = e || n);
				return Object.keys(this[t]).length < this[e].length || ! function r(e, t, n) {
					if (e === t) return !0;
					if (Array.isArray(e)) {
						if (e.length !== t.length) return !1;
						for (var i = 0, o = e.length; o > i; i++)
							if (!r(e[i], t[i])) return !1;
						return !0
					}
					if (e && "object" == typeof e) {
						var a, s = Object.keys(e);
						if (!n && s.length !== Object.keys(t).length) return !1;
						for (i = 0, o = s.length; o > i; i++)
							if (!r(e[a = s[i]], t[a])) return !1;
						return !0
					}
				}(this[t], this, !0)
			},
			saveState: function(t) {
				var r = t && t.propertySet || n,
					i = "_" + r;
				return this[i] ? (e(this, i, this[r]), t && t.stateProperties && e(this, i, t.stateProperties), this) : this.setupState(
					t)
			},
			setupState: function(e) {
				var t = (e = e || {}).propertySet || n;
				return this["_" + (e.propertySet = t)] = {}, this.saveState(e), this
			}
		})
	}(),
	function() {
		var e = fabric.util.degreesToRadians;
		fabric.util.object.extend(fabric.Object.prototype, {
			_controlsVisibility: null,
			_findTargetCorner: function(e) {
				if (!this.hasControls || this.group || !this.canvas || this.canvas._activeObject !== this) return !1;
				var t, n, r = e.x,
					i = e.y;
				for (var o in this.__corner = 0, this.oCoords)
					if (this.isControlVisible(o) && ("mtr" !== o || this.hasRotatingPoint) && (!this.get("lockUniScaling") || "mt" !==
							o && "mr" !== o && "mb" !== o && "ml" !== o) && (n = this._getImageLines(this.oCoords[o].corner), 0 !== (t =
							this._findCrossPoints({
								x: r,
								y: i
							}, n)) && t % 2 == 1)) return this.__corner = o;
				return !1
			},
			_setCornerCoords: function() {
				var t, n, r = this.oCoords,
					i = e(45 - this.angle),
					o = .707106 * this.cornerSize,
					a = o * fabric.util.cos(i),
					s = o * fabric.util.sin(i);
				for (var l in r) t = r[l].x, n = r[l].y, r[l].corner = {
					tl: {
						x: t - s,
						y: n - a
					},
					tr: {
						x: t + a,
						y: n - s
					},
					bl: {
						x: t - a,
						y: n + s
					},
					br: {
						x: t + s,
						y: n + a
					}
				}
			},
			drawSelectionBackground: function(t) {
				if (!this.selectionBackgroundColor || this.canvas && !this.canvas.interactive || this.canvas && this.canvas._activeObject !==
					this) return this;
				t.save();
				var n = this.getCenterPoint(),
					r = this._calculateCurrentDimensions(),
					i = this.canvas.viewportTransform;
				return t.translate(n.x, n.y), t.scale(1 / i[0], 1 / i[3]), t.rotate(e(this.angle)), t.fillStyle = this.selectionBackgroundColor,
					t.fillRect(-r.x / 2, -r.y / 2, r.x, r.y), t.restore(), this
			},
			drawBorders: function(e, t) {
				t = t || {};
				var n = this._calculateCurrentDimensions(),
					r = 1 / this.borderScaleFactor,
					i = n.x + r,
					o = n.y + r,
					a = void 0 !== t.hasRotatingPoint ? t.hasRotatingPoint : this.hasRotatingPoint,
					s = void 0 !== t.hasControls ? t.hasControls : this.hasControls,
					l = void 0 !== t.rotatingPointOffset ? t.rotatingPointOffset : this.rotatingPointOffset;
				if (e.save(), e.strokeStyle = t.borderColor || this.borderColor, this._setLineDash(e, t.borderDashArray || this.borderDashArray,
						null), e.strokeRect(-i / 2, -o / 2, i, o), a && this.isControlVisible("mtr") && s) {
					var c = -o / 2;
					e.beginPath(), e.moveTo(0, c), e.lineTo(0, c - l), e.stroke()
				}
				return e.restore(), this
			},
			drawBordersInGroup: function(e, t, n) {
				n = n || {};
				var r = this._getNonTransformedDimensions(),
					i = fabric.util.customTransformMatrix(t.scaleX, t.scaleY, t.skewX),
					o = fabric.util.transformPoint(r, i),
					a = 1 / this.borderScaleFactor,
					s = o.x + a,
					l = o.y + a;
				return e.save(), this._setLineDash(e, n.borderDashArray || this.borderDashArray, null), e.strokeStyle = n.borderColor ||
					this.borderColor, e.strokeRect(-s / 2, -l / 2, s, l), e.restore(), this
			},
			drawControls: function(e, t) {
				t = t || {};
				var n = this._calculateCurrentDimensions(),
					r = n.x,
					i = n.y,
					o = t.cornerSize || this.cornerSize,
					a = -(r + o) / 2,
					s = -(i + o) / 2,
					l = void 0 !== t.transparentCorners ? t.transparentCorners : this.transparentCorners,
					c = void 0 !== t.hasRotatingPoint ? t.hasRotatingPoint : this.hasRotatingPoint,
					u = l ? "stroke" : "fill";
				return e.save(), e.strokeStyle = e.fillStyle = t.cornerColor || this.cornerColor, this.transparentCorners || (e.strokeStyle =
					t.cornerStrokeColor || this.cornerStrokeColor), this._setLineDash(e, t.cornerDashArray || this.cornerDashArray,
					null), this._drawControl("tl", e, u, a, s, t), this._drawControl("tr", e, u, a + r, s, t), this._drawControl(
					"bl", e, u, a, s + i, t), this._drawControl("br", e, u, a + r, s + i, t), this.get("lockUniScaling") || (this._drawControl(
					"mt", e, u, a + r / 2, s, t), this._drawControl("mb", e, u, a + r / 2, s + i, t), this._drawControl("mr", e,
					u, a + r, s + i / 2, t), this._drawControl("ml", e, u, a, s + i / 2, t)), c && this._drawControl("mtr", e, u,
					a + r / 2, s - this.rotatingPointOffset, t), e.restore(), this
			},
			_drawControl: function(e, t, n, r, i, o) {
				if (o = o || {}, this.isControlVisible(e)) {
					var a = this.cornerSize,
						s = !this.transparentCorners && this.cornerStrokeColor;
					switch (o.cornerStyle || this.cornerStyle) {
						case "circle":
							t.beginPath(), t.arc(r + a / 2, i + a / 2, a / 2, 0, 2 * Math.PI, !1), t[n](), s && t.stroke();
							break;
						default:
							this.transparentCorners || t.clearRect(r, i, a, a), t[n + "Rect"](r, i, a, a), s && t.strokeRect(r, i, a, a)
					}
				}
			},
			isControlVisible: function(e) {
				return this._getControlsVisibility()[e]
			},
			setControlVisible: function(e, t) {
				return this._getControlsVisibility()[e] = t, this
			},
			setControlsVisibility: function(e) {
				for (var t in e || (e = {}), e) this.setControlVisible(t, e[t]);
				return this
			},
			_getControlsVisibility: function() {
				return this._controlsVisibility || (this._controlsVisibility = {
					tl: !0,
					tr: !0,
					br: !0,
					bl: !0,
					ml: !0,
					mt: !0,
					mr: !0,
					mb: !0,
					mtr: !0
				}), this._controlsVisibility
			},
			onDeselect: function() {},
			onSelect: function() {}
		})
	}(), fabric.util.object.extend(fabric.StaticCanvas.prototype, {
		FX_DURATION: 500,
		fxCenterObjectH: function(e, t) {
			var n = function() {},
				r = (t = t || {}).onComplete || n,
				i = t.onChange || n,
				o = this;
			return fabric.util.animate({
				startValue: e.left,
				endValue: this.getCenter().left,
				duration: this.FX_DURATION,
				onChange: function(t) {
					e.set("left", t), o.requestRenderAll(), i()
				},
				onComplete: function() {
					e.setCoords(), r()
				}
			}), this
		},
		fxCenterObjectV: function(e, t) {
			var n = function() {},
				r = (t = t || {}).onComplete || n,
				i = t.onChange || n,
				o = this;
			return fabric.util.animate({
				startValue: e.top,
				endValue: this.getCenter().top,
				duration: this.FX_DURATION,
				onChange: function(t) {
					e.set("top", t), o.requestRenderAll(), i()
				},
				onComplete: function() {
					e.setCoords(), r()
				}
			}), this
		},
		fxRemove: function(e, t) {
			var n = function() {},
				r = (t = t || {}).onComplete || n,
				i = t.onChange || n,
				o = this;
			return fabric.util.animate({
				startValue: e.opacity,
				endValue: 0,
				duration: this.FX_DURATION,
				onChange: function(t) {
					e.set("opacity", t), o.requestRenderAll(), i()
				},
				onComplete: function() {
					o.remove(e), r()
				}
			}), this
		}
	}), fabric.util.object.extend(fabric.Object.prototype, {
		animate: function() {
			if (arguments[0] && "object" == typeof arguments[0]) {
				var e, t, n = [];
				for (e in arguments[0]) n.push(e);
				for (var r = 0, i = n.length; i > r; r++) e = n[r], t = r !== i - 1, this._animate(e, arguments[0][e], arguments[
					1], t)
			} else this._animate.apply(this, arguments);
			return this
		},
		_animate: function(e, t, n, r) {
			var i, o = this;
			t = t.toString(), n = n ? fabric.util.object.clone(n) : {}, ~e.indexOf(".") && (i = e.split("."));
			var a = i ? this.get(i[0])[i[1]] : this.get(e);
			"from" in n || (n.from = a), t = ~t.indexOf("=") ? a + parseFloat(t.replace("=", "")) : parseFloat(t), fabric.util
				.animate({
					startValue: n.from,
					endValue: t,
					byValue: n.by,
					easing: n.easing,
					duration: n.duration,
					abort: n.abort && function() {
						return n.abort.call(o)
					},
					onChange: function(t, a, s) {
						i ? o[i[0]][i[1]] = t : o.set(e, t), r || n.onChange && n.onChange(t, a, s)
					},
					onComplete: function(e, t, i) {
						r || (o.setCoords(), n.onComplete && n.onComplete(e, t, i))
					}
				})
		}
	}),
	function(e) {
		"use strict";

		function t(e, t) {
			var n = e.origin,
				r = e.axis1,
				i = e.axis2,
				o = e.dimension,
				a = t.nearest,
				s = t.center,
				l = t.farthest;
			return function() {
				switch (this.get(n)) {
					case a:
						return Math.min(this.get(r), this.get(i));
					case s:
						return Math.min(this.get(r), this.get(i)) + .5 * this.get(o);
					case l:
						return Math.max(this.get(r), this.get(i))
				}
			}
		}
		var n = e.fabric || (e.fabric = {}),
			r = n.util.object.extend,
			i = n.util.object.clone,
			o = {
				x1: 1,
				x2: 1,
				y1: 1,
				y2: 1
			},
			a = n.StaticCanvas.supports("setLineDash");
		n.Line ? n.warn("fabric.Line is already defined") : (n.Line = n.util.createClass(n.Object, {
			type: "line",
			x1: 0,
			y1: 0,
			x2: 0,
			y2: 0,
			cacheProperties: n.Object.prototype.cacheProperties.concat("x1", "x2", "y1", "y2"),
			initialize: function(e, t) {
				e || (e = [0, 0, 0, 0]), this.callSuper("initialize", t), this.set("x1", e[0]), this.set("y1", e[1]), this.set(
					"x2", e[2]), this.set("y2", e[3]), this._setWidthHeight(t)
			},
			_setWidthHeight: function(e) {
				e || (e = {}), this.width = Math.abs(this.x2 - this.x1), this.height = Math.abs(this.y2 - this.y1), this.left =
					"left" in e ? e.left : this._getLeftToOriginX(), this.top = "top" in e ? e.top : this._getTopToOriginY()
			},
			_set: function(e, t) {
				return this.callSuper("_set", e, t), void 0 !== o[e] && this._setWidthHeight(), this
			},
			_getLeftToOriginX: t({
				origin: "originX",
				axis1: "x1",
				axis2: "x2",
				dimension: "width"
			}, {
				nearest: "left",
				center: "center",
				farthest: "right"
			}),
			_getTopToOriginY: t({
				origin: "originY",
				axis1: "y1",
				axis2: "y2",
				dimension: "height"
			}, {
				nearest: "top",
				center: "center",
				farthest: "bottom"
			}),
			_render: function(e) {
				if (e.beginPath(), !this.strokeDashArray || this.strokeDashArray && a) {
					var t = this.calcLinePoints();
					e.moveTo(t.x1, t.y1), e.lineTo(t.x2, t.y2)
				}
				e.lineWidth = this.strokeWidth;
				var n = e.strokeStyle;
				e.strokeStyle = this.stroke || e.fillStyle, this.stroke && this._renderStroke(e), e.strokeStyle = n
			},
			_renderDashedStroke: function(e) {
				var t = this.calcLinePoints();
				e.beginPath(), n.util.drawDashedLine(e, t.x1, t.y1, t.x2, t.y2, this.strokeDashArray), e.closePath()
			},
			_findCenterFromElement: function() {
				return {
					x: (this.x1 + this.x2) / 2,
					y: (this.y1 + this.y2) / 2
				}
			},
			toObject: function(e) {
				return r(this.callSuper("toObject", e), this.calcLinePoints())
			},
			_getNonTransformedDimensions: function() {
				var e = this.callSuper("_getNonTransformedDimensions");
				return "butt" === this.strokeLineCap && (0 === this.width && (e.y -= this.strokeWidth), 0 === this.height && (e
					.x -= this.strokeWidth)), e
			},
			calcLinePoints: function() {
				var e = this.x1 <= this.x2 ? -1 : 1,
					t = this.y1 <= this.y2 ? -1 : 1,
					n = e * this.width * .5,
					r = t * this.height * .5;
				return {
					x1: n,
					x2: e * this.width * -.5,
					y1: r,
					y2: t * this.height * -.5
				}
			},
			toSVG: function(e) {
				var t = this._createBaseSVGMarkup(),
					n = this.calcLinePoints();
				return t.push("<line ", this.getSvgId(), 'x1="', n.x1, '" y1="', n.y1, '" x2="', n.x2, '" y2="', n.y2,
					'" style="', this.getSvgStyles(), '" transform="', this.getSvgTransform(), this.getSvgTransformMatrix(),
					'"/>\n'), e ? e(t.join("")) : t.join("")
			}
		}), n.Line.ATTRIBUTE_NAMES = n.SHARED_ATTRIBUTES.concat("x1 y1 x2 y2".split(" ")), n.Line.fromElement = function(e,
			t, i) {
			i = i || {};
			var o = n.parseAttributes(e, n.Line.ATTRIBUTE_NAMES),
				a = [o.x1 || 0, o.y1 || 0, o.x2 || 0, o.y2 || 0];
			t(new n.Line(a, r(o, i)))
		}, n.Line.fromObject = function(e, t) {
			var r = i(e, !0);
			r.points = [e.x1, e.y1, e.x2, e.y2], n.Object._fromObject("Line", r, function(e) {
				delete e.points, t && t(e)
			}, "points")
		})
	}("undefined" != typeof exports ? exports : this),
	function(e) {
		"use strict";
		var t = e.fabric || (e.fabric = {}),
			n = Math.PI;
		t.Circle ? t.warn("fabric.Circle is already defined.") : (t.Circle = t.util.createClass(t.Object, {
			type: "circle",
			radius: 0,
			startAngle: 0,
			endAngle: 2 * n,
			cacheProperties: t.Object.prototype.cacheProperties.concat("radius"),
			_set: function(e, t) {
				return this.callSuper("_set", e, t), "radius" === e && this.setRadius(t), this
			},
			toObject: function(e) {
				return this.callSuper("toObject", ["radius", "startAngle", "endAngle"].concat(e))
			},
			toSVG: function(e) {
				var r = this._createBaseSVGMarkup(),
					i = (this.endAngle - this.startAngle) % (2 * n);
				if (0 === i) r.push("<circle ", this.getSvgId(), 'cx="0" cy="0" ', 'r="', this.radius, '" style="', this.getSvgStyles(),
					'" transform="', this.getSvgTransform(), " ", this.getSvgTransformMatrix(), '"', this.addPaintOrder(), "/>\n"
				);
				else {
					var o = t.util.cos(this.startAngle) * this.radius,
						a = t.util.sin(this.startAngle) * this.radius,
						s = t.util.cos(this.endAngle) * this.radius,
						l = t.util.sin(this.endAngle) * this.radius,
						c = i > n ? "1" : "0";
					r.push('<path d="M ' + o + " " + a, " A " + this.radius + " " + this.radius, " 0 ", +c + " 1", " " + s + " " +
						l, '" style="', this.getSvgStyles(), '" transform="', this.getSvgTransform(), " ", this.getSvgTransformMatrix(),
						'"', this.addPaintOrder(), '"/>\n')
				}
				return e ? e(r.join("")) : r.join("")
			},
			_render: function(e) {
				e.beginPath(), e.arc(0, 0, this.radius, this.startAngle, this.endAngle, !1), this._renderPaintInOrder(e)
			},
			getRadiusX: function() {
				return this.get("radius") * this.get("scaleX")
			},
			getRadiusY: function() {
				return this.get("radius") * this.get("scaleY")
			},
			setRadius: function(e) {
				return this.radius = e, this.set("width", 2 * e).set("height", 2 * e)
			}
		}), t.Circle.ATTRIBUTE_NAMES = t.SHARED_ATTRIBUTES.concat("cx cy r".split(" ")), t.Circle.fromElement = function(e,
			n) {
			var r, i = t.parseAttributes(e, t.Circle.ATTRIBUTE_NAMES);
			if (!("radius" in (r = i) && 0 <= r.radius)) throw new Error(
				"value of `r` attribute is required and can not be negative");
			i.left = (i.left || 0) - i.radius, i.top = (i.top || 0) - i.radius, n(new t.Circle(i))
		}, t.Circle.fromObject = function(e, n) {
			return t.Object._fromObject("Circle", e, n)
		})
	}("undefined" != typeof exports ? exports : this),
	function(e) {
		"use strict";
		var t = e.fabric || (e.fabric = {});
		t.Triangle ? t.warn("fabric.Triangle is already defined") : (t.Triangle = t.util.createClass(t.Object, {
			type: "triangle",
			width: 100,
			height: 100,
			_render: function(e) {
				var t = this.width / 2,
					n = this.height / 2;
				e.beginPath(), e.moveTo(-t, n), e.lineTo(0, -n), e.lineTo(t, n), e.closePath(), this._renderPaintInOrder(e)
			},
			_renderDashedStroke: function(e) {
				var n = this.width / 2,
					r = this.height / 2;
				e.beginPath(), t.util.drawDashedLine(e, -n, r, 0, -r, this.strokeDashArray), t.util.drawDashedLine(e, 0, -r, n,
					r, this.strokeDashArray), t.util.drawDashedLine(e, n, r, -n, r, this.strokeDashArray), e.closePath()
			},
			toSVG: function(e) {
				var t = this._createBaseSVGMarkup(),
					n = this.width / 2,
					r = this.height / 2,
					i = [-n + " " + r, "0 " + -r, n + " " + r].join(",");
				return t.push("<polygon ", this.getSvgId(), 'points="', i, '" style="', this.getSvgStyles(), '" transform="',
					this.getSvgTransform(), '"', this.addPaintOrder(), "/>"), e ? e(t.join("")) : t.join("")
			}
		}), t.Triangle.fromObject = function(e, n) {
			return t.Object._fromObject("Triangle", e, n)
		})
	}("undefined" != typeof exports ? exports : this),
	function(e) {
		"use strict";
		var t = e.fabric || (e.fabric = {}),
			n = 2 * Math.PI;
		t.Ellipse ? t.warn("fabric.Ellipse is already defined.") : (t.Ellipse = t.util.createClass(t.Object, {
				type: "ellipse",
				rx: 0,
				ry: 0,
				cacheProperties: t.Object.prototype.cacheProperties.concat("rx", "ry"),
				initialize: function(e) {
					this.callSuper("initialize", e), this.set("rx", e && e.rx || 0), this.set("ry", e && e.ry || 0)
				},
				_set: function(e, t) {
					switch (this.callSuper("_set", e, t), e) {
						case "rx":
							this.rx = t, this.set("width", 2 * t);
							break;
						case "ry":
							this.ry = t, this.set("height", 2 * t)
					}
					return this
				},
				getRx: function() {
					return this.get("rx") * this.get("scaleX")
				},
				getRy: function() {
					return this.get("ry") * this.get("scaleY")
				},
				toObject: function(e) {
					return this.callSuper("toObject", ["rx", "ry"].concat(e))
				},
				toSVG: function(e) {
					var t = this._createBaseSVGMarkup();
					return t.push("<ellipse ", this.getSvgId(), 'cx="0" cy="0" ', 'rx="', this.rx, '" ry="', this.ry, '" style="',
						this.getSvgStyles(), '" transform="', this.getSvgTransform(), this.getSvgTransformMatrix(), '"', this.addPaintOrder(),
						"/>\n"), e ? e(t.join("")) : t.join("")
				},
				_render: function(e) {
					e.beginPath(), e.save(), e.transform(1, 0, 0, this.ry / this.rx, 0, 0), e.arc(0, 0, this.rx, 0, n, !1), e.restore(),
						this._renderPaintInOrder(e)
				}
			}), t.Ellipse.ATTRIBUTE_NAMES = t.SHARED_ATTRIBUTES.concat("cx cy rx ry".split(" ")), t.Ellipse.fromElement =
			function(e, n) {
				var r = t.parseAttributes(e, t.Ellipse.ATTRIBUTE_NAMES);
				r.left = (r.left || 0) - r.rx, r.top = (r.top || 0) - r.ry, n(new t.Ellipse(r))
			}, t.Ellipse.fromObject = function(e, n) {
				return t.Object._fromObject("Ellipse", e, n)
			})
	}("undefined" != typeof exports ? exports : this),
	function(e) {
		"use strict";
		var t = e.fabric || (e.fabric = {}),
			n = t.util.object.extend;
		t.Rect ? t.warn("fabric.Rect is already defined") : (t.Rect = t.util.createClass(t.Object, {
				stateProperties: t.Object.prototype.stateProperties.concat("rx", "ry"),
				type: "rect",
				rx: 0,
				ry: 0,
				cacheProperties: t.Object.prototype.cacheProperties.concat("rx", "ry"),
				initialize: function(e) {
					this.callSuper("initialize", e), this._initRxRy()
				},
				_initRxRy: function() {
					this.rx && !this.ry ? this.ry = this.rx : this.ry && !this.rx && (this.rx = this.ry)
				},
				_render: function(e) {
					if (1 !== this.width || 1 !== this.height) {
						var t = this.rx ? Math.min(this.rx, this.width / 2) : 0,
							n = this.ry ? Math.min(this.ry, this.height / 2) : 0,
							r = this.width,
							i = this.height,
							o = -this.width / 2,
							a = -this.height / 2,
							s = 0 !== t || 0 !== n,
							l = .4477152502;
						e.beginPath(), e.moveTo(o + t, a), e.lineTo(o + r - t, a), s && e.bezierCurveTo(o + r - l * t, a, o + r, a + l *
							n, o + r, a + n), e.lineTo(o + r, a + i - n), s && e.bezierCurveTo(o + r, a + i - l * n, o + r - l * t, a +
							i, o + r - t, a + i), e.lineTo(o + t, a + i), s && e.bezierCurveTo(o + l * t, a + i, o, a + i - l * n, o, a +
							i - n), e.lineTo(o, a + n), s && e.bezierCurveTo(o, a + l * n, o + l * t, a, o + t, a), e.closePath(), this._renderPaintInOrder(
							e)
					} else e.fillRect(-.5, -.5, 1, 1)
				},
				_renderDashedStroke: function(e) {
					var n = -this.width / 2,
						r = -this.height / 2,
						i = this.width,
						o = this.height;
					e.beginPath(), t.util.drawDashedLine(e, n, r, n + i, r, this.strokeDashArray), t.util.drawDashedLine(e, n + i,
							r, n + i, r + o, this.strokeDashArray), t.util.drawDashedLine(e, n + i, r + o, n, r + o, this.strokeDashArray),
						t.util.drawDashedLine(e, n, r + o, n, r, this.strokeDashArray), e.closePath()
				},
				toObject: function(e) {
					return this.callSuper("toObject", ["rx", "ry"].concat(e))
				},
				toSVG: function(e) {
					var t = this._createBaseSVGMarkup(),
						n = -this.width / 2,
						r = -this.height / 2;
					return t.push("<rect ", this.getSvgId(), 'x="', n, '" y="', r, '" rx="', this.get("rx"), '" ry="', this.get(
								"ry"), '" width="', this.width, '" height="', this.height, '" style="', this.getSvgStyles(), '" transform="',
							this.getSvgTransform(), this.getSvgTransformMatrix(), '"', this.addPaintOrder(), "/>\n"), e ? e(t.join("")) :
						t.join("")
				}
			}), t.Rect.ATTRIBUTE_NAMES = t.SHARED_ATTRIBUTES.concat("x y rx ry width height".split(" ")), t.Rect.fromElement =
			function(e, r, i) {
				if (!e) return r(null);
				i = i || {};
				var o = t.parseAttributes(e, t.Rect.ATTRIBUTE_NAMES);
				o.left = o.left || 0, o.top = o.top || 0;
				var a = new t.Rect(n(i ? t.util.object.clone(i) : {}, o));
				a.visible = a.visible && 0 < a.width && 0 < a.height, r(a)
			}, t.Rect.fromObject = function(e, n) {
				return t.Object._fromObject("Rect", e, n)
			})
	}("undefined" != typeof exports ? exports : this),
	function(e) {
		"use strict";
		var t = e.fabric || (e.fabric = {}),
			n = t.util.object.extend,
			r = t.util.array.min,
			i = t.util.array.max,
			o = t.util.toFixed;
		t.Polyline ? t.warn("fabric.Polyline is already defined") : (t.Polyline = t.util.createClass(t.Object, {
			type: "polyline",
			points: null,
			cacheProperties: t.Object.prototype.cacheProperties.concat("points"),
			initialize: function(e, t) {
				t = t || {}, this.points = e || [], this.callSuper("initialize", t);
				var n = this._calcDimensions();
				void 0 === t.left && (this.left = n.left), void 0 === t.top && (this.top = n.top), this.width = n.width, this.height =
					n.height, this.pathOffset = {
						x: n.left + this.width / 2,
						y: n.top + this.height / 2
					}
			},
			_calcDimensions: function() {
				var e = this.points,
					t = r(e, "x") || 0,
					n = r(e, "y") || 0;
				return {
					left: t,
					top: n,
					width: (i(e, "x") || 0) - t,
					height: (i(e, "y") || 0) - n
				}
			},
			toObject: function(e) {
				return n(this.callSuper("toObject", e), {
					points: this.points.concat()
				})
			},
			toSVG: function(e) {
				for (var n = [], r = this.pathOffset.x, i = this.pathOffset.y, a = this._createBaseSVGMarkup(), s = t.Object.NUM_FRACTION_DIGITS,
						l = 0, c = this.points.length; c > l; l++) n.push(o(this.points[l].x - r, s), ",", o(this.points[l].y - i, s),
					" ");
				return a.push("<", this.type, " ", this.getSvgId(), 'points="', n.join(""), '" style="', this.getSvgStyles(),
					'" transform="', this.getSvgTransform(), " ", this.getSvgTransformMatrix(), '"', this.addPaintOrder(), "/>\n"
				), e ? e(a.join("")) : a.join("")
			},
			commonRender: function(e) {
				var t, n = this.points.length,
					r = this.pathOffset.x,
					i = this.pathOffset.y;
				if (!n || isNaN(this.points[n - 1].y)) return !1;
				e.beginPath(), e.moveTo(this.points[0].x - r, this.points[0].y - i);
				for (var o = 0; n > o; o++) t = this.points[o], e.lineTo(t.x - r, t.y - i);
				return !0
			},
			_render: function(e) {
				this.commonRender(e) && this._renderPaintInOrder(e)
			},
			_renderDashedStroke: function(e) {
				var n, r;
				e.beginPath();
				for (var i = 0, o = this.points.length; o > i; i++) n = this.points[i], r = this.points[i + 1] || n, t.util.drawDashedLine(
					e, n.x, n.y, r.x, r.y, this.strokeDashArray)
			},
			complexity: function() {
				return this.get("points").length
			}
		}), t.Polyline.ATTRIBUTE_NAMES = t.SHARED_ATTRIBUTES.concat(), t.Polyline.fromElement = function(e, n, r) {
			if (!e) return n(null);
			r || (r = {});
			var i = t.parsePointsAttribute(e.getAttribute("points")),
				o = t.parseAttributes(e, t.Polyline.ATTRIBUTE_NAMES);
			n(new t.Polyline(i, t.util.object.extend(o, r)))
		}, t.Polyline.fromObject = function(e, n) {
			return t.Object._fromObject("Polyline", e, n, "points")
		})
	}("undefined" != typeof exports ? exports : this),
	function(e) {
		"use strict";
		var t = e.fabric || (e.fabric = {}),
			n = t.util.object.extend;
		t.Polygon ? t.warn("fabric.Polygon is already defined") : (t.Polygon = t.util.createClass(t.Polyline, {
			type: "polygon",
			_render: function(e) {
				this.commonRender(e) && (e.closePath(), this._renderPaintInOrder(e))
			},
			_renderDashedStroke: function(e) {
				this.callSuper("_renderDashedStroke", e), e.closePath()
			}
		}), t.Polygon.ATTRIBUTE_NAMES = t.SHARED_ATTRIBUTES.concat(), t.Polygon.fromElement = function(e, r, i) {
			if (!e) return r(null);
			i || (i = {});
			var o = t.parsePointsAttribute(e.getAttribute("points")),
				a = t.parseAttributes(e, t.Polygon.ATTRIBUTE_NAMES);
			r(new t.Polygon(o, n(a, i)))
		}, t.Polygon.fromObject = function(e, n) {
			return t.Object._fromObject("Polygon", e, n, "points")
		})
	}("undefined" != typeof exports ? exports : this),
	function(e) {
		"use strict";
		var t = e.fabric || (e.fabric = {}),
			n = t.util.array.min,
			r = t.util.array.max,
			i = t.util.object.extend,
			o = Object.prototype.toString,
			a = t.util.drawArc,
			s = {
				m: 2,
				l: 2,
				h: 1,
				v: 1,
				c: 6,
				s: 4,
				q: 4,
				t: 2,
				a: 7
			},
			l = {
				m: "l",
				M: "L"
			};
		t.Path ? t.warn("fabric.Path is already defined") : (t.Path = t.util.createClass(t.Object, {
			type: "path",
			path: null,
			cacheProperties: t.Object.prototype.cacheProperties.concat("path", "fillRule"),
			stateProperties: t.Object.prototype.stateProperties.concat("path"),
			initialize: function(e, t) {
				t = t || {}, this.callSuper("initialize", t), e || (e = []);
				var n = "[object Array]" === o.call(e);
				this.path = n ? e : e.match && e.match(/[mzlhvcsqta][^mzlhvcsqta]*/gi), this.path && (n || (this.path = this._parsePath()),
					this._setPositionDimensions(t))
			},
			_setPositionDimensions: function(e) {
				var t = this._parseDimensions();
				this.width = t.width, this.height = t.height, void 0 === e.left && (this.left = t.left), void 0 === e.top && (
					this.top = t.top), this.pathOffset = this.pathOffset || {
					x: t.left + this.width / 2,
					y: t.top + this.height / 2
				}
			},
			_renderPathCommands: function(e) {
				var t, n, r, i = null,
					o = 0,
					s = 0,
					l = 0,
					c = 0,
					u = 0,
					h = 0,
					f = -this.pathOffset.x,
					d = -this.pathOffset.y;
				e.beginPath();
				for (var p = 0, g = this.path.length; g > p; ++p) {
					switch ((t = this.path[p])[0]) {
						case "l":
							l += t[1], c += t[2], e.lineTo(l + f, c + d);
							break;
						case "L":
							l = t[1], c = t[2], e.lineTo(l + f, c + d);
							break;
						case "h":
							l += t[1], e.lineTo(l + f, c + d);
							break;
						case "H":
							l = t[1], e.lineTo(l + f, c + d);
							break;
						case "v":
							c += t[1], e.lineTo(l + f, c + d);
							break;
						case "V":
							c = t[1], e.lineTo(l + f, c + d);
							break;
						case "m":
							o = l += t[1], s = c += t[2], e.moveTo(l + f, c + d);
							break;
						case "M":
							o = l = t[1], s = c = t[2], e.moveTo(l + f, c + d);
							break;
						case "c":
							n = l + t[5], r = c + t[6], u = l + t[3], h = c + t[4], e.bezierCurveTo(l + t[1] + f, c + t[2] + d, u + f, h +
								d, n + f, r + d), l = n, c = r;
							break;
						case "C":
							l = t[5], c = t[6], u = t[3], h = t[4], e.bezierCurveTo(t[1] + f, t[2] + d, u + f, h + d, l + f, c + d);
							break;
						case "s":
							n = l + t[3], r = c + t[4], null === i[0].match(/[CcSs]/) ? (u = l, h = c) : (u = 2 * l - u, h = 2 * c - h),
								e.bezierCurveTo(u + f, h + d, l + t[1] + f, c + t[2] + d, n + f, r + d), u = l + t[1], h = c + t[2], l = n,
								c = r;
							break;
						case "S":
							n = t[3], r = t[4], null === i[0].match(/[CcSs]/) ? (u = l, h = c) : (u = 2 * l - u, h = 2 * c - h), e.bezierCurveTo(
								u + f, h + d, t[1] + f, t[2] + d, n + f, r + d), l = n, c = r, u = t[1], h = t[2];
							break;
						case "q":
							n = l + t[3], r = c + t[4], u = l + t[1], h = c + t[2], e.quadraticCurveTo(u + f, h + d, n + f, r + d), l =
								n, c = r;
							break;
						case "Q":
							n = t[3], r = t[4], e.quadraticCurveTo(t[1] + f, t[2] + d, n + f, r + d), l = n, c = r, u = t[1], h = t[2];
							break;
						case "t":
							n = l + t[1], r = c + t[2], null === i[0].match(/[QqTt]/) ? (u = l, h = c) : (u = 2 * l - u, h = 2 * c - h),
								e.quadraticCurveTo(u + f, h + d, n + f, r + d), l = n, c = r;
							break;
						case "T":
							n = t[1], r = t[2], null === i[0].match(/[QqTt]/) ? (u = l, h = c) : (u = 2 * l - u, h = 2 * c - h), e.quadraticCurveTo(
								u + f, h + d, n + f, r + d), l = n, c = r;
							break;
						case "a":
							a(e, l + f, c + d, [t[1], t[2], t[3], t[4], t[5], t[6] + l + f, t[7] + c + d]), l += t[6], c += t[7];
							break;
						case "A":
							a(e, l + f, c + d, [t[1], t[2], t[3], t[4], t[5], t[6] + f, t[7] + d]), l = t[6], c = t[7];
							break;
						case "z":
						case "Z":
							l = o, c = s, e.closePath()
					}
					i = t
				}
			},
			_render: function(e) {
				this._renderPathCommands(e), this._renderPaintInOrder(e)
			},
			toString: function() {
				return "#<fabric.Path (" + this.complexity() + '): { "top": ' + this.top + ', "left": ' + this.left + " }>"
			},
			toObject: function(e) {
				return i(this.callSuper("toObject", e), {
					path: this.path.map(function(e) {
						return e.slice()
					}),
					top: this.top,
					left: this.left
				})
			},
			toDatalessObject: function(e) {
				var t = this.toObject(["sourcePath"].concat(e));
				return t.sourcePath && delete t.path, t
			},
			toSVG: function(e) {
				for (var t, n = [], r = this._createBaseSVGMarkup(), i = 0, o = this.path.length; o > i; i++) n.push(this.path[
					i].join(" "));
				var a = n.join(" ");
				return t = " translate(" + -this.pathOffset.x + ", " + -this.pathOffset.y + ") ", r.push("<path ", this.getSvgId(),
					'd="', a, '" style="', this.getSvgStyles(), '" transform="', this.getSvgTransform(), t, this.getSvgTransformMatrix(),
					'" stroke-linecap="round" ', this.addPaintOrder(), "/>\n"), e ? e(r.join("")) : r.join("")
			},
			complexity: function() {
				return this.path.length
			},
			_parsePath: function() {
				for (var e, t, n, r, i, o = [], a = [], c = /([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi, u = 0, h =
						this.path.length; h > u; u++) {
					for (r = (e = this.path[u]).slice(1).trim(), a.length = 0; n = c.exec(r);) a.push(n[0]);
					i = [e.charAt(0)];
					for (var f = 0, d = a.length; d > f; f++) t = parseFloat(a[f]), isNaN(t) || i.push(t);
					var p = i[0],
						g = s[p.toLowerCase()],
						m = l[p] || p;
					if (i.length - 1 > g)
						for (var v = 1, y = i.length; y > v; v += g) o.push([p].concat(i.slice(v, v + g))), p = m;
					else o.push(i)
				}
				return o
			},
			_parseDimensions: function() {
				for (var e, i, o, a, s = [], l = [], c = null, u = 0, h = 0, f = 0, d = 0, p = 0, g = 0, m = 0, v = this.path.length; v >
					m; ++m) {
					switch ((e = this.path[m])[0]) {
						case "l":
							f += e[1], d += e[2], a = [];
							break;
						case "L":
							f = e[1], d = e[2], a = [];
							break;
						case "h":
							f += e[1], a = [];
							break;
						case "H":
							f = e[1], a = [];
							break;
						case "v":
							d += e[1], a = [];
							break;
						case "V":
							d = e[1], a = [];
							break;
						case "m":
							u = f += e[1], h = d += e[2], a = [];
							break;
						case "M":
							u = f = e[1], h = d = e[2], a = [];
							break;
						case "c":
							i = f + e[5], o = d + e[6], p = f + e[3], g = d + e[4], a = t.util.getBoundsOfCurve(f, d, f + e[1], d + e[2],
								p, g, i, o), f = i, d = o;
							break;
						case "C":
							p = e[3], g = e[4], a = t.util.getBoundsOfCurve(f, d, e[1], e[2], p, g, e[5], e[6]), f = e[5], d = e[6];
							break;
						case "s":
							i = f + e[3], o = d + e[4], null === c[0].match(/[CcSs]/) ? (p = f, g = d) : (p = 2 * f - p, g = 2 * d - g),
								a = t.util.getBoundsOfCurve(f, d, p, g, f + e[1], d + e[2], i, o), p = f + e[1], g = d + e[2], f = i, d = o;
							break;
						case "S":
							i = e[3], o = e[4], null === c[0].match(/[CcSs]/) ? (p = f, g = d) : (p = 2 * f - p, g = 2 * d - g), a = t.util
								.getBoundsOfCurve(f, d, p, g, e[1], e[2], i, o), f = i, d = o, p = e[1], g = e[2];
							break;
						case "q":
							i = f + e[3], o = d + e[4], p = f + e[1], g = d + e[2], a = t.util.getBoundsOfCurve(f, d, p, g, p, g, i, o),
								f = i, d = o;
							break;
						case "Q":
							p = e[1], g = e[2], a = t.util.getBoundsOfCurve(f, d, p, g, p, g, e[3], e[4]), f = e[3], d = e[4];
							break;
						case "t":
							i = f + e[1], o = d + e[2], null === c[0].match(/[QqTt]/) ? (p = f, g = d) : (p = 2 * f - p, g = 2 * d - g),
								a = t.util.getBoundsOfCurve(f, d, p, g, p, g, i, o), f = i, d = o;
							break;
						case "T":
							i = e[1], o = e[2], null === c[0].match(/[QqTt]/) ? (p = f, g = d) : (p = 2 * f - p, g = 2 * d - g), a = t.util
								.getBoundsOfCurve(f, d, p, g, p, g, i, o), f = i, d = o;
							break;
						case "a":
							a = t.util.getBoundsOfArc(f, d, e[1], e[2], e[3], e[4], e[5], e[6] + f, e[7] + d), f += e[6], d += e[7];
							break;
						case "A":
							a = t.util.getBoundsOfArc(f, d, e[1], e[2], e[3], e[4], e[5], e[6], e[7]), f = e[6], d = e[7];
							break;
						case "z":
						case "Z":
							f = u, d = h
					}
					c = e, a.forEach(function(e) {
						s.push(e.x), l.push(e.y)
					}), s.push(f), l.push(d)
				}
				var y = n(s) || 0,
					b = n(l) || 0;
				return {
					left: y,
					top: b,
					width: (r(s) || 0) - y,
					height: (r(l) || 0) - b
				}
			}
		}), t.Path.fromObject = function(e, n) {
			if ("string" == typeof e.sourcePath) {
				var r = e.sourcePath;
				t.loadSVGFromURL(r, function(t) {
					var r = t[0];
					r.setOptions(e), n && n(r)
				})
			} else t.Object._fromObject("Path", e, n, "path")
		}, t.Path.ATTRIBUTE_NAMES = t.SHARED_ATTRIBUTES.concat(["d"]), t.Path.fromElement = function(e, n, r) {
			var o = t.parseAttributes(e, t.Path.ATTRIBUTE_NAMES);
			n(new t.Path(o.d, i(o, r)))
		})
	}("undefined" != typeof exports ? exports : this),
	function(e) {
		"use strict";
		var t = e.fabric || (e.fabric = {}),
			n = t.util.object.extend,
			r = t.util.array.min,
			i = t.util.array.max;
		t.Group || (t.Group = t.util.createClass(t.Object, t.Collection, {
			type: "group",
			strokeWidth: 0,
			subTargetCheck: !1,
			cacheProperties: [],
			useSetOnGroup: !1,
			initialize: function(e, t, n) {
				t = t || {}, this._objects = [], n && this.callSuper("initialize", t), this._objects = e || [];
				for (var r = this._objects.length; r--;) this._objects[r].group = this;
				if (t.originX && (this.originX = t.originX), t.originY && (this.originY = t.originY), n) this._updateObjectsACoords();
				else {
					var i = t && t.centerPoint;
					i || this._calcBounds(), this._updateObjectsCoords(i), delete t.centerPoint, this.callSuper("initialize", t)
				}
				this.setCoords()
			},
			_updateObjectsACoords: function() {
				for (var e = this._objects.length; e--;) this._objects[e].setCoords(!0, !0)
			},
			_updateObjectsCoords: function(e) {
				e = e || this.getCenterPoint();
				for (var t = this._objects.length; t--;) this._updateObjectCoords(this._objects[t], e)
			},
			_updateObjectCoords: function(e, t) {
				var n = e.left,
					r = e.top;
				e.set({
					left: n - t.x,
					top: r - t.y
				}), e.group = this, e.setCoords(!0, !0)
			},
			toString: function() {
				return "#<fabric.Group: (" + this.complexity() + ")>"
			},
			addWithUpdate: function(e) {
				return this._restoreObjectsState(), t.util.resetObjectTransform(this), e && (this._objects.push(e), e.group =
						this, e._set("canvas", this.canvas)), this._calcBounds(), this._updateObjectsCoords(), this.setCoords(), this
					.dirty = !0, this
			},
			removeWithUpdate: function(e) {
				return this._restoreObjectsState(), t.util.resetObjectTransform(this), this.remove(e), this._calcBounds(), this
					._updateObjectsCoords(), this.setCoords(), this.dirty = !0, this
			},
			_onObjectAdded: function(e) {
				this.dirty = !0, e.group = this, e._set("canvas", this.canvas)
			},
			_onObjectRemoved: function(e) {
				this.dirty = !0, delete e.group
			},
			_set: function(e, t) {
				var n = this._objects.length;
				if (this.useSetOnGroup)
					for (; n--;) this._objects[n].setOnGroup(e, t);
				if ("canvas" === e)
					for (n = this._objects.length; n--;) this._objects[n]._set(e, t);
				this.callSuper("_set", e, t)
			},
			toObject: function(e) {
				var t = this.getObjects().map(function(t) {
					var n = t.includeDefaultValues;
					t.includeDefaultValues = t.group.includeDefaultValues;
					var r = t.toObject(e);
					return t.includeDefaultValues = n, r
				});
				return n(this.callSuper("toObject", e), {
					objects: t
				})
			},
			toDatalessObject: function(e) {
				var t, r = this.sourcePath;
				return t = r || this.getObjects().map(function(t) {
					var n = t.includeDefaultValues;
					t.includeDefaultValues = t.group.includeDefaultValues;
					var r = t.toDatalessObject(e);
					return t.includeDefaultValues = n, r
				}), n(this.callSuper("toDatalessObject", e), {
					objects: t
				})
			},
			render: function(e) {
				this._transformDone = !0, this.callSuper("render", e), this._transformDone = !1
			},
			shouldCache: function() {
				var e = this.objectCaching && (!this.group || this.needsItsOwnCache() || !this.group.isOnACache());
				if (this.ownCaching = e)
					for (var t = 0, n = this._objects.length; n > t; t++)
						if (this._objects[t].willDrawShadow()) return this.ownCaching = !1;
				return e
			},
			willDrawShadow: function() {
				if (this.shadow) return this.callSuper("willDrawShadow");
				for (var e = 0, t = this._objects.length; t > e; e++)
					if (this._objects[e].willDrawShadow()) return !0;
				return !1
			},
			isOnACache: function() {
				return this.ownCaching || this.group && this.group.isOnACache()
			},
			drawObject: function(e) {
				for (var t = 0, n = this._objects.length; n > t; t++) this._objects[t].render(e)
			},
			isCacheDirty: function() {
				if (this.callSuper("isCacheDirty")) return !0;
				if (!this.statefullCache) return !1;
				for (var e = 0, t = this._objects.length; t > e; e++)
					if (this._objects[e].isCacheDirty(!0)) {
						if (this._cacheCanvas) {
							var n = this.cacheWidth / this.zoomX,
								r = this.cacheHeight / this.zoomY;
							this._cacheContext.clearRect(-n / 2, -r / 2, n, r)
						}
						return !0
					} return !1
			},
			_restoreObjectsState: function() {
				return this._objects.forEach(this._restoreObjectState, this), this
			},
			realizeTransform: function(e) {
				var n = e.calcTransformMatrix(),
					r = t.util.qrDecompose(n),
					i = new t.Point(r.translateX, r.translateY);
				return e.flipX = !1, e.flipY = !1, e.set("scaleX", r.scaleX), e.set("scaleY", r.scaleY), e.skewX = r.skewX, e.skewY =
					r.skewY, e.angle = r.angle, e.setPositionByOrigin(i, "center", "center"), e
			},
			_restoreObjectState: function(e) {
				return this.realizeTransform(e), e.setCoords(), delete e.group, this
			},
			destroy: function() {
				return this._objects.forEach(function(e) {
					e.set("dirty", !0)
				}), this._restoreObjectsState()
			},
			toActiveSelection: function() {
				if (this.canvas) {
					var e = this._objects,
						n = this.canvas;
					this._objects = [];
					var r = this.toObject();
					delete r.objects;
					var i = new t.ActiveSelection([]);
					return i.set(r), i.type = "activeSelection", n.remove(this), e.forEach(function(e) {
						e.group = i, e.dirty = !0, n.add(e)
					}), i.canvas = n, i._objects = e, (n._activeObject = i).setCoords(), i
				}
			},
			ungroupOnCanvas: function() {
				return this._restoreObjectsState()
			},
			setObjectsCoords: function() {
				return this.forEachObject(function(e) {
					e.setCoords(!0, !0)
				}), this
			},
			_calcBounds: function(e) {
				for (var t, n, r, i = [], o = [], a = ["tr", "br", "bl", "tl"], s = 0, l = this._objects.length, c = a.length; l >
					s; ++s)
					for ((t = this._objects[s]).setCoords(!0), r = 0; c > r; r++) n = a[r], i.push(t.oCoords[n].x), o.push(t.oCoords[
						n].y);
				this.set(this._getBounds(i, o, e))
			},
			_getBounds: function(e, n, o) {
				var a = new t.Point(r(e), r(n)),
					s = new t.Point(i(e), i(n)),
					l = {
						width: s.x - a.x || 0,
						height: s.y - a.y || 0
					};
				return o || (l.left = a.x || 0, l.top = a.y || 0, "center" === this.originX && (l.left += l.width / 2), "right" ===
					this.originX && (l.left += l.width), "center" === this.originY && (l.top += l.height / 2), "bottom" === this.originY &&
					(l.top += l.height)), l
			},
			toSVG: function(e) {
				var t = this._createBaseSVGMarkup();
				t.push("<g ", this.getSvgId(), 'transform="', this.getSvgTransform(), this.getSvgTransformMatrix(), '" style="',
					this.getSvgFilter(), '">\n');
				for (var n = 0, r = this._objects.length; r > n; n++) t.push("	", this._objects[n].toSVG(e));
				return t.push("</g>\n"), e ? e(t.join("")) : t.join("")
			}
		}), t.Group.fromObject = function(e, n) {
			t.util.enlivenObjects(e.objects, function(r) {
				var i = t.util.object.clone(e, !0);
				delete i.objects, n && n(new t.Group(r, i, !0))
			})
		})
	}("undefined" != typeof exports ? exports : this),
	function(e) {
		"use strict";
		var t = e.fabric || (e.fabric = {});
		t.ActiveSelection || (t.ActiveSelection = t.util.createClass(t.Group, {
			type: "activeSelection",
			initialize: function(e, n) {
				n = n || {}, this._objects = e || [];
				for (var r = this._objects.length; r--;) this._objects[r].group = this;
				n.originX && (this.originX = n.originX), n.originY && (this.originY = n.originY), this._calcBounds(), this._updateObjectsCoords(),
					t.Object.prototype.initialize.call(this, n), this.setCoords()
			},
			toGroup: function() {
				var e = this._objects;
				this._objects = [];
				var n = this.toObject(),
					r = new t.Group([]);
				if (delete n.objects, r.set(n), r.type = "group", e.forEach(function(e) {
						e.group = r, e.canvas.remove(e)
					}), r._objects = e, !this.canvas) return r;
				var i = this.canvas;
				return i.add(r), (i._activeObject = r).setCoords(), r
			},
			onDeselect: function() {
				return this.destroy(), !1
			},
			toString: function() {
				return "#<fabric.ActiveSelection: (" + this.complexity() + ")>"
			},
			_set: function(e, n) {
				var r = this._objects.length;
				if ("canvas" === e)
					for (; r--;) this._objects[r].set(e, n);
				if (this.useSetOnGroup)
					for (; r--;) this._objects[r].setOnGroup(e, n);
				t.Object.prototype._set.call(this, e, n)
			},
			shouldCache: function() {
				return !1
			},
			willDrawShadow: function() {
				if (this.shadow) return this.callSuper("willDrawShadow");
				for (var e = 0, t = this._objects.length; t > e; e++)
					if (this._objects[e].willDrawShadow()) return !0;
				return !1
			},
			isOnACache: function() {
				return !1
			},
			_renderControls: function(e, t, n) {
				e.save(), e.globalAlpha = this.isMoving ? this.borderOpacityWhenMoving : 1, this.callSuper("_renderControls", e,
					t), void 0 === (n = n || {}).hasControls && (n.hasControls = !1), void 0 === n.hasRotatingPoint && (n.hasRotatingPoint = !
					1), n.forActiveSelection = !0;
				for (var r = 0, i = this._objects.length; i > r; r++) this._objects[r]._renderControls(e, n);
				e.restore()
			}
		}), t.ActiveSelection.fromObject = function(e, n) {
			t.util.enlivenObjects(e.objects, function(r) {
				delete e.objects, n && n(new t.ActiveSelection(r, e, !0))
			})
		})
	}("undefined" != typeof exports ? exports : this),
	function(e) {
		"use strict";
		var t = fabric.util.object.extend;
		e.fabric || (e.fabric = {}), e.fabric.Image ? fabric.warn("fabric.Image is already defined.") : (fabric.Image =
			fabric.util.createClass(fabric.Object, {
				type: "image",
				crossOrigin: "",
				strokeWidth: 0,
				_lastScaleX: 1,
				_lastScaleY: 1,
				_filterScalingX: 1,
				_filterScalingY: 1,
				minimumScaleTrigger: .5,
				stateProperties: fabric.Object.prototype.stateProperties.concat("cropX", "cropY"),
				objectCaching: !1,
				cacheKey: "",
				cropX: 0,
				cropY: 0,
				initialize: function(e, t) {
					t || (t = {}), this.filters = [], this.cacheKey = "texture" + fabric.Object.__uid++, this.callSuper(
						"initialize", t), this._initElement(e, t)
				},
				getElement: function() {
					return this._element
				},
				setElement: function(e, t) {
					var n = fabric.filterBackend;
					return n && n.evictCachesForKey && (n.evictCachesForKey(this.cacheKey), n.evictCachesForKey(this.cacheKey +
							"_filtered")), this._element = e, this._originalElement = e, this._initConfig(t), this.resizeFilter && this.applyResizeFilters(),
						0 !== this.filters.length && this.applyFilters(), this
				},
				dispose: function() {
					var e = fabric.filterBackend;
					e && e.evictCachesForKey && (e.evictCachesForKey(this.cacheKey), e.evictCachesForKey(this.cacheKey +
						"_filtered")), this._originalElement = void 0, this._element = void 0, this._filteredEl = void 0
				},
				setCrossOrigin: function(e) {
					return this.crossOrigin = e, this._element.crossOrigin = e, this
				},
				getOriginalSize: function() {
					var e = this.getElement();
					return {
						width: e.width,
						height: e.height
					}
				},
				_stroke: function(e) {
					if (this.stroke && 0 !== this.strokeWidth) {
						var t = this.width / 2,
							n = this.height / 2;
						e.beginPath(), e.moveTo(-t, -n), e.lineTo(t, -n), e.lineTo(t, n), e.lineTo(-t, n), e.lineTo(-t, -n), e.closePath()
					}
				},
				_renderDashedStroke: function(e) {
					var t = -this.width / 2,
						n = -this.height / 2,
						r = this.width,
						i = this.height;
					e.save(), this._setStrokeStyles(e, this), e.beginPath(), fabric.util.drawDashedLine(e, t, n, t + r, n, this.strokeDashArray),
						fabric.util.drawDashedLine(e, t + r, n, t + r, n + i, this.strokeDashArray), fabric.util.drawDashedLine(e, t +
							r, n + i, t, n + i, this.strokeDashArray), fabric.util.drawDashedLine(e, t, n + i, t, n, this.strokeDashArray),
						e.closePath(), e.restore()
				},
				toObject: function(e) {
					var n = [];
					this.filters.forEach(function(e) {
						e && n.push(e.toObject())
					});
					var r = t(this.callSuper("toObject", ["crossOrigin", "cropX", "cropY"].concat(e)), {
						src: this.getSrc(),
						filters: n
					});
					return this.resizeFilter && (r.resizeFilter = this.resizeFilter.toObject()), r
				},
				hasCrop: function() {
					return this.cropX || this.cropY || this.width < this._element.width || this.height < this._element.height
				},
				toSVG: function(e) {
					var t = this._createBaseSVGMarkup(),
						n = -this.width / 2,
						r = -this.height / 2,
						i = "";
					if (this.hasCrop()) {
						var o = fabric.Object.__uid++;
						t.push('<clipPath id="imageCrop_' + o + '">\n', '	<rect x="' + n + '" y="' + r + '" width="' + this.width +
							'" height="' + this.height + '" />\n', "</clipPath>\n"), i = ' clip-path="url(#imageCrop_' + o + ')" '
					}
					t.push('<g transform="', this.getSvgTransform(), this.getSvgTransformMatrix(), '">\n');
					var a = ["	<image ", this.getSvgId(), 'xlink:href="', this.getSvgSrc(!0), '" x="', n - this.cropX, '" y="', r -
						this.cropY, '" style="', this.getSvgStyles(), '" width="', this._element.width || this._element.naturalWidth,
						'" height="', this._element.height || this._element.height, '"', i, "></image>\n"
					];
					if ("fill" === this.paintFirst && Array.prototype.push.apply(t, a), this.stroke || this.strokeDashArray) {
						var s = this.fill;
						this.fill = null, t.push("	<rect ", 'x="', n, '" y="', r, '" width="', this.width, '" height="', this.height,
							'" style="', this.getSvgStyles(), '"/>\n'), this.fill = s
					}
					return "fill" !== this.paintFirst && Array.prototype.push.apply(t, a), t.push("</g>\n"), e ? e(t.join("")) : t.join(
						"")
				},
				getSrc: function(e) {
					var t = e ? this._element : this._originalElement;
					return t ? t.toDataURL ? t.toDataURL() : t.src : this.src || ""
				},
				setSrc: function(e, t, n) {
					return fabric.util.loadImage(e, function(e) {
						this.setElement(e, n), t(this)
					}, this, n && n.crossOrigin), this
				},
				toString: function() {
					return '#<fabric.Image: { src: "' + this.getSrc() + '" }>'
				},
				applyResizeFilters: function() {
					var e = this.resizeFilter,
						t = this.canvas ? this.canvas.getRetinaScaling() : 1,
						n = this.minimumScaleTrigger,
						r = this.scaleX * t,
						i = this.scaleY * t,
						o = this._filteredEl || this._originalElement;
					if (this.group && this.set("dirty", !0), !e || r > n && i > n) return this._element = o, this._filterScalingX =
						1, void(this._filterScalingY = 1);
					fabric.filterBackend || (fabric.filterBackend = fabric.initFilterBackend());
					var a = fabric.util.createCanvasElement(),
						s = this._filteredEl ? this.cacheKey : this.cacheKey + "_filtered",
						l = o.width,
						c = o.height;
					a.width = l, a.height = c, this._element = a, e.scaleX = r, e.scaleY = i, fabric.filterBackend.applyFilters([e],
							o, l, c, this._element, s), this._filterScalingX = a.width / this._originalElement.width, this._filterScalingY =
						a.height / this._originalElement.height
				},
				applyFilters: function(e) {
					if (e = (e = e || this.filters || []).filter(function(e) {
							return e
						}), this.group && this.set("dirty", !0), 0 === e.length) return this._element = this._originalElement, this._filteredEl =
						null, this._filterScalingX = 1, this._filterScalingY = 1, this;
					var t = this._originalElement,
						n = t.naturalWidth || t.width,
						r = t.naturalHeight || t.height;
					if (this._element === this._originalElement) {
						var i = fabric.util.createCanvasElement();
						i.width = n, i.height = r, this._element = i, this._filteredEl = i
					} else this._element.getContext("2d").clearRect(0, 0, n, r);
					return fabric.filterBackend || (fabric.filterBackend = fabric.initFilterBackend()), fabric.filterBackend.applyFilters(
							e, this._originalElement, n, r, this._element, this.cacheKey), this._originalElement.width === this._element.width &&
						this._originalElement.height === this._element.height || (this._filterScalingX = this._element.width / this._originalElement
							.width, this._filterScalingY = this._element.height / this._originalElement.height), this
				},
				_render: function(e) {
					!1 === this.isMoving && this.resizeFilter && this._needsResize() && (this._lastScaleX = this.scaleX, this._lastScaleY =
						this.scaleY, this.applyResizeFilters()), this._stroke(e), this._renderPaintInOrder(e)
				},
				_renderFill: function(e) {
					var t = this.width,
						n = this.height,
						r = t * this._filterScalingX,
						i = n * this._filterScalingY,
						o = -t / 2,
						a = -n / 2,
						s = this._element;
					s && e.drawImage(s, this.cropX * this._filterScalingX, this.cropY * this._filterScalingY, r, i, o, a, t, n)
				},
				_needsResize: function() {
					return this.scaleX !== this._lastScaleX || this.scaleY !== this._lastScaleY
				},
				_resetWidthHeight: function() {
					var e = this.getElement();
					this.set("width", e.width), this.set("height", e.height)
				},
				_initElement: function(e, t) {
					this.setElement(fabric.util.getById(e), t), fabric.util.addClass(this.getElement(), fabric.Image.CSS_CANVAS)
				},
				_initConfig: function(e) {
					e || (e = {}), this.setOptions(e), this._setWidthHeight(e), this._element && this.crossOrigin && (this._element
						.crossOrigin = this.crossOrigin)
				},
				_initFilters: function(e, t) {
					e && e.length ? fabric.util.enlivenObjects(e, function(e) {
						t && t(e)
					}, "fabric.Image.filters") : t && t()
				},
				_setWidthHeight: function(e) {
					this.width = "width" in e ? e.width : this.getElement() && this.getElement().width || 0, this.height = "height" in
						e ? e.height : this.getElement() && this.getElement().height || 0
				},
				parsePreserveAspectRatioAttribute: function() {
					var e, t = fabric.util.parsePreserveAspectRatioAttribute(this.preserveAspectRatio || ""),
						n = this._element.width,
						r = this._element.height,
						i = 1,
						o = 1,
						a = 0,
						s = 0,
						l = 0,
						c = 0,
						u = this.width,
						h = this.height,
						f = {
							width: u,
							height: h
						};
					return !t || "none" === t.alignX && "none" === t.alignY ? (i = u / n, o = h / r) : ("meet" === t.meetOrSlice &&
						(e = (u - n * (i = o = fabric.util.findScaleToFit(this._element, f))) / 2, "Min" === t.alignX && (a = -e),
							"Max" === t.alignX && (a = e), e = (h - r * o) / 2, "Min" === t.alignY && (s = -e), "Max" === t.alignY && (s =
								e)), "slice" === t.meetOrSlice && (e = n - u / (i = o = fabric.util.findScaleToCover(this._element, f)),
							"Mid" === t.alignX && (l = e / 2), "Max" === t.alignX && (l = e), e = r - h / o, "Mid" === t.alignY && (c =
								e / 2), "Max" === t.alignY && (c = e), n = u / i, r = h / o)), {
						width: n,
						height: r,
						scaleX: i,
						scaleY: o,
						offsetLeft: a,
						offsetTop: s,
						cropX: l,
						cropY: c
					}
				}
			}), fabric.Image.CSS_CANVAS = "canvas-img", fabric.Image.prototype.getSvgSrc = fabric.Image.prototype.getSrc,
			fabric.Image.fromObject = function(e, t) {
				var n = fabric.util.object.clone(e);
				fabric.util.loadImage(n.src, function(e, r) {
					r ? t && t(null, r) : fabric.Image.prototype._initFilters.call(n, n.filters, function(r) {
						n.filters = r || [], fabric.Image.prototype._initFilters.call(n, [n.resizeFilter], function(r) {
							n.resizeFilter = r[0];
							var i = new fabric.Image(e, n);
							t(i)
						})
					})
				}, null, n.crossOrigin)
			}, fabric.Image.fromURL = function(e, t, n) {
				fabric.util.loadImage(e, function(e) {
					t && t(new fabric.Image(e, n))
				}, null, n && n.crossOrigin)
			}, fabric.Image.ATTRIBUTE_NAMES = fabric.SHARED_ATTRIBUTES.concat(
				"x y width height preserveAspectRatio xlink:href crossOrigin".split(" ")), fabric.Image.fromElement = function(e,
				n, r) {
				var i = fabric.parseAttributes(e, fabric.Image.ATTRIBUTE_NAMES);
				fabric.Image.fromURL(i["xlink:href"], n, t(r ? fabric.util.object.clone(r) : {}, i))
			})
	}("undefined" != typeof exports ? exports : this), fabric.util.object.extend(fabric.Object.prototype, {
		_getAngleValueForStraighten: function() {
			var e = this.angle % 360;
			return e > 0 ? 90 * Math.round((e - 1) / 90) : 90 * Math.round(e / 90)
		},
		straighten: function() {
			return this.rotate(this._getAngleValueForStraighten()), this
		},
		fxStraighten: function(e) {
			var t = function() {},
				n = (e = e || {}).onComplete || t,
				r = e.onChange || t,
				i = this;
			return fabric.util.animate({
				startValue: this.get("angle"),
				endValue: this._getAngleValueForStraighten(),
				duration: this.FX_DURATION,
				onChange: function(e) {
					i.rotate(e), r()
				},
				onComplete: function() {
					i.setCoords(), n()
				}
			}), this
		}
	}), fabric.util.object.extend(fabric.StaticCanvas.prototype, {
		straightenObject: function(e) {
			return e.straighten(), this.requestRenderAll(), this
		},
		fxStraightenObject: function(e) {
			return e.fxStraighten({
				onChange: this.requestRenderAllBound
			}), this
		}
	}),
	function() {
		"use strict";

		function e(e) {
			e && e.tileSize && (this.tileSize = e.tileSize), this.setupGLContext(this.tileSize, this.tileSize), this.captureGPUInfo()
		}
		fabric.isWebglSupported = function(e) {
			if (fabric.isLikelyNode) return !1;
			e = e || fabric.WebglFilterBackend.prototype.tileSize;
			var t, n, r, i = document.createElement("canvas"),
				o = i.getContext("webgl") || i.getContext("experimental-webgl"),
				a = !1;
			if (o) {
				fabric.maxTextureSize = o.getParameter(o.MAX_TEXTURE_SIZE), a = fabric.maxTextureSize >= e;
				for (var s = ["highp", "mediump", "lowp"], l = 0; 3 > l; l++)
					if (n = "precision " + s[l] + " float;\nvoid main(){}", r = (t = o).createShader(t.FRAGMENT_SHADER), t.shaderSource(
							r, n), t.compileShader(r), t.getShaderParameter(r, t.COMPILE_STATUS)) {
						fabric.webGlPrecision = s[l];
						break
					}
			}
			return this.isSupported = a
		}, (fabric.WebglFilterBackend = e).prototype = {
			tileSize: 2048,
			resources: {},
			setupGLContext: function(e, t) {
				this.dispose(), this.createWebGLCanvas(e, t), this.aPosition = new Float32Array([0, 0, 0, 1, 1, 0, 1, 1]), this.chooseFastestCopyGLTo2DMethod(
					e, t)
			},
			chooseFastestCopyGLTo2DMethod: function(e, t) {
				var n, r = void 0 !== window.performance;
				try {
					new ImageData(1, 1), n = !0
				} catch (e) {
					n = !1
				}
				var i = "undefined" != typeof ArrayBuffer,
					o = "undefined" != typeof Uint8ClampedArray;
				if (r && n && i && o) {
					var a, s, l = fabric.util.createCanvasElement(),
						c = new ArrayBuffer(e * t * 4),
						u = {
							imageBuffer: c,
							destinationWidth: e,
							destinationHeight: t,
							targetCanvas: l
						};
					l.width = e, l.height = t, a = window.performance.now(), copyGLTo2DDrawImage.call(u, this.gl, u), s = window.performance
						.now() - a, a = window.performance.now(), copyGLTo2DPutImageData.call(u, this.gl, u), window.performance.now() -
						a < s ? (this.imageBuffer = c, this.copyGLTo2D = copyGLTo2DPutImageData) : this.copyGLTo2D =
						copyGLTo2DDrawImage
				}
			},
			createWebGLCanvas: function(e, t) {
				var n = fabric.util.createCanvasElement();
				n.width = e, n.height = t;
				var r = {
						premultipliedAlpha: !1
					},
					i = n.getContext("webgl", r);
				i || (i = n.getContext("experimental-webgl", r)), i && (i.clearColor(0, 0, 0, 0), this.canvas = n, this.gl = i)
			},
			applyFilters: function(e, t, n, r, i, o) {
				var a, s = this.gl;
				o && (a = this.getCachedTexture(o, t));
				var l = {
						originalWidth: t.width || t.originalWidth,
						originalHeight: t.height || t.originalHeight,
						sourceWidth: n,
						sourceHeight: r,
						destinationWidth: n,
						destinationHeight: r,
						context: s,
						sourceTexture: this.createTexture(s, n, r, !a && t),
						targetTexture: this.createTexture(s, n, r),
						originalTexture: a || this.createTexture(s, n, r, !a && t),
						passes: e.length,
						webgl: !0,
						aPosition: this.aPosition,
						programCache: this.programCache,
						pass: 0,
						filterBackend: this,
						targetCanvas: i
					},
					c = s.createFramebuffer();
				return s.bindFramebuffer(s.FRAMEBUFFER, c), e.forEach(function(e) {
						e && e.applyTo(l)
					}), resizeCanvasIfNeeded(l), this.copyGLTo2D(s, l), s.bindTexture(s.TEXTURE_2D, null), s.deleteTexture(l.sourceTexture),
					s.deleteTexture(l.targetTexture), s.deleteFramebuffer(c), i.getContext("2d").setTransform(1, 0, 0, 1, 0, 0), l
			},
			applyFiltersDebug: function(e, t, n, r, i, o) {
				var a = this.gl,
					s = this.applyFilters(e, t, n, r, i, o),
					l = a.getError();
				if (l !== a.NO_ERROR) {
					var c = this.glErrorToString(a, l),
						u = new Error("WebGL Error " + c);
					throw u.glErrorCode = l, u
				}
				return s
			},
			glErrorToString: function(e, t) {
				if (!e) return "Context undefined for error code: " + t;
				if ("number" != typeof t) return "Error code is not a number";
				switch (t) {
					case e.NO_ERROR:
						return "NO_ERROR";
					case e.INVALID_ENUM:
						return "INVALID_ENUM";
					case e.INVALID_VALUE:
						return "INVALID_VALUE";
					case e.INVALID_OPERATION:
						return "INVALID_OPERATION";
					case e.INVALID_FRAMEBUFFER_OPERATION:
						return "INVALID_FRAMEBUFFER_OPERATION";
					case e.OUT_OF_MEMORY:
						return "OUT_OF_MEMORY";
					case e.CONTEXT_LOST_WEBGL:
						return "CONTEXT_LOST_WEBGL";
					default:
						return "UNKNOWN_ERROR"
				}
			},
			dispose: function() {
				this.canvas && (this.canvas = null,
					this.gl = null), this.clearWebGLCaches()
			},
			clearWebGLCaches: function() {
				this.programCache = {}, this.textureCache = {}
			},
			createTexture: function(e, t, n, r) {
				var i = e.createTexture();
				return e.bindTexture(e.TEXTURE_2D, i), e.texParameteri(e.TEXTURE_2D, e.TEXTURE_MAG_FILTER, e.NEAREST), e.texParameteri(
						e.TEXTURE_2D, e.TEXTURE_MIN_FILTER, e.NEAREST), e.texParameteri(e.TEXTURE_2D, e.TEXTURE_WRAP_S, e.CLAMP_TO_EDGE),
					e.texParameteri(e.TEXTURE_2D, e.TEXTURE_WRAP_T, e.CLAMP_TO_EDGE), r ? e.texImage2D(e.TEXTURE_2D, 0, e.RGBA, e.RGBA,
						e.UNSIGNED_BYTE, r) : e.texImage2D(e.TEXTURE_2D, 0, e.RGBA, t, n, 0, e.RGBA, e.UNSIGNED_BYTE, null), i
			},
			getCachedTexture: function(e, t) {
				if (this.textureCache[e]) return this.textureCache[e];
				var n = this.createTexture(this.gl, t.width, t.height, t);
				return this.textureCache[e] = n
			},
			evictCachesForKey: function(e) {
				this.textureCache[e] && (this.gl.deleteTexture(this.textureCache[e]), delete this.textureCache[e])
			},
			copyGLTo2D: copyGLTo2DDrawImage,
			captureGPUInfo: function() {
				if (this.gpuInfo) return this.gpuInfo;
				var e = this.gl,
					t = e.getExtension("WEBGL_debug_renderer_info"),
					n = {
						renderer: "",
						vendor: ""
					};
				if (t) {
					var r = e.getParameter(t.UNMASKED_RENDERER_WEBGL),
						i = e.getParameter(t.UNMASKED_VENDOR_WEBGL);
					r && (n.renderer = r.toLowerCase()), i && (n.vendor = i.toLowerCase())
				}
				return this.gpuInfo = n
			}
		}
	}(),
	function() {
		"use strict";

		function e() {}
		var t = function() {};
		(fabric.Canvas2dFilterBackend = e).prototype = {
			evictCachesForKey: t,
			dispose: t,
			clearWebGLCaches: t,
			resources: {},
			applyFilters: function(e, t, n, r, i) {
				var o = i.getContext("2d");
				o.drawImage(t, 0, 0, n, r);
				var a = {
					sourceWidth: n,
					sourceHeight: r,
					imageData: o.getImageData(0, 0, n, r),
					originalEl: t,
					originalImageData: o.getImageData(0, 0, n, r),
					canvasEl: i,
					ctx: o,
					filterBackend: this
				};
				return e.forEach(function(e) {
						e.applyTo(a)
					}), a.imageData.width === n && a.imageData.height === r || (i.width = a.imageData.width, i.height = a.imageData.height),
					o.putImageData(a.imageData, 0, 0), a
			}
		}
	}(), fabric.Image.filters = fabric.Image.filters || {}, fabric.Image.filters.BaseFilter = fabric.util.createClass({
		type: "BaseFilter",
		vertexSource: "attribute vec2 aPosition;\nvarying vec2 vTexCoord;\nvoid main() {\nvTexCoord = aPosition;\ngl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);\n}",
		fragmentSource: "precision highp float;\nvarying vec2 vTexCoord;\nuniform sampler2D uTexture;\nvoid main() {\ngl_FragColor = texture2D(uTexture, vTexCoord);\n}",
		initialize: function(e) {
			e && this.setOptions(e)
		},
		setOptions: function(e) {
			for (var t in e) this[t] = e[t]
		},
		createProgram: function(e, t, n) {
			t = t || this.fragmentSource, n = n || this.vertexSource, "highp" !== fabric.webGlPrecision && (t = t.replace(
				/precision highp float/g, "precision " + fabric.webGlPrecision + " float"));
			var r = e.createShader(e.VERTEX_SHADER);
			if (e.shaderSource(r, n), e.compileShader(r), !e.getShaderParameter(r, e.COMPILE_STATUS)) throw new Error(
				"Vertex shader compile error for " + this.type + ": " + e.getShaderInfoLog(r));
			var i = e.createShader(e.FRAGMENT_SHADER);
			if (e.shaderSource(i, t), e.compileShader(i), !e.getShaderParameter(i, e.COMPILE_STATUS)) throw new Error(
				"Fragment shader compile error for " + this.type + ": " + e.getShaderInfoLog(i));
			var o = e.createProgram();
			if (e.attachShader(o, r), e.attachShader(o, i), e.linkProgram(o), !e.getProgramParameter(o, e.LINK_STATUS)) throw new Error(
				'Shader link error for "${this.type}" ' + e.getProgramInfoLog(o));
			var a = this.getAttributeLocations(e, o),
				s = this.getUniformLocations(e, o) || {};
			return s.uStepW = e.getUniformLocation(o, "uStepW"), s.uStepH = e.getUniformLocation(o, "uStepH"), {
				program: o,
				attributeLocations: a,
				uniformLocations: s
			}
		},
		getAttributeLocations: function(e, t) {
			return {
				aPosition: e.getAttribLocation(t, "aPosition")
			}
		},
		getUniformLocations: function() {
			return {}
		},
		sendAttributeData: function(e, t, n) {
			var r = t.aPostion,
				i = e.createBuffer();
			e.bindBuffer(e.ARRAY_BUFFER, i), e.enableVertexAttribArray(r), e.vertexAttribPointer(r, 2, e.FLOAT, !1, 0, 0), e.bufferData(
				e.ARRAY_BUFFER, n, e.STATIC_DRAW)
		},
		_setupFrameBuffer: function(e) {
			var t, n, r = e.context;
			1 < e.passes ? (t = e.destinationWidth, n = e.destinationHeight, e.sourceWidth === t && e.sourceHeight === n || (r
				.deleteTexture(e.targetTexture), e.targetTexture = e.filterBackend.createTexture(r, t, n)), r.framebufferTexture2D(
				r.FRAMEBUFFER, r.COLOR_ATTACHMENT0, r.TEXTURE_2D, e.targetTexture, 0)) : (r.bindFramebuffer(r.FRAMEBUFFER, null),
				r.finish())
		},
		_swapTextures: function(e) {
			e.passes--, e.pass++;
			var t = e.targetTexture;
			e.targetTexture = e.sourceTexture, e.sourceTexture = t
		},
		isNeutralState: function() {
			return !1
		},
		applyTo: function(e) {
			if (e.webgl) {
				if (1 < e.passes && this.isNeutralState(e)) return;
				this._setupFrameBuffer(e), this.applyToWebGL(e), this._swapTextures(e)
			} else this.isNeutralState() || this.applyTo2d(e)
		},
		retrieveShader: function(e) {
			return e.programCache.hasOwnProperty(this.type) || (e.programCache[this.type] = this.createProgram(e.context)), e.programCache[
				this.type]
		},
		applyToWebGL: function(e) {
			var t = e.context,
				n = this.retrieveShader(e);
			0 === e.pass && e.originalTexture ? t.bindTexture(t.TEXTURE_2D, e.originalTexture) : t.bindTexture(t.TEXTURE_2D, e
				.sourceTexture), t.useProgram(n.program), this.sendAttributeData(t, n.attributeLocations, e.aPosition), t.uniform1f(
				n.uniformLocations.uStepW, 1 / e.sourceWidth), t.uniform1f(n.uniformLocations.uStepH, 1 / e.sourceHeight), this.sendUniformData(
				t, n.uniformLocations), t.viewport(0, 0, e.destinationWidth, e.destinationHeight), t.drawArrays(t.TRIANGLE_STRIP,
				0, 4)
		},
		bindAdditionalTexture: function(e, t, n) {
			e.activeTexture(n), e.bindTexture(e.TEXTURE_2D, t), e.activeTexture(e.TEXTURE0)
		},
		unbindAdditionalTexture: function(e, t) {
			e.activeTexture(t), e.bindTexture(e.TEXTURE_2D, null), e.activeTexture(e.TEXTURE0)
		},
		getMainParameter: function() {
			return this[this.mainParameter]
		},
		setMainParameter: function(e) {
			this[this.mainParameter] = e
		},
		sendUniformData: function() {},
		createHelpLayer: function(e) {
			if (!e.helpLayer) {
				var t = document.createElement("canvas");
				t.width = e.sourceWidth, t.height = e.sourceHeight, e.helpLayer = t
			}
		},
		toObject: function() {
			var e = {
					type: this.type
				},
				t = this.mainParameter;
			return t && (e[t] = this[t]), e
		},
		toJSON: function() {
			return this.toObject()
		}
	}), fabric.Image.filters.BaseFilter.fromObject = function(e, t) {
		var n = new fabric.Image.filters[e.type](e);
		return t && t(n), n
	},
	function(e) {
		"use strict";
		var t = e.fabric || (e.fabric = {}),
			n = t.Image.filters,
			r = t.util.createClass;
		n.ColorMatrix = r(n.BaseFilter, {
			type: "ColorMatrix",
			fragmentSource: "precision highp float;\nuniform sampler2D uTexture;\nvarying vec2 vTexCoord;\nuniform mat4 uColorMatrix;\nuniform vec4 uConstants;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ncolor *= uColorMatrix;\ncolor += uConstants;\ngl_FragColor = color;\n}",
			matrix: [1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0],
			mainParameter: "matrix",
			colorsOnly: !0,
			initialize: function(e) {
				this.callSuper("initialize", e), this.matrix = this.matrix.slice(0)
			},
			isNeutralState: function() {
				for (var e = n.ColorMatrix, t = 20; t--;)
					if (this.matrix[t] !== e.prototype.matrix[t]) return !1;
				return !0
			},
			applyTo2d: function(e) {
				var t, n, r, i, o, a = e.imageData.data,
					s = a.length,
					l = this.matrix,
					c = this.colorsOnly;
				for (o = 0; s > o; o += 4) t = a[o], n = a[o + 1], r = a[o + 2], c ? (a[o] = t * l[0] + n * l[1] + r * l[2] +
					255 * l[4], a[o + 1] = t * l[5] + n * l[6] + r * l[7] + 255 * l[9], a[o + 2] = t * l[10] + n * l[11] + r * l[
						12] + 255 * l[14]) : (i = a[o + 3], a[o] = t * l[0] + n * l[1] + r * l[2] + i * l[3] + 255 * l[4], a[o + 1] =
					t * l[5] + n * l[6] + r * l[7] + i * l[8] + 255 * l[9], a[o + 2] = t * l[10] + n * l[11] + r * l[12] + i * l[
						13] + 255 * l[14], a[o + 3] = t * l[15] + n * l[16] + r * l[17] + i * l[18] + 255 * l[19])
			},
			getUniformLocations: function(e, t) {
				return {
					uColorMatrix: e.getUniformLocation(t, "uColorMatrix"),
					uConstants: e.getUniformLocation(t, "uConstants")
				}
			},
			sendUniformData: function(e, t) {
				var n = this.matrix,
					r = [n[0], n[1], n[2], n[3], n[5], n[6], n[7], n[8], n[10], n[11], n[12], n[13], n[15], n[16], n[17], n[18]],
					i = [n[4], n[9], n[14], n[19]];
				e.uniformMatrix4fv(t.uColorMatrix, !1, r), e.uniform4fv(t.uConstants, i)
			}
		}), t.Image.filters.ColorMatrix.fromObject = t.Image.filters.BaseFilter.fromObject
	}("undefined" != typeof exports ? exports : this),
	function(e) {
		"use strict";
		var t = e.fabric || (e.fabric = {}),
			n = t.Image.filters,
			r = t.util.createClass;
		n.Brightness = r(n.BaseFilter, {
			type: "Brightness",
			fragmentSource: "precision highp float;\nuniform sampler2D uTexture;\nuniform float uBrightness;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ncolor.rgb += uBrightness;\ngl_FragColor = color;\n}",
			brightness: 0,
			mainParameter: "brightness",
			applyTo2d: function(e) {
				if (0 !== this.brightness) {
					var t, n = e.imageData.data,
						r = n.length,
						i = Math.round(255 * this.brightness);
					for (t = 0; r > t; t += 4) n[t] = n[t] + i, n[t + 1] = n[t + 1] + i, n[t + 2] = n[t + 2] + i
				}
			},
			getUniformLocations: function(e, t) {
				return {
					uBrightness: e.getUniformLocation(t, "uBrightness")
				}
			},
			sendUniformData: function(e, t) {
				e.uniform1f(t.uBrightness, this.brightness)
			}
		}), t.Image.filters.Brightness.fromObject = t.Image.filters.BaseFilter.fromObject
	}("undefined" != typeof exports ? exports : this),
	function(e) {
		"use strict";
		var t = e.fabric || (e.fabric = {}),
			n = t.util.object.extend,
			r = t.Image.filters,
			i = t.util.createClass;
		r.Convolute = i(r.BaseFilter, {
			type: "Convolute",
			opaque: !1,
			matrix: [0, 0, 0, 0, 1, 0, 0, 0, 0],
			fragmentSource: {
				Convolute_3_1: "precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[9];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 3.0; h+=1.0) {\nfor (float w = 0.0; w < 3.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];\n}\n}\ngl_FragColor = color;\n}",
				Convolute_3_0: "precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[9];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 3.0; h+=1.0) {\nfor (float w = 0.0; w < 3.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}",
				Convolute_5_1: "precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[25];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 5.0; h+=1.0) {\nfor (float w = 0.0; w < 5.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];\n}\n}\ngl_FragColor = color;\n}",
				Convolute_5_0: "precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[25];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 5.0; h+=1.0) {\nfor (float w = 0.0; w < 5.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}",
				Convolute_7_1: "precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[49];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 7.0; h+=1.0) {\nfor (float w = 0.0; w < 7.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];\n}\n}\ngl_FragColor = color;\n}",
				Convolute_7_0: "precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[49];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 7.0; h+=1.0) {\nfor (float w = 0.0; w < 7.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}",
				Convolute_9_1: "precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[81];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 9.0; h+=1.0) {\nfor (float w = 0.0; w < 9.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];\n}\n}\ngl_FragColor = color;\n}",
				Convolute_9_0: "precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[81];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 9.0; h+=1.0) {\nfor (float w = 0.0; w < 9.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}"
			},
			retrieveShader: function(e) {
				var t = Math.sqrt(this.matrix.length),
					n = this.type + "_" + t + "_" + (this.opaque ? 1 : 0),
					r = this.fragmentSource[n];
				return e.programCache.hasOwnProperty(n) || (e.programCache[n] = this.createProgram(e.context, r)), e.programCache[
					n]
			},
			applyTo2d: function(e) {
				var t, n, r, i, o, a, s, l, c, u, h, f, d, p = e.imageData,
					g = p.data,
					m = this.matrix,
					v = Math.round(Math.sqrt(m.length)),
					y = Math.floor(v / 2),
					b = p.width,
					x = p.height,
					w = e.ctx.createImageData(b, x),
					S = w.data,
					_ = this.opaque ? 1 : 0;
				for (h = 0; x > h; h++)
					for (u = 0; b > u; u++) {
						for (o = 4 * (h * b + u), d = i = r = n = t = 0; v > d; d++)
							for (f = 0; v > f; f++) a = u + f - y, (s = h + d - y) < 0 || s > x || 0 > a || a > b || (l = 4 * (s * b + a),
								c = m[d * v + f], t += g[l] * c, n += g[l + 1] * c, r += g[l + 2] * c, _ || (i += g[l + 3] * c));
						S[o] = t, S[o + 1] = n, S[o + 2] = r, S[o + 3] = _ ? g[o + 3] : i
					}
				e.imageData = w
			},
			getUniformLocations: function(e, t) {
				return {
					uMatrix: e.getUniformLocation(t, "uMatrix"),
					uOpaque: e.getUniformLocation(t, "uOpaque"),
					uHalfSize: e.getUniformLocation(t, "uHalfSize"),
					uSize: e.getUniformLocation(t, "uSize")
				}
			},
			sendUniformData: function(e, t) {
				e.uniform1fv(t.uMatrix, this.matrix)
			},
			toObject: function() {
				return n(this.callSuper("toObject"), {
					opaque: this.opaque,
					matrix: this.matrix
				})
			}
		}), t.Image.filters.Convolute.fromObject = t.Image.filters.BaseFilter.fromObject
	}("undefined" != typeof exports ? exports : this),
	function(e) {
		"use strict";
		var t = e.fabric || (e.fabric = {}),
			n = t.Image.filters,
			r = t.util.createClass;
		n.Grayscale = r(n.BaseFilter, {
			type: "Grayscale",
			fragmentSource: {
				average: "precision highp float;\nuniform sampler2D uTexture;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nfloat average = (color.r + color.b + color.g) / 3.0;\ngl_FragColor = vec4(average, average, average, color.a);\n}",
				lightness: "precision highp float;\nuniform sampler2D uTexture;\nuniform int uMode;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 col = texture2D(uTexture, vTexCoord);\nfloat average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;\ngl_FragColor = vec4(average, average, average, col.a);\n}",
				luminosity: "precision highp float;\nuniform sampler2D uTexture;\nuniform int uMode;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 col = texture2D(uTexture, vTexCoord);\nfloat average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;\ngl_FragColor = vec4(average, average, average, col.a);\n}"
			},
			mode: "average",
			mainParameter: "mode",
			applyTo2d: function(e) {
				var t, n, r = e.imageData.data,
					i = r.length,
					o = this.mode;
				for (t = 0; i > t; t += 4) "average" === o ? n = (r[t] + r[t + 1] + r[t + 2]) / 3 : "lightness" === o ? n = (
					Math.min(r[t], r[t + 1], r[t + 2]) + Math.max(r[t], r[t + 1], r[t + 2])) / 2 : "luminosity" === o && (n = .21 *
					r[t] + .72 * r[t + 1] + .07 * r[t + 2]), r[t] = n, r[t + 1] = n, r[t + 2] = n
			},
			retrieveShader: function(e) {
				var t = this.type + "_" + this.mode;
				if (!e.programCache.hasOwnProperty(t)) {
					var n = this.fragmentSource[this.mode];
					e.programCache[t] = this.createProgram(e.context, n)
				}
				return e.programCache[t]
			},
			getUniformLocations: function(e, t) {
				return {
					uMode: e.getUniformLocation(t, "uMode")
				}
			},
			sendUniformData: function(e, t) {
				e.uniform1i(t.uMode, 1)
			}
		}), t.Image.filters.Grayscale.fromObject = t.Image.filters.BaseFilter.fromObject
	}("undefined" != typeof exports ? exports : this),
	function(e) {
		"use strict";
		var t = e.fabric || (e.fabric = {}),
			n = t.Image.filters,
			r = t.util.createClass;
		n.Invert = r(n.BaseFilter, {
			type: "Invert",
			fragmentSource: "precision highp float;\nuniform sampler2D uTexture;\nuniform int uInvert;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nif (uInvert == 1) {\ngl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);\n} else {\ngl_FragColor = color;\n}\n}",
			invert: !0,
			mainParameter: "invert",
			applyTo2d: function(e) {
				if (this.invert) {
					var t, n = e.imageData.data,
						r = n.length;
					for (t = 0; r > t; t += 4) n[t] = 255 - n[t], n[t + 1] = 255 - n[t + 1], n[t + 2] = 255 - n[t + 2]
				}
			},
			getUniformLocations: function(e, t) {
				return {
					uInvert: e.getUniformLocation(t, "uInvert")
				}
			},
			sendUniformData: function(e, t) {
				e.uniform1i(t.uInvert, this.invert)
			}
		}), t.Image.filters.Invert.fromObject = t.Image.filters.BaseFilter.fromObject
	}("undefined" != typeof exports ? exports : this),
	function(e) {
		"use strict";
		var t = e.fabric || (e.fabric = {}),
			n = t.util.object.extend,
			r = t.Image.filters,
			i = t.util.createClass;
		r.Noise = i(r.BaseFilter, {
			type: "Noise",
			fragmentSource: "precision highp float;\nuniform sampler2D uTexture;\nuniform float uStepH;\nuniform float uNoise;\nuniform float uSeed;\nvarying vec2 vTexCoord;\nfloat rand(vec2 co, float seed, float vScale) {\nreturn fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);\n}\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ncolor.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;\ngl_FragColor = color;\n}",
			mainParameter: "noise",
			noise: 0,
			applyTo2d: function(e) {
				if (0 !== this.noise) {
					var t, n, r = e.imageData.data,
						i = r.length,
						o = this.noise;
					for (t = 0, i = r.length; i > t; t += 4) n = (.5 - Math.random()) * o, r[t] += n, r[t + 1] += n, r[t + 2] += n
				}
			},
			getUniformLocations: function(e, t) {
				return {
					uNoise: e.getUniformLocation(t, "uNoise"),
					uSeed: e.getUniformLocation(t, "uSeed")
				}
			},
			sendUniformData: function(e, t) {
				e.uniform1f(t.uNoise, this.noise / 255), e.uniform1f(t.uSeed, Math.random())
			},
			toObject: function() {
				return n(this.callSuper("toObject"), {
					noise: this.noise
				})
			}
		}), t.Image.filters.Noise.fromObject = t.Image.filters.BaseFilter.fromObject
	}("undefined" != typeof exports ? exports : this),
	function(e) {
		"use strict";
		var t = e.fabric || (e.fabric = {}),
			n = t.Image.filters,
			r = t.util.createClass;
		n.Pixelate = r(n.BaseFilter, {
			type: "Pixelate",
			blocksize: 4,
			mainParameter: "blocksize",
			fragmentSource: "precision highp float;\nuniform sampler2D uTexture;\nuniform float uBlocksize;\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nfloat blockW = uBlocksize * uStepW;\nfloat blockH = uBlocksize * uStepW;\nint posX = int(vTexCoord.x / blockW);\nint posY = int(vTexCoord.y / blockH);\nfloat fposX = float(posX);\nfloat fposY = float(posY);\nvec2 squareCoords = vec2(fposX * blockW, fposY * blockH);\nvec4 color = texture2D(uTexture, squareCoords);\ngl_FragColor = color;\n}",
			applyTo2d: function(e) {
				if (1 !== this.blocksize) {
					var t, n, r, i, o, a, s, l, c, u, h, f = e.imageData,
						d = f.data,
						p = f.height,
						g = f.width;
					for (n = 0; p > n; n += this.blocksize)
						for (r = 0; g > r; r += this.blocksize)
							for (i = d[t = 4 * n * g + 4 * r], o = d[t + 1], a = d[t + 2], s = d[t + 3], u = Math.min(n + this.blocksize,
									p), h = Math.min(r + this.blocksize, g), l = n; u > l; l++)
								for (c = r; h > c; c++) d[t = 4 * l * g + 4 * c] = i, d[t + 1] = o, d[t + 2] = a, d[t + 3] = s
				}
			},
			isNeutralState: function() {
				return 1 === this.blocksize
			},
			getUniformLocations: function(e, t) {
				return {
					uBlocksize: e.getUniformLocation(t, "uBlocksize"),
					uStepW: e.getUniformLocation(t, "uStepW"),
					uStepH: e.getUniformLocation(t, "uStepH")
				}
			},
			sendUniformData: function(e, t) {
				e.uniform1f(t.uBlocksize, this.blocksize)
			}
		}), t.Image.filters.Pixelate.fromObject = t.Image.filters.BaseFilter.fromObject
	}("undefined" != typeof exports ? exports : this),
	function(e) {
		"use strict";
		var t = e.fabric || (e.fabric = {}),
			n = t.util.object.extend,
			r = t.Image.filters,
			i = t.util.createClass;
		r.RemoveColor = i(r.BaseFilter, {
			type: "RemoveColor",
			color: "#FFFFFF",
			fragmentSource: "precision highp float;\nuniform sampler2D uTexture;\nuniform vec4 uLow;\nuniform vec4 uHigh;\nvarying vec2 vTexCoord;\nvoid main() {\ngl_FragColor = texture2D(uTexture, vTexCoord);\nif(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {\ngl_FragColor.a = 0.0;\n}\n}",
			distance: .02,
			useAlpha: !1,
			applyTo2d: function(e) {
				var n, r, i, o, a = e.imageData.data,
					s = 255 * this.distance,
					l = new t.Color(this.color).getSource(),
					c = [l[0] - s, l[1] - s, l[2] - s],
					u = [l[0] + s, l[1] + s, l[2] + s];
				for (n = 0; n < a.length; n += 4) r = a[n], i = a[n + 1], o = a[n + 2], c[0] < r && c[1] < i && c[2] < o && r <
					u[0] && i < u[1] && o < u[2] && (a[n + 3] = 0)
			},
			getUniformLocations: function(e, t) {
				return {
					uLow: e.getUniformLocation(t, "uLow"),
					uHigh: e.getUniformLocation(t, "uHigh")
				}
			},
			sendUniformData: function(e, n) {
				var r = new t.Color(this.color).getSource(),
					i = parseFloat(this.distance),
					o = [0 + r[0] / 255 - i, 0 + r[1] / 255 - i, 0 + r[2] / 255 - i, 1],
					a = [r[0] / 255 + i, r[1] / 255 + i, r[2] / 255 + i, 1];
				e.uniform4fv(n.uLow, o), e.uniform4fv(n.uHigh, a)
			},
			toObject: function() {
				return n(this.callSuper("toObject"), {
					color: this.color,
					distance: this.distance
				})
			}
		}), t.Image.filters.RemoveColor.fromObject = t.Image.filters.BaseFilter.fromObject
	}("undefined" != typeof exports ? exports : this),
	function(e) {
		"use strict";
		var t = e.fabric || (e.fabric = {}),
			n = t.Image.filters,
			r = t.util.createClass,
			i = {
				Brownie: [.5997, .34553, -.27082, 0, .186, -.0377, .86095, .15059, 0, -.1449, .24113, -.07441, .44972, 0, -.02965,
					0, 0, 0, 1, 0
				],
				Vintage: [.62793, .32021, -.03965, 0, .03784, .02578, .64411, .03259, 0, .02926, .0466, -.08512, .52416, 0, .02023,
					0, 0, 0, 1, 0
				],
				Kodachrome: [1.12855, -.39673, -.03992, 0, .24991, -.16404, 1.08352, -.05498, 0, .09698, -.16786, -.56034, 1.60148,
					0, .13972, 0, 0, 0, 1, 0
				],
				Technicolor: [1.91252, -.85453, -.09155, 0, .04624, -.30878, 1.76589, -.10601, 0, -.27589, -.2311, -.75018, 1.84759,
					0, .12137, 0, 0, 0, 1, 0
				],
				Polaroid: [1.438, -.062, -.062, 0, 0, -.122, 1.378, -.122, 0, 0, -.016, -.016, 1.483, 0, 0, 0, 0, 0, 1, 0],
				Sepia: [.393, .769, .189, 0, 0, .349, .686, .168, 0, 0, .272, .534, .131, 0, 0, 0, 0, 0, 1, 0],
				BlackWhite: [1.5, 1.5, 1.5, 0, -1, 1.5, 1.5, 1.5, 0, -1, 1.5, 1.5, 1.5, 0, -1, 0, 0, 0, 1, 0]
			};
		for (var o in i) n[o] = r(n.ColorMatrix, {
			type: o,
			matrix: i[o],
			mainParameter: !1,
			colorsOnly: !0
		}), t.Image.filters[o].fromObject = t.Image.filters.BaseFilter.fromObject
	}("undefined" != typeof exports ? exports : this),
	function(e) {
		"use strict";
		var t = e.fabric,
			n = t.Image.filters,
			r = t.util.createClass;
		n.BlendColor = r(n.BaseFilter, {
			type: "BlendColor",
			color: "#F95C63",
			mode: "multiply",
			alpha: 1,
			fragmentSource: {
				multiply: "precision highp float;\nuniform sampler2D uTexture;\nuniform vec4 uColor;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ncolor.rgb *= uColor.rgb;\ngl_FragColor = color;\n}",
				screen: "precision highp float;\nuniform sampler2D uTexture;\nuniform vec4 uColor;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ncolor.rgb = 1.0 - (1.0 - color.rgb) * (1.0 - uColor.rgb);\ngl_FragColor = color;\n}",
				add: "precision highp float;\nuniform sampler2D uTexture;\nuniform vec4 uColor;\nvarying vec2 vTexCoord;\nvoid main() {\ngl_FragColor = texture2D(uTexture, vTexCoord);\ngl_FragColor.rgb += uColor.rgb;\n}",
				diff: "precision highp float;\nuniform sampler2D uTexture;\nuniform vec4 uColor;\nvarying vec2 vTexCoord;\nvoid main() {\ngl_FragColor = texture2D(uTexture, vTexCoord);\ngl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);\n}",
				subtract: "precision highp float;\nuniform sampler2D uTexture;\nuniform vec4 uColor;\nvarying vec2 vTexCoord;\nvoid main() {\ngl_FragColor = texture2D(uTexture, vTexCoord);\ngl_FragColor.rgb -= uColor.rgb;\n}",
				lighten: "precision highp float;\nuniform sampler2D uTexture;\nuniform vec4 uColor;\nvarying vec2 vTexCoord;\nvoid main() {\ngl_FragColor = texture2D(uTexture, vTexCoord);\ngl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);\n}",
				darken: "precision highp float;\nuniform sampler2D uTexture;\nuniform vec4 uColor;\nvarying vec2 vTexCoord;\nvoid main() {\ngl_FragColor = texture2D(uTexture, vTexCoord);\ngl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);\n}",
				exclusion: "precision highp float;\nuniform sampler2D uTexture;\nuniform vec4 uColor;\nvarying vec2 vTexCoord;\nvoid main() {\ngl_FragColor = texture2D(uTexture, vTexCoord);\ngl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);\n}",
				overlay: "precision highp float;\nuniform sampler2D uTexture;\nuniform vec4 uColor;\nvarying vec2 vTexCoord;\nvoid main() {\ngl_FragColor = texture2D(uTexture, vTexCoord);\nif (uColor.r < 0.5) {\ngl_FragColor.r *= 2.0 * uColor.r;\n} else {\ngl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);\n}\nif (uColor.g < 0.5) {\ngl_FragColor.g *= 2.0 * uColor.g;\n} else {\ngl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);\n}\nif (uColor.b < 0.5) {\ngl_FragColor.b *= 2.0 * uColor.b;\n} else {\ngl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);\n}\n}",
				tint: "precision highp float;\nuniform sampler2D uTexture;\nuniform vec4 uColor;\nvarying vec2 vTexCoord;\nvoid main() {\ngl_FragColor = texture2D(uTexture, vTexCoord);\ngl_FragColor.rgb *= (1.0 - uColor.a);\ngl_FragColor.rgb += uColor.rgb;\n}"
			},
			retrieveShader: function(e) {
				var t = this.type + "_" + this.mode,
					n = this.fragmentSource[this.mode];
				return e.programCache.hasOwnProperty(t) || (e.programCache[t] = this.createProgram(e.context, n)), e.programCache[
					t]
			},
			applyTo2d: function(e) {
				var n, r, i, o, a, s, l, c = e.imageData.data,
					u = c.length,
					h = 1 - this.alpha;
				n = (l = new t.Color(this.color).getSource())[0] * this.alpha, r = l[1] * this.alpha, i = l[2] * this.alpha;
				for (var f = 0; u > f; f += 4) switch (o = c[f], a = c[f + 1], s = c[f + 2], this.mode) {
					case "multiply":
						c[f] = o * n / 255, c[f + 1] = a * r / 255, c[f + 2] = s * i / 255;
						break;
					case "screen":
						c[f] = 255 - (255 - o) * (255 - n) / 255, c[f + 1] = 255 - (255 - a) * (255 - r) / 255, c[f + 2] = 255 - (255 -
							s) * (255 - i) / 255;
						break;
					case "add":
						c[f] = o + n, c[f + 1] = a + r, c[f + 2] = s + i;
						break;
					case "diff":
					case "difference":
						c[f] = Math.abs(o - n), c[f + 1] = Math.abs(a - r), c[f + 2] = Math.abs(s - i);
						break;
					case "subtract":
						c[f] = o - n, c[f + 1] = a - r, c[f + 2] = s - i;
						break;
					case "darken":
						c[f] = Math.min(o, n), c[f + 1] = Math.min(a, r), c[f + 2] = Math.min(s, i);
						break;
					case "lighten":
						c[f] = Math.max(o, n), c[f + 1] = Math.max(a, r), c[f + 2] = Math.max(s, i);
						break;
					case "overlay":
						c[f] = 128 > n ? 2 * o * n / 255 : 255 - 2 * (255 - o) * (255 - n) / 255, c[f + 1] = 128 > r ? 2 * a * r /
							255 : 255 - 2 * (255 - a) * (255 - r) / 255, c[f + 2] = 128 > i ? 2 * s * i / 255 : 255 - 2 * (255 - s) * (
								255 - i) / 255;
						break;
					case "exclusion":
						c[f] = n + o - 2 * n * o / 255, c[f + 1] = r + a - 2 * r * a / 255, c[f + 2] = i + s - 2 * i * s / 255;
						break;
					case "tint":
						c[f] = n + o * h, c[f + 1] = r + a * h, c[f + 2] = i + s * h
				}
			},
			getUniformLocations: function(e, t) {
				return {
					uColor: e.getUniformLocation(t, "uColor")
				}
			},
			sendUniformData: function(e, n) {
				var r = new t.Color(this.color).getSource();
				r[0] = this.alpha * r[0] / 255, r[1] = this.alpha * r[1] / 255, r[2] = this.alpha * r[2] / 255, r[3] = this.alpha,
					e.uniform4fv(n.uColor, r)
			},
			toObject: function() {
				return {
					type: this.type,
					color: this.color,
					mode: this.mode,
					alpha: this.alpha
				}
			}
		}), t.Image.filters.BlendColor.fromObject = t.Image.filters.BaseFilter.fromObject
	}("undefined" != typeof exports ? exports : this),
	function(e) {
		"use strict";
		var t = e.fabric,
			n = t.Image.filters,
			r = t.util.createClass;
		n.BlendImage = r(n.BaseFilter, {
			type: "BlendImage",
			image: null,
			mode: "multiply",
			alpha: 1,
			vertexSource: "attribute vec2 aPosition;\nvarying vec2 vTexCoord;\nvarying vec2 vTexCoord2;\nuniform mat3 uTransformMatrix;\nvoid main() {\nvTexCoord = aPosition;\nvTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;\ngl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);\n}",
			fragmentSource: {
				multiply: "precision highp float;\nuniform sampler2D uTexture;\nuniform sampler2D uImage;\nuniform vec4 uColor;\nvarying vec2 vTexCoord;\nvarying vec2 vTexCoord2;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nvec4 color2 = texture2D(uImage, vTexCoord2);\ncolor.rgba *= color2.rgba;\ngl_FragColor = color;\n}",
				mask: "precision highp float;\nuniform sampler2D uTexture;\nuniform sampler2D uImage;\nuniform vec4 uColor;\nvarying vec2 vTexCoord;\nvarying vec2 vTexCoord2;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nvec4 color2 = texture2D(uImage, vTexCoord2);\ncolor.a = color2.a;\ngl_FragColor = color;\n}"
			},
			retrieveShader: function(e) {
				var t = this.type + "_" + this.mode,
					n = this.fragmentSource[this.mode];
				return e.programCache.hasOwnProperty(t) || (e.programCache[t] = this.createProgram(e.context, n)), e.programCache[
					t]
			},
			applyToWebGL: function(e) {
				var t = e.context,
					n = this.createTexture(e.filterBackend, this.image);
				this.bindAdditionalTexture(t, n, t.TEXTURE1), this.callSuper("applyToWebGL", e), this.unbindAdditionalTexture(t,
					t.TEXTURE1)
			},
			createTexture: function(e, t) {
				return e.getCachedTexture(t.cacheKey, t._element)
			},
			calculateMatrix: function() {
				var e = this.image,
					t = e._element.width,
					n = e._element.height;
				return [1 / e.scaleX, 0, 0, 0, 1 / e.scaleY, 0, -e.left / t, -e.top / n, 1]
			},
			applyTo2d: function(e) {
				var t, n, r, i, o, a, s, l, c, u, h, f = e.imageData,
					d = e.filterBackend.resources,
					p = f.data,
					g = p.length,
					m = e.imageData.width,
					v = e.imageData.height,
					y = this.image;
				d.blendImage || (d.blendImage = document.createElement("canvas")), (c = d.blendImage).width === m && c.height ===
					v || (c.width = m, c.height = v), (u = c.getContext("2d")).setTransform(y.scaleX, 0, 0, y.scaleY, y.left, y.top),
					u.drawImage(y._element, 0, 0, m, v), h = u.getImageData(0, 0, m, v).data;
				for (var b = 0; g > b; b += 4) switch (o = p[b], a = p[b + 1], s = p[b + 2], l = p[b + 3], t = h[b], n = h[b + 1],
					r = h[b + 2], i = h[b + 3], this.mode) {
					case "multiply":
						p[b] = o * t / 255, p[b + 1] = a * n / 255, p[b + 2] = s * r / 255, p[b + 3] = l * i / 255;
						break;
					case "mask":
						p[b + 3] = i
				}
			},
			getUniformLocations: function(e, t) {
				return {
					uTransformMatrix: e.getUniformLocation(t, "uTransformMatrix"),
					uImage: e.getUniformLocation(t, "uImage")
				}
			},
			sendUniformData: function(e, t) {
				var n = this.calculateMatrix();
				e.uniform1i(t.uImage, 1), e.uniformMatrix3fv(t.uTransformMatrix, !1, n)
			},
			toObject: function() {
				return {
					type: this.type,
					image: this.image && this.image.toObject(),
					mode: this.mode,
					alpha: this.alpha
				}
			}
		}), t.Image.filters.BlendImage.fromObject = function(e, n) {
			t.Image.fromObject(e.image, function(r) {
				var i = t.util.object.clone(e);
				i.image = r, n(new t.Image.filters.BlendImage(i))
			})
		}
	}("undefined" != typeof exports ? exports : this),
	function(e) {
		"use strict";
		var t = e.fabric || (e.fabric = {}),
			n = Math.pow,
			r = Math.floor,
			i = Math.sqrt,
			o = Math.abs,
			a = Math.round,
			s = Math.sin,
			l = Math.ceil,
			c = t.Image.filters,
			u = t.util.createClass;
		c.Resize = u(c.BaseFilter, {
			type: "Resize",
			resizeType: "hermite",
			scaleX: 0,
			scaleY: 0,
			lanczosLobes: 3,
			getUniformLocations: function(e, t) {
				return {
					uDelta: e.getUniformLocation(t, "uDelta"),
					uTaps: e.getUniformLocation(t, "uTaps")
				}
			},
			sendUniformData: function(e, t) {
				e.uniform2fv(t.uDelta, this.horizontal ? [1 / this.width, 0] : [0, 1 / this.height]), e.uniform1fv(t.uTaps, this
					.taps)
			},
			retrieveShader: function(e) {
				var t = this.getFilterWindow(),
					n = this.type + "_" + t;
				if (!e.programCache.hasOwnProperty(n)) {
					var r = this.generateShader(t);
					e.programCache[n] = this.createProgram(e.context, r)
				}
				return e.programCache[n]
			},
			getFilterWindow: function() {
				var e = this.tempScale;
				return Math.ceil(this.lanczosLobes / e)
			},
			getTaps: function() {
				for (var e = this.lanczosCreate(this.lanczosLobes), t = this.tempScale, n = this.getFilterWindow(), r = new Array(
						n), i = 1; n >= i; i++) r[i - 1] = e(i * t);
				return r
			},
			generateShader: function(e) {
				for (var t = new Array(e), n = this.fragmentSourceTOP, r = 1; e >= r; r++) t[r - 1] = r + ".0 * uDelta";
				return n += "uniform float uTaps[" + e + "];\n", n += "void main() {\n", n +=
					"  vec4 color = texture2D(uTexture, vTexCoord);\n", n += "  float sum = 1.0;\n", t.forEach(function(e, t) {
						n += "  color += texture2D(uTexture, vTexCoord + " + e + ") * uTaps[" + t + "];\n", n +=
							"  color += texture2D(uTexture, vTexCoord - " + e + ") * uTaps[" + t + "];\n", n += "  sum += 2.0 * uTaps[" +
							t + "];\n"
					}), n += "  gl_FragColor = color / sum;\n", n += "}"
			},
			fragmentSourceTOP: "precision highp float;\nuniform sampler2D uTexture;\nuniform vec2 uDelta;\nvarying vec2 vTexCoord;\n",
			applyTo: function(e) {
				if (e.webgl) {
					if (1 < e.passes && this.isNeutralState(e)) return;
					e.passes++, this.width = e.sourceWidth, this.horizontal = !0, this.dW = Math.round(this.width * this.scaleX),
						this.dH = e.sourceHeight, this.tempScale = this.dW / this.width, this.taps = this.getTaps(), e.destinationWidth =
						this.dW, this._setupFrameBuffer(e), this.applyToWebGL(e), this._swapTextures(e), e.sourceWidth = e.destinationWidth,
						this.height = e.sourceHeight, this.horizontal = !1, this.dH = Math.round(this.height * this.scaleY), this.tempScale =
						this.dH / this.height, this.taps = this.getTaps(), e.destinationHeight = this.dH, this._setupFrameBuffer(e),
						this.applyToWebGL(e), this._swapTextures(e), e.sourceHeight = e.destinationHeight
				} else this.isNeutralState(e) || this.applyTo2d(e)
			},
			isNeutralState: function(e) {
				var t = e.scaleX || this.scaleX,
					n = e.scaleY || this.scaleY;
				return 1 === t && 1 === n
			},
			lanczosCreate: function(e) {
				return function(t) {
					if (t >= e || -e >= t) return 0;
					if (1.1920929e-7 > t && t > -1.1920929e-7) return 1;
					var n = (t *= Math.PI) / e;
					return s(t) / t * s(n) / n
				}
			},
			applyTo2d: function(e) {
				var t = e.imageData,
					n = this.scaleX,
					r = this.scaleY;
				this.rcpScaleX = 1 / n, this.rcpScaleY = 1 / r;
				var i, o = t.width,
					s = t.height,
					l = a(o * n),
					c = a(s * r);
				"sliceHack" === this.resizeType ? i = this.sliceByTwo(e, o, s, l, c) : "hermite" === this.resizeType ? i = this.hermiteFastResize(
						e, o, s, l, c) : "bilinear" === this.resizeType ? i = this.bilinearFiltering(e, o, s, l, c) : "lanczos" ===
					this.resizeType && (i = this.lanczosResize(e, o, s, l, c)), e.imageData = i
			},
			sliceByTwo: function(e, n, i, o, a) {
				var s, l, c = e.imageData,
					u = !1,
					h = !1,
					f = .5 * n,
					d = .5 * i,
					p = t.filterBackend.resources,
					g = 0,
					m = 0,
					v = n,
					y = 0;
				for (p.sliceByTwo || (p.sliceByTwo = document.createElement("canvas")), ((s = p.sliceByTwo).width < 1.5 * n || s
						.height < i) && (s.width = 1.5 * n, s.height = i), (l = s.getContext("2d")).clearRect(0, 0, 1.5 * n, i), l.putImageData(
						c, 0, 0), o = r(o), a = r(a); !u || !h;) i = d, o < r(.5 * (n = f)) ? f = r(.5 * f) : (f = o, u = !0), a < r(
					.5 * d) ? d = r(.5 * d) : (d = a, h = !0), l.drawImage(s, g, m, n, i, v, y, f, d), g = v, m = y, y += d;
				return l.getImageData(g, m, o, a)
			},
			lanczosResize: function(e, t, a, s, c) {
				var u = e.imageData.data,
					h = e.ctx.createImageData(s, c),
					f = h.data,
					d = this.lanczosCreate(this.lanczosLobes),
					p = this.rcpScaleX,
					g = this.rcpScaleY,
					m = 2 / this.rcpScaleX,
					v = 2 / this.rcpScaleY,
					y = l(p * this.lanczosLobes / 2),
					b = l(g * this.lanczosLobes / 2),
					x = {},
					w = {},
					S = {};
				return function _(e) {
					var l, T, C, E, O, k, R, D, A, I, M;
					for (w.x = (e + .5) * p, S.x = r(w.x), l = 0; c > l; l++) {
						for (w.y = (l + .5) * g, S.y = r(w.y), A = D = R = k = O = 0, T = S.x - y; T <= S.x + y; T++)
							if (!(0 > T || T >= t)) {
								I = r(1e3 * o(T - w.x)), x[I] || (x[I] = {});
								for (var L = S.y - b; L <= S.y + b; L++) 0 > L || L >= a || (M = r(1e3 * o(L - w.y)), x[I][M] || (x[I][M] =
									d(i(n(I * m, 2) + n(M * v, 2)) / 1e3)), 0 < (C = x[I][M]) && (O += C, k += C * u[E = 4 * (L * t + T)], R +=
									C * u[E + 1], D += C * u[E + 2], A += C * u[E + 3]))
							} f[E = 4 * (l * s + e)] = k / O, f[E + 1] = R / O, f[E + 2] = D / O, f[E + 3] = A / O
					}
					return ++e < s ? _(e) : h
				}(0)
			},
			bilinearFiltering: function(e, t, n, i, o) {
				var a, s, l, c, u, h, f, d, p, g = 0,
					m = this.rcpScaleX,
					v = this.rcpScaleY,
					y = 4 * (t - 1),
					b = e.imageData.data,
					x = e.ctx.createImageData(i, o),
					w = x.data;
				for (l = 0; o > l; l++)
					for (c = 0; i > c; c++)
						for (u = m * c - (a = r(m * c)), h = v * l - (s = r(v * l)), p = 4 * (s * t + a), f = 0; 4 > f; f++) d = b[p +
								f] * (1 - u) * (1 - h) + b[p + 4 + f] * u * (1 - h) + b[p + y + f] * h * (1 - u) + b[p + y + 4 + f] * u * h,
							w[g++] = d;
				return x
			},
			hermiteFastResize: function(e, t, n, a, s) {
				for (var c = this.rcpScaleX, u = this.rcpScaleY, h = l(c / 2), f = l(u / 2), d = e.imageData.data, p = e.ctx.createImageData(
						a, s), g = p.data, m = 0; s > m; m++)
					for (var v = 0; a > v; v++) {
						for (var y = 4 * (v + m * a), b = 0, x = 0, w = 0, S = 0, _ = 0, T = 0, C = 0, E = (m + .5) * u, O = r(m * u);
							(m + 1) * u > O; O++)
							for (var k = o(E - (O + .5)) / f, R = (v + .5) * c, D = k * k, A = r(v * c);
								(v + 1) * c > A; A++) {
								var I = o(R - (A + .5)) / h,
									M = i(D + I * I);
								M > 1 && -1 > M || 0 < (b = 2 * M * M * M - 3 * M * M + 1) && (C += b * d[(I = 4 * (A + O * t)) + 3], w += b,
									d[I + 3] < 255 && (b = b * d[I + 3] / 250), S += b * d[I], _ += b * d[I + 1], T += b * d[I + 2], x += b)
							}
						g[y] = S / x, g[y + 1] = _ / x, g[y + 2] = T / x, g[y + 3] = C / w
					}
				return p
			},
			toObject: function() {
				return {
					type: this.type,
					scaleX: this.scaleX,
					scaleY: this.scaleY,
					resizeType: this.resizeType,
					lanczosLobes: this.lanczosLobes
				}
			}
		}), t.Image.filters.Resize.fromObject = t.Image.filters.BaseFilter.fromObject
	}("undefined" != typeof exports ? exports : this),
	function(e) {
		"use strict";
		var t = e.fabric || (e.fabric = {}),
			n = t.Image.filters,
			r = t.util.createClass;
		n.Contrast = r(n.BaseFilter, {
			type: "Contrast",
			fragmentSource: "precision highp float;\nuniform sampler2D uTexture;\nuniform float uContrast;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nfloat contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));\ncolor.rgb = contrastF * (color.rgb - 0.5) + 0.5;\ngl_FragColor = color;\n}",
			contrast: 0,
			mainParameter: "contrast",
			applyTo2d: function(e) {
				if (0 !== this.contrast) {
					var t, n = e.imageData.data,
						r = n.length,
						i = Math.floor(255 * this.contrast),
						o = 259 * (i + 255) / (255 * (259 - i));
					for (t = 0; r > t; t += 4) n[t] = o * (n[t] - 128) + 128, n[t + 1] = o * (n[t + 1] - 128) + 128, n[t + 2] = o *
						(n[t + 2] - 128) + 128
				}
			},
			getUniformLocations: function(e, t) {
				return {
					uContrast: e.getUniformLocation(t, "uContrast")
				}
			},
			sendUniformData: function(e, t) {
				e.uniform1f(t.uContrast, this.contrast)
			}
		}), t.Image.filters.Contrast.fromObject = t.Image.filters.BaseFilter.fromObject
	}("undefined" != typeof exports ? exports : this),
	function(e) {
		"use strict";
		var t = e.fabric || (e.fabric = {}),
			n = t.Image.filters,
			r = t.util.createClass;
		n.Saturation = r(n.BaseFilter, {
			type: "Saturation",
			fragmentSource: "precision highp float;\nuniform sampler2D uTexture;\nuniform float uSaturation;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nfloat rgMax = max(color.r, color.g);\nfloat rgbMax = max(rgMax, color.b);\ncolor.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;\ncolor.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;\ncolor.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;\ngl_FragColor = color;\n}",
			saturation: 0,
			mainParameter: "saturation",
			applyTo2d: function(e) {
				if (0 !== this.saturation) {
					var t, n, r = e.imageData.data,
						i = r.length,
						o = -this.saturation;
					for (t = 0; i > t; t += 4) n = Math.max(r[t], r[t + 1], r[t + 2]), r[t] += n !== r[t] ? (n - r[t]) * o : 0, r[t +
						1] += n !== r[t + 1] ? (n - r[t + 1]) * o : 0, r[t + 2] += n !== r[t + 2] ? (n - r[t + 2]) * o : 0
				}
			},
			getUniformLocations: function(e, t) {
				return {
					uSaturation: e.getUniformLocation(t, "uSaturation")
				}
			},
			sendUniformData: function(e, t) {
				e.uniform1f(t.uSaturation, -this.saturation)
			}
		}), t.Image.filters.Saturation.fromObject = t.Image.filters.BaseFilter.fromObject
	}("undefined" != typeof exports ? exports : this),
	function(e) {
		"use strict";
		var t = e.fabric || (e.fabric = {}),
			n = t.Image.filters,
			r = t.util.createClass;
		n.Blur = r(n.BaseFilter, {
			type: "Blur",
			fragmentSource: "precision highp float;\nuniform sampler2D uTexture;\nuniform vec2 uDelta;\nvarying vec2 vTexCoord;\nconst float nSamples = 15.0;\nvec3 v3offset = vec3(12.9898, 78.233, 151.7182);\nfloat random(vec3 scale) {\nreturn fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);\n}\nvoid main() {\nvec4 color = vec4(0.0);\nfloat total = 0.0;\nfloat offset = random(v3offset);\nfor (float t = -nSamples; t <= nSamples; t++) {\nfloat percent = (t + offset - 0.5) / nSamples;\nfloat weight = 1.0 - abs(percent);\ncolor += texture2D(uTexture, vTexCoord + uDelta * percent) * weight;\ntotal += weight;\n}\ngl_FragColor = color / total;\n}",
			blur: 0,
			mainParameter: "blur",
			applyTo: function(e) {
				e.webgl ? (this.aspectRatio = e.sourceWidth / e.sourceHeight, e.passes++, this._setupFrameBuffer(e), this.horizontal = !
					0, this.applyToWebGL(e), this._swapTextures(e), this._setupFrameBuffer(e), this.horizontal = !1, this.applyToWebGL(
						e), this._swapTextures(e)) : this.applyTo2d(e)
			},
			applyTo2d: function(e) {
				e.imageData = this.simpleBlur(e)
			},
			simpleBlur: function(e) {
				var t, n, r = e.filterBackend.resources,
					i = e.imageData.width,
					o = e.imageData.height;
				r.blurLayer1 || (r.blurLayer1 = document.createElement("canvas"), r.blurLayer2 = document.createElement("canvas")),
					t = r.blurLayer1, n = r.blurLayer2, t.width === i && t.height === o || (n.width = t.width = i, n.height = t.height =
						o);
				var a, s, l, c, u = t.getContext("2d"),
					h = n.getContext("2d"),
					f = .06 * this.blur * .5;
				for (u.putImageData(e.imageData, 0, 0), h.clearRect(0, 0, i, o), c = -15; 15 >= c; c++) l = f * (s = c / 15) * i +
					(a = (Math.random() - .5) / 4), h.globalAlpha = 1 - Math.abs(s), h.drawImage(t, l, a), u.drawImage(n, 0, 0), h.globalAlpha =
					1, h.clearRect(0, 0, n.width, n.height);
				for (c = -15; 15 >= c; c++) l = f * (s = c / 15) * o + (a = (Math.random() - .5) / 4), h.globalAlpha = 1 - Math.abs(
					s), h.drawImage(t, a, l), u.drawImage(n, 0, 0), h.globalAlpha = 1, h.clearRect(0, 0, n.width, n.height);
				e.ctx.drawImage(t, 0, 0);
				var d = e.ctx.getImageData(0, 0, t.width, t.height);
				return u.globalAlpha = 1, u.clearRect(0, 0, t.width, t.height), d
			},
			getUniformLocations: function(e, t) {
				return {
					delta: e.getUniformLocation(t, "uDelta")
				}
			},
			sendUniformData: function(e, t) {
				var n = this.chooseRightDelta();
				e.uniform2fv(t.delta, n)
			},
			chooseRightDelta: function() {
				var e, t = 1,
					n = [0, 0];
				return this.horizontal ? 1 < this.aspectRatio && (t = 1 / this.aspectRatio) : this.aspectRatio < 1 && (t = this.aspectRatio),
					e = t * this.blur * .12, this.horizontal ? n[0] = e : n[1] = e, n
			}
		}), n.Blur.fromObject = t.Image.filters.BaseFilter.fromObject
	}("undefined" != typeof exports ? exports : this),
	function(e) {
		"use strict";
		var t = e.fabric || (e.fabric = {}),
			n = t.Image.filters,
			r = t.util.createClass;
		n.Gamma = r(n.BaseFilter, {
			type: "Gamma",
			fragmentSource: "precision highp float;\nuniform sampler2D uTexture;\nuniform vec3 uGamma;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nvec3 correction = (1.0 / uGamma);\ncolor.r = pow(color.r, correction.r);\ncolor.g = pow(color.g, correction.g);\ncolor.b = pow(color.b, correction.b);\ngl_FragColor = color;\ngl_FragColor.rgb *= color.a;\n}",
			gamma: [1, 1, 1],
			mainParameter: "gamma",
			applyTo2d: function(e) {
				var t, n = e.imageData.data,
					r = this.gamma,
					i = n.length,
					o = 1 / r[0],
					a = 1 / r[1],
					s = 1 / r[2];
				for (this.rVals || (this.rVals = new Uint8Array(256), this.gVals = new Uint8Array(256), this.bVals = new Uint8Array(
						256)), t = 0, i = 256; i > t; t++) this.rVals[t] = 255 * Math.pow(t / 255, o), this.gVals[t] = 255 * Math.pow(
					t / 255, a), this.bVals[t] = 255 * Math.pow(t / 255, s);
				for (t = 0, i = n.length; i > t; t += 4) n[t] = this.rVals[n[t]], n[t + 1] = this.gVals[n[t + 1]], n[t + 2] =
					this.bVals[n[t + 2]]
			},
			getUniformLocations: function(e, t) {
				return {
					uGamma: e.getUniformLocation(t, "uGamma")
				}
			},
			sendUniformData: function(e, t) {
				e.uniform3fv(t.uGamma, this.gamma)
			}
		}), t.Image.filters.Gamma.fromObject = t.Image.filters.BaseFilter.fromObject
	}("undefined" != typeof exports ? exports : this),
	function(e) {
		"use strict";
		var t = e.fabric || (e.fabric = {}),
			n = t.Image.filters,
			r = t.util.createClass;
		n.Composed = r(n.BaseFilter, {
			type: "Composed",
			subFilters: [],
			initialize: function(e) {
				this.callSuper("initialize", e), this.subFilters = this.subFilters.slice(0)
			},
			applyTo: function(e) {
				e.passes += this.subFilters.length - 1, this.subFilters.forEach(function(t) {
					t.applyTo(e)
				})
			},
			toObject: function() {
				return t.util.object.extend(this.callSuper("toObject"), {
					subFilters: this.subFilters.map(function(e) {
						return e.toObject()
					})
				})
			}
		}), t.Image.filters.Composed.fromObject = function(e, n) {
			var r = (e.subFilters || []).map(function(e) {
					return new t.Image.filters[e.type](e)
				}),
				i = new t.Image.filters.Composed({
					subFilters: r
				});
			return n && n(i), i
		}
	}("undefined" != typeof exports ? exports : this),
	function(e) {
		"use strict";
		var t = e.fabric || (e.fabric = {}),
			n = t.Image.filters,
			r = t.util.createClass;
		n.HueRotation = r(n.ColorMatrix, {
			type: "HueRotation",
			rotation: 0,
			mainParameter: "rotation",
			calculateMatrix: function() {
				var e = this.rotation * Math.PI,
					n = t.util.cos(e),
					r = t.util.sin(e),
					i = Math.sqrt(1 / 3) * r,
					o = 1 - n;
				this.matrix = [1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0], this.matrix[0] = n + o / 3, this.matrix[
						1] = 1 / 3 * o - i, this.matrix[2] = 1 / 3 * o + i, this.matrix[5] = 1 / 3 * o + i, this.matrix[6] = n + 1 / 3 *
					o, this.matrix[7] = 1 / 3 * o - i, this.matrix[10] = 1 / 3 * o - i, this.matrix[11] = 1 / 3 * o + i, this.matrix[
						12] = n + 1 / 3 * o
			},
			applyTo: function(e) {
				this.calculateMatrix(), t.Image.filters.BaseFilter.prototype.applyTo.call(this, e)
			}
		}), t.Image.filters.HueRotation.fromObject = t.Image.filters.BaseFilter.fromObject
	}("undefined" != typeof exports ? exports : this),
	function(e) {
		"use strict";
		var t = e.fabric || (e.fabric = {}),
			n = t.util.object.clone;
		t.Text ? t.warn("fabric.Text is already defined") : (t.Text = t.util.createClass(t.Object, {
				_dimensionAffectingProps: ["fontSize", "fontWeight", "fontFamily", "fontStyle", "lineHeight", "text",
					"charSpacing", "textAlign", "styles"
				],
				_reNewline: /\r?\n/,
				_reSpacesAndTabs: /[ \t\r]/g,
				_reSpaceAndTab: /[ \t\r]/,
				_reWords: /\S+/g,
				type: "text",
				fontSize: 40,
				fontWeight: "normal",
				fontFamily: "Times New Roman",
				underline: !1,
				overline: !1,
				linethrough: !1,
				textAlign: "left",
				fontStyle: "normal",
				lineHeight: 1.16,
				superscript: {
					size: .6,
					baseline: -.35
				},
				subscript: {
					size: .6,
					baseline: .11
				},
				textBackgroundColor: "",
				stateProperties: t.Object.prototype.stateProperties.concat("fontFamily", "fontWeight", "fontSize", "text",
					"underline", "overline", "linethrough", "textAlign", "fontStyle", "lineHeight", "textBackgroundColor",
					"charSpacing", "styles"),
				cacheProperties: t.Object.prototype.cacheProperties.concat("fontFamily", "fontWeight", "fontSize", "text",
					"underline", "overline", "linethrough", "textAlign", "fontStyle", "lineHeight", "textBackgroundColor",
					"charSpacing", "styles"),
				stroke: null,
				shadow: null,
				_fontSizeFraction: .222,
				offsets: {
					underline: .1,
					linethrough: -.315,
					overline: -.88
				},
				_fontSizeMult: 1.13,
				charSpacing: 0,
				styles: null,
				_measuringContext: null,
				deltaY: 0,
				_styleProperties: ["stroke", "strokeWidth", "fill", "fontFamily", "fontSize", "fontWeight", "fontStyle",
					"underline", "overline", "linethrough", "deltaY", "textBackgroundColor"
				],
				__charBounds: [],
				CACHE_FONT_SIZE: 400,
				MIN_TEXT_WIDTH: 2,
				initialize: function(e, t) {
					this.styles = t && t.styles || {}, this.text = e, this.__skipDimension = !0, this.callSuper("initialize", t),
						this.__skipDimension = !1, this.initDimensions(), this.setCoords(), this.setupState({
							propertySet: "_dimensionAffectingProps"
						})
				},
				getMeasuringContext: function() {
					return t._measuringContext || (t._measuringContext = this.canvas && this.canvas.contextCache || t.util.createCanvasElement()
						.getContext("2d")), t._measuringContext
				},
				_splitText: function() {
					var e = this._splitTextIntoLines(this.text);
					return this.textLines = e.lines, this._textLines = e.graphemeLines, this._unwrappedTextLines = e._unwrappedLines,
						this._text = e.graphemeText, e
				},
				initDimensions: function() {
					this.__skipDimension || (this._splitText(), this._clearCache(), this.width = this.calcTextWidth() || this.cursorWidth ||
						this.MIN_TEXT_WIDTH, -1 !== this.textAlign.indexOf("justify") && this.enlargeSpaces(), this.height = this.calcTextHeight(),
						this.saveState({
							propertySet: "_dimensionAffectingProps"
						}))
				},
				enlargeSpaces: function() {
					for (var e, t, n, r, i, o, a, s = 0, l = this._textLines.length; l > s; s++)
						if (("justify" === this.textAlign || s !== l - 1 && !this.isEndOfWrapping(s)) && (r = 0, i = this._textLines[s],
								(t = this.getLineWidth(s)) < this.width && (a = this.textLines[s].match(this._reSpacesAndTabs)))) {
							n = a.length, e = (this.width - t) / n;
							for (var c = 0, u = i.length; u >= c; c++) o = this.__charBounds[s][c], this._reSpaceAndTab.test(i[c]) ? (o.width +=
								e, o.kernedWidth += e, o.left += r, r += e) : o.left += r
						}
				},
				isEndOfWrapping: function(e) {
					return e === this._textLines.length - 1
				},
				toString: function() {
					return "#<fabric.Text (" + this.complexity() + '): { "text": "' + this.text + '", "fontFamily": "' + this.fontFamily +
						'" }>'
				},
				_getCacheCanvasDimensions: function() {
					var e = this.callSuper("_getCacheCanvasDimensions"),
						t = this.fontSize;
					return e.width += t * e.zoomX, e.height += t * e.zoomY, e
				},
				_render: function(e) {
					this._setTextStyles(e), this._renderTextLinesBackground(e), this._renderTextDecoration(e, "underline"), this._renderText(
						e), this._renderTextDecoration(e, "overline"), this._renderTextDecoration(e, "linethrough")
				},
				_renderText: function(e) {
					"stroke" === this.paintFirst ? (this._renderTextStroke(e), this._renderTextFill(e)) : (this._renderTextFill(e),
						this._renderTextStroke(e))
				},
				_setTextStyles: function(e, t, n) {
					e.textBaseline = "alphabetic", e.font = this._getFontDeclaration(t, n)
				},
				calcTextWidth: function() {
					for (var e = this.getLineWidth(0), t = 1, n = this._textLines.length; n > t; t++) {
						var r = this.getLineWidth(t);
						r > e && (e = r)
					}
					return e
				},
				_renderTextLine: function(e, t, n, r, i, o) {
					this._renderChars(e, t, n, r, i, o)
				},
				_renderTextLinesBackground: function(e) {
					if (this.textBackgroundColor || this.styleHas("textBackgroundColor")) {
						for (var t, n, r, i, o, a, s = 0, l = e.fillStyle, c = this._getLeftOffset(), u = this._getTopOffset(), h = 0,
								f = 0, d = 0, p = this._textLines.length; p > d; d++)
							if (t = this.getHeightOfLine(d), this.textBackgroundColor || this.styleHas("textBackgroundColor", d)) {
								r = this._textLines[d], n = this._getLineLeftOffset(d), h = f = 0, i = this.getValueOfPropertyAt(d, 0,
									"textBackgroundColor");
								for (var g = 0, m = r.length; m > g; g++) o = this.__charBounds[d][g], (a = this.getValueOfPropertyAt(d, g,
									"textBackgroundColor")) !== i ? ((e.fillStyle = i) && e.fillRect(c + n + h, u + s, f, t / this.lineHeight),
									h = o.left, f = o.width, i = a) : f += o.kernedWidth;
								a && (e.fillStyle = a, e.fillRect(c + n + h, u + s, f, t / this.lineHeight)), s += t
							} else s += t;
						e.fillStyle = l, this._removeShadow(e)
					}
				},
				getFontCache: function(e) {
					var n = e.fontFamily.toLowerCase();
					t.charWidthsCache[n] || (t.charWidthsCache[n] = {});
					var r = t.charWidthsCache[n],
						i = e.fontStyle.toLowerCase() + "_" + (e.fontWeight + "").toLowerCase();
					return r[i] || (r[i] = {}), r[i]
				},
				_applyCharStyles: function(e, t, n, r, i) {
					this._setFillStyles(t, i), this._setStrokeStyles(t, i), t.font = this._getFontDeclaration(i)
				},
				_measureChar: function(e, t, n, r) {
					var i, o, a, s, l = this.getFontCache(t),
						c = n + e,
						u = this._getFontDeclaration(t) === this._getFontDeclaration(r),
						h = t.fontSize / this.CACHE_FONT_SIZE;
					if (n && l[n] && (a = l[n]), l[e] && (s = i = l[e]), u && l[c] && (s = (o = l[c]) - a), !i || !a || !o) {
						var f = this.getMeasuringContext();
						this._setTextStyles(f, t, !0)
					}
					return i || (s = i = f.measureText(e).width, l[e] = i), !a && u && n && (a = f.measureText(n).width, l[n] = a),
						u && !o && (o = f.measureText(c).width, s = (l[c] = o) - a), {
							width: i * h,
							kernedWidth: s * h
						}
				},
				getHeightOfChar: function(e, t) {
					return this.getValueOfPropertyAt(e, t, "fontSize")
				},
				measureLine: function(e) {
					var t = this._measureLine(e);
					return 0 !== this.charSpacing && (t.width -= this._getWidthOfCharSpacing()), t.width < 0 && (t.width = 0), t
				},
				_measureLine: function(e) {
					var t, n, r, i, o = 0,
						a = this._textLines[e],
						s = new Array(a.length);
					for (this.__charBounds[e] = s, t = 0; t < a.length; t++) n = a[t], i = this._getGraphemeBox(n, e, t, r), o += (
						s[t] = i).kernedWidth, r = n;
					return s[t] = {
						left: i ? i.left + i.width : 0,
						width: 0,
						kernedWidth: 0,
						height: this.fontSize
					}, {
						width: o,
						numOfSpaces: 0
					}
				},
				_getGraphemeBox: function(e, t, n, r, i) {
					var o, a = this.getCompleteStyleDeclaration(t, n),
						s = r ? this.getCompleteStyleDeclaration(t, n - 1) : {},
						l = this._measureChar(e, a, r, s),
						c = l.kernedWidth,
						u = l.width;
					0 !== this.charSpacing && (u += o = this._getWidthOfCharSpacing(), c += o);
					var h = {
						width: u,
						left: 0,
						height: a.fontSize,
						kernedWidth: c,
						deltaY: a.deltaY
					};
					if (n > 0 && !i) {
						var f = this.__charBounds[t][n - 1];
						h.left = f.left + f.width + l.kernedWidth - l.width
					}
					return h
				},
				getHeightOfLine: function(e) {
					if (this.__lineHeights[e]) return this.__lineHeights[e];
					for (var t = this._textLines[e], n = this.getHeightOfChar(e, 0), r = 1, i = t.length; i > r; r++) n = Math.max(
						this.getHeightOfChar(e, r), n);
					return this.__lineHeights[e] = n * this.lineHeight * this._fontSizeMult
				},
				calcTextHeight: function() {
					for (var e, t = 0, n = 0, r = this._textLines.length; r > n; n++) e = this.getHeightOfLine(n), t += n === r - 1 ?
						e / this.lineHeight : e;
					return t
				},
				_getLeftOffset: function() {
					return -this.width / 2
				},
				_getTopOffset: function() {
					return -this.height / 2
				},
				_renderTextCommon: function(e, t) {
					e.save();
					for (var n = 0, r = this._getLeftOffset(), i = this._getTopOffset(), o = this._applyPatternGradientTransform(e,
							"fillText" === t ? this.fill : this.stroke), a = 0, s = this._textLines.length; s > a; a++) {
						var l = this.getHeightOfLine(a),
							c = l / this.lineHeight,
							u = this._getLineLeftOffset(a);
						this._renderTextLine(t, e, this._textLines[a], r + u - o.offsetX, i + n + c - o.offsetY, a), n += l
					}
					e.restore()
				},
				_renderTextFill: function(e) {
					(this.fill || this.styleHas("fill")) && this._renderTextCommon(e, "fillText")
				},
				_renderTextStroke: function(e) {
					(this.stroke && 0 !== this.strokeWidth || !this.isEmptyStyles()) && (this.shadow && !this.shadow.affectStroke &&
						this._removeShadow(e), e.save(), this._setLineDash(e, this.strokeDashArray), e.beginPath(), this._renderTextCommon(
							e, "strokeText"), e.closePath(), e.restore())
				},
				_renderChars: function(e, t, n, r, i, o) {
					var a, s, l, c, u = this.getHeightOfLine(o),
						h = -1 !== this.textAlign.indexOf("justify"),
						f = "",
						d = 0,
						p = !h && 0 === this.charSpacing && this.isEmptyStyles(o);
					if (t.save(), i -= u * this._fontSizeFraction / this.lineHeight, p) return this._renderChar(e, t, o, 0, this.textLines[
						o], r, i, u), void t.restore();
					for (var g = 0, m = n.length - 1; m >= g; g++) c = g === m || this.charSpacing, f += n[g], l = this.__charBounds[
							o][g], 0 === d ? (r += l.kernedWidth - l.width, d += l.width) : d += l.kernedWidth, h && !c && this._reSpaceAndTab
						.test(n[g]) && (c = !0), c || (a = a || this.getCompleteStyleDeclaration(o, g), s = this.getCompleteStyleDeclaration(
							o, g + 1), c = this._hasStyleChanged(a, s)), c && (this._renderChar(e, t, o, g, f, r, i, u), f = "", a = s, r +=
							d, d = 0);
					t.restore()
				},
				_renderChar: function(e, t, n, r, i, o, a) {
					var s = this._getStyleDeclaration(n, r),
						l = this.getCompleteStyleDeclaration(n, r),
						c = "fillText" === e && l.fill,
						u = "strokeText" === e && l.stroke && l.strokeWidth;
					(u || c) && (s && t.save(), this._applyCharStyles(e, t, n, r, l), s && s.textBackgroundColor && this._removeShadow(
						t), s && s.deltaY && (a += s.deltaY), c && t.fillText(i, o, a), u && t.strokeText(i, o, a), s && t.restore())
				},
				setSuperscript: function(e, t) {
					return this._setScript(e, t, this.superscript)
				},
				setSubscript: function(e, t) {
					return this._setScript(e, t, this.subscript)
				},
				_setScript: function(e, t, n) {
					var r = this.get2DCursorLocation(e, !0),
						i = this.getValueOfPropertyAt(r.lineIndex, r.charIndex, "fontSize"),
						o = this.getValueOfPropertyAt(r.lineIndex, r.charIndex, "deltaY"),
						a = {
							fontSize: i * n.size,
							deltaY: o + i * n.baseline
						};
					return this.setSelectionStyles(a, e, t), this
				},
				_hasStyleChanged: function(e, t) {
					return e.fill !== t.fill || e.stroke !== t.stroke || e.strokeWidth !== t.strokeWidth || e.fontSize !== t.fontSize ||
						e.fontFamily !== t.fontFamily || e.fontWeight !== t.fontWeight || e.fontStyle !== t.fontStyle || e.deltaY !==
						t.deltaY
				},
				_hasStyleChangedForSvg: function(e, t) {
					return this._hasStyleChanged(e, t) || e.overline !== t.overline || e.underline !== t.underline || e.linethrough !==
						t.linethrough
				},
				_getLineLeftOffset: function(e) {
					var t = this.getLineWidth(e);
					return "center" === this.textAlign ? (this.width - t) / 2 : "right" === this.textAlign ? this.width - t :
						"justify-center" === this.textAlign && this.isEndOfWrapping(e) ? (this.width - t) / 2 : "justify-right" ===
						this.textAlign && this.isEndOfWrapping(e) ? this.width - t : 0
				},
				_clearCache: function() {
					this.__lineWidths = [], this.__lineHeights = [], this.__charBounds = []
				},
				_shouldClearDimensionCache: function() {
					var e = this._forceClearCache;
					return e || (e = this.hasStateChanged("_dimensionAffectingProps")), e && (this.dirty = !0, this._forceClearCache = !
						1), e
				},
				getLineWidth: function(e) {
					return this.__lineWidths[e] ? this.__lineWidths[e] : (t = "" === this._textLines[e] ? 0 : this.measureLine(e).width,
						this.__lineWidths[e] = t);
					var t
				},
				_getWidthOfCharSpacing: function() {
					return 0 !== this.charSpacing ? this.fontSize * this.charSpacing / 1e3 : 0
				},
				getValueOfPropertyAt: function(e, t, n) {
					var r = this._getStyleDeclaration(e, t);
					return r && void 0 !== r[n] ? r[n] : this[n]
				},
				_renderTextDecoration: function(e, t) {
					if (this[t] || this.styleHas(t)) {
						for (var n, r, i, o, a, s, l, c, u, h, f, d, p, g, m, v, y = this._getLeftOffset(), b = this._getTopOffset(),
								x = 0, w = this._textLines.length; w > x; x++)
							if (n = this.getHeightOfLine(x), this[t] || this.styleHas(t, x)) {
								l = this._textLines[x], g = n / this.lineHeight, o = this._getLineLeftOffset(x), f = h = 0, c = this.getValueOfPropertyAt(
									x, 0, t), v = this.getValueOfPropertyAt(x, 0, "fill"), u = b + g * (1 - this._fontSizeFraction), r = this.getHeightOfChar(
									x, 0), a = this.getValueOfPropertyAt(x, 0, "deltaY");
								for (var S = 0, _ = l.length; _ > S; S++) d = this.__charBounds[x][S], p = this.getValueOfPropertyAt(x, S, t),
									m = this.getValueOfPropertyAt(x, S, "fill"), i = this.getHeightOfChar(x, S), s = this.getValueOfPropertyAt(
										x, S, "deltaY"), (p !== c || m !== v || i !== r || s !== a) && f > 0 ? (e.fillStyle = v, c && v && e.fillRect(
											y + o + h, u + this.offsets[t] * r + a, f, this.fontSize / 15), h = d.left, f = d.width, c = p, v = m, r =
										i, a = s) : f += d.kernedWidth;
								e.fillStyle = m, p && m && e.fillRect(y + o + h, u + this.offsets[t] * r + a, f, this.fontSize / 15), b += n
							} else b += n;
						this._removeShadow(e)
					}
				},
				_getFontDeclaration: function(e, n) {
					var r = e || this,
						i = void 0 === r.fontFamily || -1 < r.fontFamily.indexOf("'") || -1 < r.fontFamily.indexOf('"') ? r.fontFamily :
						'"' + r.fontFamily + '"';
					return [t.isLikelyNode ? r.fontWeight : r.fontStyle, t.isLikelyNode ? r.fontStyle : r.fontWeight, n ? this.CACHE_FONT_SIZE +
						"px" : r.fontSize + "px", i
					].join(" ")
				},
				render: function(e) {
					this.visible && (this.canvas && this.canvas.skipOffscreen && !this.group && !this.isOnScreen() || (this._shouldClearDimensionCache() &&
						this.initDimensions(), this.callSuper("render", e)))
				},
				_splitTextIntoLines: function(e) {
					for (var n = e.split(this._reNewline), r = new Array(n.length), i = ["\n"], o = [], a = 0; a < n.length; a++) r[
						a] = t.util.string.graphemeSplit(n[a]), o = o.concat(r[a], i);
					return o.pop(), {
						_unwrappedLines: r,
						lines: n,
						graphemeText: o,
						graphemeLines: r
					}
				},
				toObject: function(e) {
					var t = ["text", "fontSize", "fontWeight", "fontFamily", "fontStyle", "lineHeight", "underline", "overline",
							"linethrough", "textAlign", "textBackgroundColor", "charSpacing"
						].concat(e),
						r = this.callSuper("toObject", t);
					return r.styles = n(this.styles, !0), r
				},
				set: function(e, t) {
					this.callSuper("set", e, t);
					var n = !1;
					if ("object" == typeof e)
						for (var r in e) n = n || -1 !== this._dimensionAffectingProps.indexOf(r);
					else n = -1 !== this._dimensionAffectingProps.indexOf(e);
					return n && (this.initDimensions(), this.setCoords()), this
				},
				complexity: function() {
					return 1
				}
			}), t.Text.ATTRIBUTE_NAMES = t.SHARED_ATTRIBUTES.concat(
				"x y dx dy font-family font-style font-weight font-size text-decoration text-anchor".split(" ")), t.Text.DEFAULT_SVG_FONT_SIZE =
			16, t.Text.fromElement = function(e, r, i) {
				if (!e) return r(null);
				var o = t.parseAttributes(e, t.Text.ATTRIBUTE_NAMES),
					a = o.textAnchor || "left";
				if ((i = t.util.object.extend(i ? n(i) : {}, o)).top = i.top || 0, i.left = i.left || 0, o.textDecoration) {
					var s = o.textDecoration; - 1 !== s.indexOf("underline") && (i.underline = !0), -1 !== s.indexOf("overline") && (
						i.overline = !0), -1 !== s.indexOf("line-through") && (i.linethrough = !0), delete i.textDecoration
				}
				"dx" in o && (i.left += o.dx), "dy" in o && (i.top += o.dy), "fontSize" in i || (i.fontSize = t.Text.DEFAULT_SVG_FONT_SIZE);
				var l = "";
				"textContent" in e ? l = e.textContent : "firstChild" in e && null !== e.firstChild && "data" in e.firstChild &&
					null !== e.firstChild.data && (l = e.firstChild.data), l = l.replace(/^\s+|\s+$|\n+/g, "").replace(/\s+/g, " ");
				var c = new t.Text(l, i),
					u = c.getScaledHeight() / c.height,
					h = ((c.height + c.strokeWidth) * c.lineHeight - c.height) * u,
					f = c.getScaledHeight() + h,
					d = 0;
				"center" === a && (d = c.getScaledWidth() / 2), "right" === a && (d = c.getScaledWidth()), c.set({
					left: c.left - d,
					top: c.top - (f - c.fontSize * (.18 + c._fontSizeFraction)) / c.lineHeight
				}), r(c)
			}, t.Text.fromObject = function(e, n) {
				return t.Object._fromObject("Text", e, n, "text")
			}, t.util.createAccessors && t.util.createAccessors(t.Text))
	}("undefined" != typeof exports ? exports : this), fabric.util.object.extend(fabric.Text.prototype, {
		isEmptyStyles: function(e) {
			if (!this.styles) return !0;
			if (void 0 !== e && !this.styles[e]) return !0;
			var t = void 0 === e ? this.styles : {
				line: this.styles[e]
			};
			for (var n in t)
				for (var r in t[n])
					for (var i in t[n][r]) return !1;
			return !0
		},
		styleHas: function(e, t) {
			if (!this.styles || !e || "" === e) return !1;
			if (void 0 !== t && !this.styles[t]) return !1;
			var n = void 0 === t ? this.styles : {
				line: this.styles[t]
			};
			for (var r in n)
				for (var i in n[r])
					if (void 0 !== n[r][i][e]) return !0;
			return !1
		},
		cleanStyle: function(e) {
			if (!this.styles || !e || "" === e) return !1;
			var t, n, r = this.styles,
				i = 0,
				o = !0,
				a = 0;
			for (var s in r) {
				for (var l in t = 0, r[s]) {
					var c;
					i++, (c = r[s][l]).hasOwnProperty(e) ? (n ? c[e] !== n && (o = !1) : n = c[e], c[e] === this[e] && delete c[e]) :
						o = !1, 0 !== Object.keys(c).length ? t++ : delete r[s][l]
				}
				0 === t && delete r[s]
			}
			for (var u = 0; u < this._textLines.length; u++) a += this._textLines[u].length;
			o && i === a && (this[e] = n, this.removeStyle(e))
		},
		removeStyle: function(e) {
			if (this.styles && e && "" !== e) {
				var t, n, r, i = this.styles;
				for (n in i) {
					for (r in t = i[n]) delete t[r][e], 0 === Object.keys(t[r]).length && delete t[r];
					0 === Object.keys(t).length && delete i[n]
				}
			}
		},
		_extendStyles: function(e, t) {
			var n = this.get2DCursorLocation(e);
			this._getLineStyle(n.lineIndex) || this._setLineStyle(n.lineIndex, {}), this._getStyleDeclaration(n.lineIndex, n.charIndex) ||
				this._setStyleDeclaration(n.lineIndex, n.charIndex, {}), fabric.util.object.extend(this._getStyleDeclaration(n.lineIndex,
					n.charIndex), t)
		},
		get2DCursorLocation: function(e, t) {
			void 0 === e && (e = this.selectionStart);
			for (var n = t ? this._unwrappedTextLines : this._textLines, r = n.length, i = 0; r > i; i++) {
				if (e <= n[i].length) return {
					lineIndex: i,
					charIndex: e
				};
				e -= n[i].length + 1
			}
			return {
				lineIndex: i - 1,
				charIndex: n[i - 1].length < e ? n[i - 1].length : e
			}
		},
		getSelectionStyles: function(e, t, n) {
			void 0 === e && (e = this.selectionStart || 0), void 0 === t && (t = this.selectionEnd || e);
			for (var r = [], i = e; t > i; i++) r.push(this.getStyleAtPosition(i, n));
			return r
		},
		getStyleAtPosition: function(e, t) {
			var n = this.get2DCursorLocation(e);
			return (t ? this.getCompleteStyleDeclaration(n.lineIndex, n.charIndex) : this._getStyleDeclaration(n.lineIndex, n.charIndex)) ||
				{}
		},
		setSelectionStyles: function(e, t, n) {
			void 0 === t && (t = this.selectionStart || 0), void 0 === n && (n = this.selectionEnd || t);
			for (var r = t; n > r; r++) this._extendStyles(r, e);
			return this._forceClearCache = !0, this
		},
		_getStyleDeclaration: function(e, t) {
			var n = this.styles && this.styles[e];
			return n ? n[t] : null
		},
		getCompleteStyleDeclaration: function(e, t) {
			for (var n, r = this._getStyleDeclaration(e, t) || {}, i = {}, o = 0; o < this._styleProperties.length; o++) i[n =
				this._styleProperties[o]] = void 0 === r[n] ? this[n] : r[n];
			return i
		},
		_setStyleDeclaration: function(e, t, n) {
			this.styles[e][t] = n
		},
		_deleteStyleDeclaration: function(e, t) {
			delete this.styles[e][t]
		},
		_getLineStyle: function(e) {
			return this.styles[e]
		},
		_setLineStyle: function(e, t) {
			this.styles[e] = t
		},
		_deleteLineStyle: function(e) {
			delete this.styles[e]
		}
	}),
	function() {
		function e(e) {
			e.textDecoration && (-1 < e.textDecoration.indexOf("underline") && (e.underline = !0), -1 < e.textDecoration.indexOf(
					"line-through") && (e.linethrough = !0), -1 < e.textDecoration.indexOf("overline") && (e.overline = !0), delete e
				.textDecoration)
		}
		fabric.IText = fabric.util.createClass(fabric.Text, fabric.Observable, {
			type: "i-text",
			selectionStart: 0,
			selectionEnd: 0,
			selectionColor: "rgba(17,119,255,0.3)",
			isEditing: !1,
			editable: !0,
			editingBorderColor: "rgba(102,153,255,0.25)",
			cursorWidth: 2,
			cursorColor: "#333",
			cursorDelay: 1e3,
			cursorDuration: 600,
			caching: !0,
			_reSpace: /\s|\n/,
			_currentCursorOpacity: 0,
			_selectionDirection: null,
			_abortCursorAnimation: !1,
			__widthOfSpace: [],
			inCompositionMode: !1,
			initialize: function(e, t) {
				this.callSuper("initialize", e, t), this.initBehavior()
			},
			setSelectionStart: function(e) {
				e = Math.max(e, 0), this._updateAndFire("selectionStart", e)
			},
			setSelectionEnd: function(e) {
				e = Math.min(e, this.text.length), this._updateAndFire("selectionEnd", e)
			},
			_updateAndFire: function(e, t) {
				this[e] !== t && (this._fireSelectionChanged(), this[e] = t), this._updateTextarea()
			},
			_fireSelectionChanged: function() {
				this.fire("selection:changed"), this.canvas && this.canvas.fire("text:selection:changed", {
					target: this
				})
			},
			initDimensions: function() {
				this.isEditing && this.initDelayedCursor(), this.clearContextTop(), this.callSuper("initDimensions")
			},
			render: function(e) {
				this.clearContextTop(), this.callSuper("render", e), this.cursorOffsetCache = {}, this.renderCursorOrSelection()
			},
			_render: function(e) {
				this.callSuper("_render", e)
			},
			clearContextTop: function(e) {
				if (this.isEditing && this.canvas && this.canvas.contextTop) {
					var t = this.canvas.contextTop,
						n = this.canvas.viewportTransform;
					t.save(), t.transform(n[0], n[1], n[2], n[3], n[4], n[5]), this.transform(t), this.transformMatrix && t.transform
						.apply(t, this.transformMatrix), this._clearTextArea(t), e || t.restore()
				}
			},
			renderCursorOrSelection: function() {
				if (this.isEditing && this.canvas) {
					var e, t = this._getCursorBoundaries();
					this.canvas && this.canvas.contextTop ? (e = this.canvas.contextTop, this.clearContextTop(!0)) : (e = this.canvas
						.contextContainer).save(), this.selectionStart === this.selectionEnd ? this.renderCursor(t, e) : this.renderSelection(
						t, e), e.restore()
				}
			},
			_clearTextArea: function(e) {
				var t = this.width + 4,
					n = this.height + 4;
				e.clearRect(-t / 2, -n / 2, t, n)
			},
			_getCursorBoundaries: function(e) {
				void 0 === e && (e = this.selectionStart);
				var t = this._getLeftOffset(),
					n = this._getTopOffset(),
					r = this._getCursorBoundariesOffsets(e);
				return {
					left: t,
					top: n,
					leftOffset: r.left,
					topOffset: r.top
				}
			},
			_getCursorBoundariesOffsets: function(e) {
				if (this.cursorOffsetCache && "top" in this.cursorOffsetCache) return this.cursorOffsetCache;
				for (var t, n, r = 0, i = 0, o = this.get2DCursorLocation(e), a = 0; a < o.lineIndex; a++) r += this.getHeightOfLine(
					a);
				t = this._getLineLeftOffset(o.lineIndex);
				var s = this.__charBounds[o.lineIndex][o.charIndex];
				return s && (i = s.left), 0 !== this.charSpacing && 0 === this._textLines[0].length && (i -= this._getWidthOfCharSpacing()),
					n = {
						top: r,
						left: t + (i > 0 ? i : 0)
					}, this.cursorOffsetCache = n, this.cursorOffsetCache
			},
			renderCursor: function(e, t) {
				var n = this.get2DCursorLocation(),
					r = n.lineIndex,
					i = 0 < n.charIndex ? n.charIndex - 1 : 0,
					o = this.getValueOfPropertyAt(r, i, "fontSize"),
					a = this.scaleX * this.canvas.getZoom(),
					s = this.cursorWidth / a,
					l = e.topOffset,
					c = this.getValueOfPropertyAt(r, i, "deltaY");
				l += (1 - this._fontSizeFraction) * this.getHeightOfLine(r) / this.lineHeight - o * (1 - this._fontSizeFraction),
					this.inCompositionMode && this.renderSelection(e, t), t.fillStyle = this.getValueOfPropertyAt(r, i, "fill"), t.globalAlpha =
					this.__isMousedown ? 1 : this._currentCursorOpacity, t.fillRect(e.left + e.leftOffset - s / 2, l + e.top + c, s,
						o)
			},
			renderSelection: function(e, t) {
				for (var n = this.inCompositionMode ? this.hiddenTextarea.selectionStart : this.selectionStart, r = this.inCompositionMode ?
						this.hiddenTextarea.selectionEnd : this.selectionEnd, i = -1 !== this.textAlign.indexOf("justify"), o = this.get2DCursorLocation(
							n), a = this.get2DCursorLocation(r), s = o.lineIndex, l = a.lineIndex, c = o.charIndex < 0 ? 0 : o.charIndex,
						u = a.charIndex < 0 ? 0 : a.charIndex, h = s; l >= h; h++) {
					var f, d = this._getLineLeftOffset(h) || 0,
						p = this.getHeightOfLine(h),
						g = 0,
						m = 0;
					h === s && (g = this.__charBounds[s][c].left), h >= s && l > h ? m = i && !this.isEndOfWrapping(h) ? this.width :
						this.getLineWidth(h) || 5 : h === l && (m = 0 === u ? this.__charBounds[l][u].left : this.__charBounds[l][u -
							1
						].left + this.__charBounds[l][u - 1].width), f = p, (this.lineHeight < 1 || h === l && 1 < this.lineHeight) &&
						(p /= this.lineHeight), this.inCompositionMode ? (t.fillStyle = this.compositionColor || "black", t.fillRect(e
							.left + d + g, e.top + e.topOffset + p, m - g, 1)) : (t.fillStyle = this.selectionColor, t.fillRect(e.left +
							d + g, e.top + e.topOffset, m - g, p)), e.topOffset += f
				}
			},
			getCurrentCharFontSize: function() {
				var e = this._getCurrentCharIndex();
				return this.getValueOfPropertyAt(e.l, e.c, "fontSize")
			},
			getCurrentCharColor: function() {
				var e = this._getCurrentCharIndex();
				return this.getValueOfPropertyAt(e.l, e.c, "fill")
			},
			_getCurrentCharIndex: function() {
				var e = this.get2DCursorLocation(this.selectionStart, !0),
					t = 0 < e.charIndex ? e.charIndex - 1 : 0;
				return {
					l: e.lineIndex,
					c: t
				}
			}
		}), fabric.IText.fromObject = function(t, n) {
			if (e(t), t.styles)
				for (var r in t.styles)
					for (var i in t.styles[r]) e(t.styles[r][i]);
			fabric.Object._fromObject("IText", t, n, "text")
		}
	}(),
	function() {
		var e = fabric.util.object.clone;
		fabric.util.object.extend(fabric.IText.prototype, {
			initBehavior: function() {
				this.initAddedHandler(), this.initRemovedHandler(), this.initCursorSelectionHandlers(), this.initDoubleClickSimulation(),
					this.mouseMoveHandler = this.mouseMoveHandler.bind(this)
			},
			onDeselect: function(e) {
				this.isEditing && this.exitEditing(), this.selected = !1, fabric.Object.prototype.onDeselect.call(this, e)
			},
			initAddedHandler: function() {
				var e = this;
				this.on("added", function() {
					var t = e.canvas;
					t && (t._hasITextHandlers || (t._hasITextHandlers = !0, e._initCanvasHandlers(t)), t._iTextInstances = t._iTextInstances ||
						[], t._iTextInstances.push(e))
				})
			},
			initRemovedHandler: function() {
				var e = this;
				this.on("removed", function() {
					var t = e.canvas;
					t && (t._iTextInstances = t._iTextInstances || [], fabric.util.removeFromArray(t._iTextInstances, e), 0 ===
						t._iTextInstances.length && (t._hasITextHandlers = !1, e._removeCanvasHandlers(t)))
				})
			},
			_initCanvasHandlers: function(e) {
				e._mouseUpITextHandler = function() {
					e._iTextInstances && e._iTextInstances.forEach(function(e) {
						e.__isMousedown = !1
					})
				}.bind(this), e.on("mouse:up", e._mouseUpITextHandler)
			},
			_removeCanvasHandlers: function(e) {
				e.off("mouse:up", e._mouseUpITextHandler)
			},
			_tick: function() {
				this._currentTickState = this._animateCursor(this, 1, this.cursorDuration, "_onTickComplete")
			},
			_animateCursor: function(e, t, n, r) {
				var i;
				return i = {
					isAborted: !1,
					abort: function() {
						this.isAborted = !0
					}
				}, e.animate("_currentCursorOpacity", t, {
					duration: n,
					onComplete: function() {
						i.isAborted || e[r]()
					},
					onChange: function() {
						e.canvas && e.selectionStart === e.selectionEnd && e.renderCursorOrSelection()
					},
					abort: function() {
						return i.isAborted
					}
				}), i
			},
			_onTickComplete: function() {
				var e = this;
				this._cursorTimeout1 && clearTimeout(this._cursorTimeout1), this._cursorTimeout1 = setTimeout(function() {
					e._currentTickCompleteState = e._animateCursor(e, 0, this.cursorDuration / 2, "_tick")
				}, 100)
			},
			initDelayedCursor: function(e) {
				var t = this,
					n = e ? 0 : this.cursorDelay;
				this.abortCursorAnimation(), this._currentCursorOpacity = 1, this._cursorTimeout2 = setTimeout(function() {
					t._tick()
				}, n)
			},
			abortCursorAnimation: function() {
				var e = this._currentTickState || this._currentTickCompleteState,
					t = this.canvas;
				this._currentTickState && this._currentTickState.abort(), this._currentTickCompleteState && this._currentTickCompleteState
					.abort(), clearTimeout(this._cursorTimeout1), clearTimeout(this._cursorTimeout2), this._currentCursorOpacity =
					0, e && t && t.clearContext(t.contextTop || t.contextContainer)
			},
			selectAll: function() {
				return this.selectionStart = 0, this.selectionEnd = this._text.length, this._fireSelectionChanged(), this._updateTextarea(),
					this
			},
			getSelectedText: function() {
				return this._text.slice(this.selectionStart, this.selectionEnd).join("")
			},
			findWordBoundaryLeft: function(e) {
				var t = 0,
					n = e - 1;
				if (this._reSpace.test(this._text[n]))
					for (; this._reSpace.test(this._text[n]);) t++, n--;
				for (;
					/\S/.test(this._text[n]) && n > -1;) t++, n--;
				return e - t
			},
			findWordBoundaryRight: function(e) {
				var t = 0,
					n = e;
				if (this._reSpace.test(this._text[n]))
					for (; this._reSpace.test(this._text[n]);) t++, n++;
				for (;
					/\S/.test(this._text[n]) && n < this.text.length;) t++, n++;
				return e + t
			},
			findLineBoundaryLeft: function(e) {
				for (var t = 0, n = e - 1; !/\n/.test(this._text[n]) && n > -1;) t++, n--;
				return e - t
			},
			findLineBoundaryRight: function(e) {
				for (var t = 0, n = e; !/\n/.test(this._text[n]) && n < this.text.length;) t++, n++;
				return e + t
			},
			searchWordBoundary: function(e, t) {
				for (var n = this._reSpace.test(this.text.charAt(e)) ? e - 1 : e, r = this.text.charAt(n), i = /[ \n\.,;!\?\-]/; !
					i.test(r) && n > 0 && n < this.text.length;) n += t, r = this.text.charAt(n);
				return i.test(r) && "\n" !== r && (n += 1 === t ? 0 : 1), n
			},
			selectWord: function(e) {
				e = e || this.selectionStart;
				var t = this.searchWordBoundary(e, -1),
					n = this.searchWordBoundary(e, 1);
				this.selectionStart = t, this.selectionEnd = n, this._fireSelectionChanged(), this._updateTextarea(), this.renderCursorOrSelection()
			},
			selectLine: function(e) {
				e = e || this.selectionStart;
				var t = this.findLineBoundaryLeft(e),
					n = this.findLineBoundaryRight(e);
				return this.selectionStart = t, this.selectionEnd = n, this._fireSelectionChanged(), this._updateTextarea(),
					this
			},
			enterEditing: function(e) {
				return !this.isEditing && this.editable ? (this.canvas && (this.canvas.calcOffset(), this.exitEditingOnOthers(
						this.canvas)), this.isEditing = !0, this.initHiddenTextarea(e), this.hiddenTextarea.focus(), this.hiddenTextarea
					.value = this.text, this._updateTextarea(), this._saveEditingProps(), this._setEditingProps(), this._textBeforeEdit =
					this.text, this._tick(), this.fire("editing:entered"), this._fireSelectionChanged(), this.canvas && (this.canvas
						.fire("text:editing:entered", {
							target: this
						}), this.initMouseMoveHandler(), this.canvas.requestRenderAll()), this) : void 0
			},
			exitEditingOnOthers: function(e) {
				e._iTextInstances && e._iTextInstances.forEach(function(e) {
					e.selected = !1, e.isEditing && e.exitEditing()
				})
			},
			initMouseMoveHandler: function() {
				this.canvas.on("mouse:move", this.mouseMoveHandler)
			},
			mouseMoveHandler: function(e) {
				if (this.__isMousedown && this.isEditing) {
					var t = this.getSelectionStartFromPointer(e.e),
						n = this.selectionStart,
						r = this.selectionEnd;
					(t === this.__selectionStartOnMouseDown && n !== r || n !== t && r !== t) && (t > this.__selectionStartOnMouseDown ?
						(this.selectionStart = this.__selectionStartOnMouseDown, this.selectionEnd = t) : (this.selectionStart = t,
							this.selectionEnd = this.__selectionStartOnMouseDown), this.selectionStart === n && this.selectionEnd === r ||
						(this.restartCursorIfNeeded(), this._fireSelectionChanged(), this._updateTextarea(), this.renderCursorOrSelection())
					)
				}
			},
			_setEditingProps: function() {
				this.hoverCursor = "text", this.canvas && (this.canvas.defaultCursor = this.canvas.moveCursor = "text"), this.borderColor =
					this.editingBorderColor, this.hasControls = this.selectable = !1, this.lockMovementX = this.lockMovementY = !0
			},
			fromStringToGraphemeSelection: function(e, t, n) {
				var r = n.slice(0, e),
					i = fabric.util.string.graphemeSplit(r).length;
				if (e === t) return {
					selectionStart: i,
					selectionEnd: i
				};
				var o = n.slice(e, t);
				return {
					selectionStart: i,
					selectionEnd: i + fabric.util.string.graphemeSplit(o).length
				}
			},
			fromGraphemeToStringSelection: function(e, t, n) {
				var r = n.slice(0, e).join("").length;
				return e === t ? {
					selectionStart: r,
					selectionEnd: r
				} : {
					selectionStart: r,
					selectionEnd: r + n.slice(e, t).join("").length
				}
			},
			_updateTextarea: function() {
				if (this.cursorOffsetCache = {}, this.hiddenTextarea) {
					if (!this.inCompositionMode) {
						var e = this.fromGraphemeToStringSelection(this.selectionStart, this.selectionEnd, this._text);
						this.hiddenTextarea.selectionStart = e.selectionStart, this.hiddenTextarea.selectionEnd = e.selectionEnd
					}
					this.updateTextareaPosition()
				}
			},
			updateFromTextArea: function() {
				if (this.hiddenTextarea) {
					this.cursorOffsetCache = {}, this.text = this.hiddenTextarea.value, this._shouldClearDimensionCache() && (this.initDimensions(),
						this.setCoords());
					var e = this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart, this.hiddenTextarea.selectionEnd,
						this.hiddenTextarea.value);
					this.selectionEnd = this.selectionStart = e.selectionEnd, this.inCompositionMode || (this.selectionStart = e.selectionStart),
						this.updateTextareaPosition()
				}
			},
			updateTextareaPosition: function() {
				if (this.selectionStart === this.selectionEnd) {
					var e = this._calcTextareaPosition();
					this.hiddenTextarea.style.left = e.left, this.hiddenTextarea.style.top = e.top
				}
			},
			_calcTextareaPosition: function() {
				if (!this.canvas) return {
					x: 1,
					y: 1
				};
				var e = this.inCompositionMode ? this.compositionStart : this.selectionStart,
					t = this._getCursorBoundaries(e),
					n = this.get2DCursorLocation(e),
					r = n.lineIndex,
					i = n.charIndex,
					o = this.getValueOfPropertyAt(r, i, "fontSize") * this.lineHeight,
					a = t.leftOffset,
					s = this.calcTransformMatrix(),
					l = {
						x: t.left + a,
						y: t.top + t.topOffset + o
					},
					c = this.canvas.upperCanvasEl,
					u = c.width,
					h = c.height,
					f = u - o,
					d = h - o,
					p = c.clientWidth / u,
					g = c.clientHeight / h;
				return l = fabric.util.transformPoint(l, s), (l = fabric.util.transformPoint(l, this.canvas.viewportTransform)).x *=
					p, l.y *= g, l.x < 0 && (l.x = 0), l.x > f && (l.x = f), l.y < 0 && (l.y = 0), l.y > d && (l.y = d), l.x +=
					this.canvas._offset.left, l.y += this.canvas._offset.top, {
						left: l.x + "px",
						top: l.y + "px",
						fontSize: o + "px",
						charHeight: o
					}
			},
			_saveEditingProps: function() {
				this._savedProps = {
					hasControls: this.hasControls,
					borderColor: this.borderColor,
					lockMovementX: this.lockMovementX,
					lockMovementY: this.lockMovementY,
					hoverCursor: this.hoverCursor,
					defaultCursor: this.canvas && this.canvas.defaultCursor,
					moveCursor: this.canvas && this.canvas.moveCursor
				}
			},
			_restoreEditingProps: function() {
				this._savedProps && (this.hoverCursor = this._savedProps.hoverCursor, this.hasControls = this._savedProps.hasControls,
					this.borderColor = this._savedProps.borderColor, this.lockMovementX = this._savedProps.lockMovementX, this.lockMovementY =
					this._savedProps.lockMovementY, this.canvas && (this.canvas.defaultCursor = this._savedProps.defaultCursor,
						this.canvas.moveCursor = this._savedProps.moveCursor))
			},
			exitEditing: function() {
				var e = this._textBeforeEdit !== this.text;
				return this.selected = !1, this.isEditing = !1, this.selectable = !0, this.selectionEnd = this.selectionStart,
					this.hiddenTextarea && (this.hiddenTextarea.blur && this.hiddenTextarea.blur(), this.canvas && this.hiddenTextarea
						.parentNode.removeChild(this.hiddenTextarea), this.hiddenTextarea = null), this.abortCursorAnimation(), this._restoreEditingProps(),
					this._currentCursorOpacity = 0, this._shouldClearDimensionCache() && (this.initDimensions(), this.setCoords()),
					this.fire("editing:exited"), e && this.fire("modified"), this.canvas && (this.canvas.off("mouse:move", this.mouseMoveHandler),
						this.canvas.fire("text:editing:exited", {
							target: this
						}), e && this.canvas.fire("object:modified", {
							target: this
						})), this
			},
			_removeExtraneousStyles: function() {
				for (var e in this.styles) this._textLines[e] || delete this.styles[e]
			},
			removeStyleFromTo: function(e, t) {
				var n, r, i = this.get2DCursorLocation(e, !0),
					o = this.get2DCursorLocation(t, !0),
					a = i.lineIndex,
					s = i.charIndex,
					l = o.lineIndex,
					c = o.charIndex;
				if (a !== l) {
					if (this.styles[a])
						for (n = s; n < this._unwrappedTextLines[a].length; n++) delete this.styles[a][n];
					if (this.styles[l])
						for (n = c; n < this._unwrappedTextLines[l].length; n++)(r = this.styles[l][n]) && (this.styles[a] || (this.styles[
							a] = {}), this.styles[a][s + n - c] = r);
					for (n = a + 1; l >= n; n++) delete this.styles[n];
					this.shiftLineStyles(l, a - l)
				} else if (this.styles[a]) {
					r = this.styles[a];
					var u, h, f = c - s;
					for (n = s; c > n; n++) delete r[n];
					for (h in this.styles[a]) c <= (u = parseInt(h, 10)) && (r[u - f] = r[h], delete r[h])
				}
			},
			shiftLineStyles: function(t, n) {
				var r = e(this.styles);
				for (var i in this.styles) {
					var o = parseInt(i, 10);
					o > t && (this.styles[o + n] = r[o], r[o - n] || delete this.styles[o])
				}
			},
			restartCursorIfNeeded: function() {
				this._currentTickState && !this._currentTickState.isAborted && this._currentTickCompleteState && !this._currentTickCompleteState
					.isAborted || this.initDelayedCursor()
			},
			insertNewlineStyleObject: function(t, n, r, i) {
				var o, a = {},
					s = !1;
				for (var l in r || (r = 1), this.shiftLineStyles(t, r), this.styles[t] && (o = this.styles[t][0 === n ? n : n -
						1
					]), this.styles[t]) {
					var c = parseInt(l, 10);
					c >= n && (s = !0, a[c - n] = this.styles[t][l], delete this.styles[t][l])
				}
				for (s ? this.styles[t + r] = a : delete this.styles[t + r]; r > 1;) r--, i && i[r] ? this.styles[t + r] = {
					0: e(i[r])
				} : o ? this.styles[t + r] = {
					0: e(o)
				} : delete this.styles[t + r];
				this._forceClearCache = !0
			},
			insertCharStyleObject: function(t, n, r, i) {
				this.styles || (this.styles = {});
				var o = this.styles[t],
					a = o ? e(o) : {};
				for (var s in r || (r = 1), a) {
					var l = parseInt(s, 10);
					l >= n && (o[l + r] = a[l], a[l - r] || delete o[l])
				}
				if (this._forceClearCache = !0, i)
					for (; r--;) Object.keys(i[r]).length && (this.styles[t] || (this.styles[t] = {}), this.styles[t][n + r] = e(i[
						r]));
				else if (o)
					for (var c = o[n ? n - 1 : 1]; c && r--;) this.styles[t][n + r] = e(c)
			},
			insertNewStyleBlock: function(e, t, n) {
				for (var r = this.get2DCursorLocation(t, !0), i = [0], o = 0, a = 0; a < e.length; a++) "\n" === e[a] ? i[++o] =
					0 : i[o]++;
				for (0 < i[0] && (this.insertCharStyleObject(r.lineIndex, r.charIndex, i[0], n), n = n && n.slice(i[0] + 1)), o &&
					this.insertNewlineStyleObject(r.lineIndex, r.charIndex + i[0], o), a = 1; o > a; a++) 0 < i[a] ? this.insertCharStyleObject(
					r.lineIndex + a, 0, i[a], n) : n && (this.styles[r.lineIndex + a][0] = n[0]), n = n && n.slice(i[a] + 1);
				0 < i[a] && this.insertCharStyleObject(r.lineIndex + a, 0, i[a], n)
			},
			setSelectionStartEndWithShift: function(e, t, n) {
				e >= n ? (t === e ? this._selectionDirection = "left" : "right" === this._selectionDirection && (this._selectionDirection =
						"left", this.selectionEnd = e), this.selectionStart = n) : n > e && t > n ? "right" === this._selectionDirection ?
					this.selectionEnd = n : this.selectionStart = n : (t === e ? this._selectionDirection = "right" : "left" ===
						this._selectionDirection && (this._selectionDirection = "right", this.selectionStart = t), this.selectionEnd =
						n)
			},
			setSelectionInBoundaries: function() {
				var e = this.text.length;
				this.selectionStart > e ? this.selectionStart = e : this.selectionStart < 0 && (this.selectionStart = 0), this.selectionEnd >
					e ? this.selectionEnd = e : this.selectionEnd < 0 && (this.selectionEnd = 0)
			}
		})
	}(), fabric.util.object.extend(fabric.IText.prototype, {
		initDoubleClickSimulation: function() {
			this.__lastClickTime = +new Date, this.__lastLastClickTime = +new Date, this.__lastPointer = {}, this.on(
				"mousedown", this.onMouseDown.bind(this))
		},
		onMouseDown: function(e) {
			if (this.canvas) {
				this.__newClickTime = +new Date;
				var t = this.canvas.getPointer(e.e);
				this.isTripleClick(t) && (this.fire("tripleclick", e), this._stopEvent(e.e)), this.__lastLastClickTime = this.__lastClickTime,
					this.__lastClickTime = this.__newClickTime, this.__lastPointer = t, this.__lastIsEditing = this.isEditing, this.__lastSelected =
					this.selected
			}
		},
		isTripleClick: function(e) {
			return this.__newClickTime - this.__lastClickTime < 500 && this.__lastClickTime - this.__lastLastClickTime < 500 &&
				this.__lastPointer.x === e.x && this.__lastPointer.y === e.y
		},
		_stopEvent: function(e) {
			e.preventDefault && e.preventDefault(), e.stopPropagation && e.stopPropagation()
		},
		initCursorSelectionHandlers: function() {
			this.initMousedownHandler(), this.initMouseupHandler(), this.initClicks()
		},
		initClicks: function() {
			this.on("mousedblclick", function(e) {
				this.selectWord(this.getSelectionStartFromPointer(e.e))
			}), this.on("tripleclick", function(e) {
				this.selectLine(this.getSelectionStartFromPointer(e.e))
			})
		},
		_mouseDownHandler: function(e) {
			if (this.canvas && this.editable && (!e.e.button || 1 === e.e.button)) {
				var t = this.canvas.getPointer(e.e);
				this.__mousedownX = t.x, this.__mousedownY = t.y, this.__isMousedown = !0, this.selected && this.setCursorByClick(
					e.e), this.isEditing && (this.__selectionStartOnMouseDown = this.selectionStart, this.selectionStart === this.selectionEnd &&
					this.abortCursorAnimation(), this.renderCursorOrSelection())
			}
		},
		initMousedownHandler: function() {
			this.on("mousedown", this._mouseDownHandler)
		},
		_isObjectMoved: function(e) {
			var t = this.canvas.getPointer(e);
			return this.__mousedownX !== t.x || this.__mousedownY !== t.y
		},
		initMouseupHandler: function() {
			this.on("mouseup", this.mouseUpHandler)
		},
		mouseUpHandler: function(e) {
			this.__isMousedown = !1, !this.editable || this._isObjectMoved(e.e) || e.e.button && 1 !== e.e.button || (this.__lastSelected &&
				!this.__corner && (this.enterEditing(e.e), this.selectionStart === this.selectionEnd ? this.initDelayedCursor(!0) :
					this.renderCursorOrSelection()), this.selected = !0)
		},
		setCursorByClick: function(e) {
			var t = this.getSelectionStartFromPointer(e),
				n = this.selectionStart,
				r = this.selectionEnd;
			e.shiftKey ? this.setSelectionStartEndWithShift(n, r, t) : (this.selectionStart = t, this.selectionEnd = t), this.isEditing &&
				(this._fireSelectionChanged(), this._updateTextarea())
		},
		getSelectionStartFromPointer: function(e) {
			for (var t = this.getLocalPointer(e), n = 0, r = 0, i = 0, o = 0, a = 0, s = 0, l = this._textLines.length; l > s &&
				i <= t.y; s++) i += this.getHeightOfLine(s) * this.scaleY, 0 < (a = s) && (o += this._textLines[s - 1].length + 1);
			r = this._getLineLeftOffset(a) * this.scaleX;
			for (var c = 0, u = this._textLines[a].length; u > c && (n = r, (r += this.__charBounds[a][c].kernedWidth * this.scaleX) <=
					t.x); c++) o++;
			return this._getNewSelectionStartFromOffset(t, n, r, o, u)
		},
		_getNewSelectionStartFromOffset: function(e, t, n, r, i) {
			var o = e.x - t,
				a = n - e.x,
				s = r + (a > o || 0 > a ? 0 : 1);
			return this.flipX && (s = i - s), s > this._text.length && (s = this._text.length), s
		}
	}), fabric.util.object.extend(fabric.IText.prototype, {
		initHiddenTextarea: function() {
			this.hiddenTextarea = fabric.document.createElement("textarea"), this.hiddenTextarea.setAttribute("autocapitalize",
				"off"), this.hiddenTextarea.setAttribute("autocorrect", "off"), this.hiddenTextarea.setAttribute("autocomplete",
				"off"), this.hiddenTextarea.setAttribute("spellcheck", "false"), this.hiddenTextarea.setAttribute(
				"data-fabric-hiddentextarea", ""), this.hiddenTextarea.setAttribute("wrap", "off");
			var e = this._calcTextareaPosition();
			this.hiddenTextarea.style.cssText = "position: absolute; top: " + e.top + "; left: " + e.left +
				"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; line-height: 1px; paddingｰtop: " + e.fontSize +
				";", fabric.document.body.appendChild(this.hiddenTextarea), fabric.util.addListener(this.hiddenTextarea,
					"keydown", this.onKeyDown.bind(this)), fabric.util.addListener(this.hiddenTextarea, "keyup", this.onKeyUp.bind(
					this)), fabric.util.addListener(this.hiddenTextarea, "input", this.onInput.bind(this)), fabric.util.addListener(
					this.hiddenTextarea, "copy", this.copy.bind(this)), fabric.util.addListener(this.hiddenTextarea, "cut", this.copy
					.bind(this)), fabric.util.addListener(this.hiddenTextarea, "paste", this.paste.bind(this)), fabric.util.addListener(
					this.hiddenTextarea, "compositionstart", this.onCompositionStart.bind(this)), fabric.util.addListener(this.hiddenTextarea,
					"compositionupdate", this.onCompositionUpdate.bind(this)), fabric.util.addListener(this.hiddenTextarea,
					"compositionend", this.onCompositionEnd.bind(this)), !this._clickHandlerInitialized && this.canvas && (fabric.util
					.addListener(this.canvas.upperCanvasEl, "click", this.onClick.bind(this)), this._clickHandlerInitialized = !0)
		},
		keysMap: {
			9: "exitEditing",
			27: "exitEditing",
			33: "moveCursorUp",
			34: "moveCursorDown",
			35: "moveCursorRight",
			36: "moveCursorLeft",
			37: "moveCursorLeft",
			38: "moveCursorUp",
			39: "moveCursorRight",
			40: "moveCursorDown"
		},
		ctrlKeysMapUp: {
			67: "copy",
			88: "cut"
		},
		ctrlKeysMapDown: {
			65: "selectAll"
		},
		onClick: function() {
			this.hiddenTextarea && this.hiddenTextarea.focus()
		},
		onKeyDown: function(e) {
			if (this.isEditing && !this.inCompositionMode) {
				if (e.keyCode in this.keysMap) this[this.keysMap[e.keyCode]](e);
				else {
					if (!(e.keyCode in this.ctrlKeysMapDown && (e.ctrlKey || e.metaKey))) return;
					this[this.ctrlKeysMapDown[e.keyCode]](e)
				}
				e.stopImmediatePropagation(), e.preventDefault(), 33 <= e.keyCode && e.keyCode <= 40 ? (this.clearContextTop(),
					this.renderCursorOrSelection()) : this.canvas && this.canvas.requestRenderAll()
			}
		},
		onKeyUp: function(e) {
			!this.isEditing || this._copyDone || this.inCompositionMode ? this._copyDone = !1 : e.keyCode in this.ctrlKeysMapUp &&
				(e.ctrlKey || e.metaKey) && (this[this.ctrlKeysMapUp[e.keyCode]](e), e.stopImmediatePropagation(), e.preventDefault(),
					this.canvas && this.canvas.requestRenderAll())
		},
		onInput: function(e) {
			var t = this.fromPaste;
			if (this.fromPaste = !1, e && e.stopPropagation(), this.isEditing) {
				var n, r, i = this._splitTextIntoLines(this.hiddenTextarea.value).graphemeText,
					o = this._text.length,
					a = i.length,
					s = a - o;
				if ("" === this.hiddenTextarea.value) return this.styles = {}, this.updateFromTextArea(), this.fire("changed"),
					void(this.canvas && (this.canvas.fire("text:changed", {
						target: this
					}), this.canvas.requestRenderAll()));
				var l = this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart, this.hiddenTextarea.selectionEnd,
						this.hiddenTextarea.value),
					c = this.selectionStart > l.selectionStart;
				this.selectionStart !== this.selectionEnd ? (n = this._text.slice(this.selectionStart, this.selectionEnd), s +=
						this.selectionEnd - this.selectionStart) : o > a && (n = c ? this._text.slice(this.selectionEnd + s, this.selectionEnd) :
						this._text.slice(this.selectionStart, this.selectionStart - s)), r = i.slice(l.selectionEnd - s, l.selectionEnd),
					n && n.length && (this.selectionStart !== this.selectionEnd ? this.removeStyleFromTo(this.selectionStart, this.selectionEnd) :
						c ? this.removeStyleFromTo(this.selectionEnd - n.length, this.selectionEnd) : this.removeStyleFromTo(this.selectionEnd,
							this.selectionEnd + n.length)), r.length && (t && r.join("") === fabric.copiedText ? this.insertNewStyleBlock(
						r, this.selectionStart, fabric.copiedTextStyle) : this.insertNewStyleBlock(r, this.selectionStart)), this.updateFromTextArea(),
					this.fire("changed"), this.canvas && (this.canvas.fire("text:changed", {
						target: this
					}), this.canvas.requestRenderAll())
			}
		},
		onCompositionStart: function() {
			this.inCompositionMode = !0
		},
		onCompositionEnd: function() {
			this.inCompositionMode = !1
		},
		onCompositionUpdate: function(e) {
			this.compositionStart = e.target.selectionStart, this.compositionEnd = e.target.selectionEnd, this.updateTextareaPosition()
		},
		copy: function() {
			this.selectionStart !== this.selectionEnd && (fabric.copiedText = this.getSelectedText(), fabric.copiedTextStyle =
				this.getSelectionStyles(this.selectionStart, this.selectionEnd, !0), this._copyDone = !0)
		},
		paste: function() {
			this.fromPaste = !0
		},
		_getClipboardData: function(e) {
			return e && e.clipboardData || fabric.window.clipboardData
		},
		_getWidthBeforeCursor: function(e, t) {
			var n, r = this._getLineLeftOffset(e);
			return t > 0 && (r += (n = this.__charBounds[e][t - 1]).left + n.width), r
		},
		getDownCursorOffset: function(e, t) {
			var n = this._getSelectionForOffset(e, t),
				r = this.get2DCursorLocation(n),
				i = r.lineIndex;
			if (i === this._textLines.length - 1 || e.metaKey || 34 === e.keyCode) return this._text.length - n;
			var o = r.charIndex,
				a = this._getWidthBeforeCursor(i, o),
				s = this._getIndexOnLine(i + 1, a);
			return this._textLines[i].slice(o).length + s + 2
		},
		_getSelectionForOffset: function(e, t) {
			return e.shiftKey && this.selectionStart !== this.selectionEnd && t ? this.selectionEnd : this.selectionStart
		},
		getUpCursorOffset: function(e, t) {
			var n = this._getSelectionForOffset(e, t),
				r = this.get2DCursorLocation(n),
				i = r.lineIndex;
			if (0 === i || e.metaKey || 33 === e.keyCode) return -n;
			var o = r.charIndex,
				a = this._getWidthBeforeCursor(i, o),
				s = this._getIndexOnLine(i - 1, a),
				l = this._textLines[i].slice(0, o);
			return -this._textLines[i - 1].length + s - l.length
		},
		_getIndexOnLine: function(e, t) {
			for (var n, r, i = this._textLines[e], o = this._getLineLeftOffset(e), a = 0, s = 0, l = i.length; l > s; s++)
				if (t < (o += n = this.__charBounds[e][s].width)) {
					r = !0;
					var c = o - n,
						u = o,
						h = Math.abs(c - t);
					a = Math.abs(u - t) < h ? s : s - 1;
					break
				} return r || (a = i.length - 1), a
		},
		moveCursorDown: function(e) {
			this.selectionStart >= this._text.length && this.selectionEnd >= this._text.length || this._moveCursorUpOrDown(
				"Down", e)
		},
		moveCursorUp: function(e) {
			0 === this.selectionStart && 0 === this.selectionEnd || this._moveCursorUpOrDown("Up", e)
		},
		_moveCursorUpOrDown: function(e, t) {
			var n = this["get" + e + "CursorOffset"](t, "right" === this._selectionDirection);
			t.shiftKey ? this.moveCursorWithShift(n) : this.moveCursorWithoutShift(n), 0 !== n && (this.setSelectionInBoundaries(),
				this.abortCursorAnimation(), this._currentCursorOpacity = 1, this.initDelayedCursor(), this._fireSelectionChanged(),
				this._updateTextarea())
		},
		moveCursorWithShift: function(e) {
			var t = "left" === this._selectionDirection ? this.selectionStart + e : this.selectionEnd + e;
			return this.setSelectionStartEndWithShift(this.selectionStart, this.selectionEnd, t), 0 !== e
		},
		moveCursorWithoutShift: function(e) {
			return 0 > e ? (this.selectionStart += e, this.selectionEnd = this.selectionStart) : (this.selectionEnd += e, this
				.selectionStart = this.selectionEnd), 0 !== e
		},
		moveCursorLeft: function(e) {
			0 === this.selectionStart && 0 === this.selectionEnd || this._moveCursorLeftOrRight("Left", e)
		},
		_move: function(e, t, n) {
			var r;
			if (e.altKey) r = this["findWordBoundary" + n](this[t]);
			else {
				if (!e.metaKey && 35 !== e.keyCode && 36 !== e.keyCode) return this[t] += "Left" === n ? -1 : 1, !0;
				r = this["findLineBoundary" + n](this[t])
			}
			return void 0 !== typeof r && this[t] !== r ? (this[t] = r, !0) : void 0
		},
		_moveLeft: function(e, t) {
			return this._move(e, t, "Left")
		},
		_moveRight: function(e, t) {
			return this._move(e, t, "Right")
		},
		moveCursorLeftWithoutShift: function(e) {
			var t = !0;
			return this._selectionDirection = "left", this.selectionEnd === this.selectionStart && 0 !== this.selectionStart &&
				(t = this._moveLeft(e, "selectionStart")), this.selectionEnd = this.selectionStart, t
		},
		moveCursorLeftWithShift: function(e) {
			return "right" === this._selectionDirection && this.selectionStart !== this.selectionEnd ? this._moveLeft(e,
				"selectionEnd") : 0 !== this.selectionStart ? (this._selectionDirection = "left", this._moveLeft(e,
				"selectionStart")) : void 0
		},
		moveCursorRight: function(e) {
			this.selectionStart >= this._text.length && this.selectionEnd >= this._text.length || this._moveCursorLeftOrRight(
				"Right", e)
		},
		_moveCursorLeftOrRight: function(e, t) {
			var n = "moveCursor" + e + "With";
			this._currentCursorOpacity = 1, n += t.shiftKey ? "Shift" : "outShift", this[n](t) && (this.abortCursorAnimation(),
				this.initDelayedCursor(), this._fireSelectionChanged(), this._updateTextarea())
		},
		moveCursorRightWithShift: function(e) {
			return "left" === this._selectionDirection && this.selectionStart !== this.selectionEnd ? this._moveRight(e,
				"selectionStart") : this.selectionEnd !== this._text.length ? (this._selectionDirection = "right", this._moveRight(
				e, "selectionEnd")) : void 0
		},
		moveCursorRightWithoutShift: function(e) {
			var t = !0;
			return this._selectionDirection = "right", this.selectionStart === this.selectionEnd ? (t = this._moveRight(e,
				"selectionStart"), this.selectionEnd = this.selectionStart) : this.selectionStart = this.selectionEnd, t
		},
		removeChars: function(e, t) {
			void 0 === t && (t = e + 1), this.removeStyleFromTo(e, t), this._text.splice(e, t - e), this.text = this._text.join(
					""), this.set("dirty", !0), this._shouldClearDimensionCache() && (this.initDimensions(), this.setCoords()), this
				._removeExtraneousStyles()
		},
		insertChars: function(e, t, n, r) {
			void 0 === r && (r = n), r > n && this.removeStyleFromTo(n, r);
			var i = fabric.util.string.graphemeSplit(e);
			this.insertNewStyleBlock(i, n, t), this._text = [].concat(this._text.slice(0, n), i, this._text.slice(r)), this.text =
				this._text.join(""), this.set("dirty", !0), this._shouldClearDimensionCache() && (this.initDimensions(), this.setCoords()),
				this._removeExtraneousStyles()
		}
	}),
	function() {
		var e = fabric.util.toFixed;
		fabric.util.object.extend(fabric.Text.prototype, {
			toSVG: function(e) {
				var t = this._createBaseSVGMarkup(),
					n = this._getSVGLeftTopOffsets(),
					r = this._getSVGTextAndBg(n.textTop, n.textLeft);
				return this._wrapSVGTextAndBg(t, r), e ? e(t.join("")) : t.join("")
			},
			_getSVGLeftTopOffsets: function() {
				return {
					textLeft: -this.width / 2,
					textTop: -this.height / 2,
					lineTop: this.getHeightOfLine(0)
				}
			},
			_wrapSVGTextAndBg: function(e, t) {
				var n = this.getSvgFilter(),
					r = "" === n ? "" : ' style="' + n + '"',
					i = this.getSvgTextDecoration(this);
				e.push("	<g ", this.getSvgId(), 'transform="', this.getSvgTransform(), this.getSvgTransformMatrix(), '"', r,
					">\n", t.textBgRects.join(""), '		<text xml:space="preserve" ', this.fontFamily ? 'font-family="' + this.fontFamily
					.replace(/"/g, "'") + '" ' : "", this.fontSize ? 'font-size="' + this.fontSize + '" ' : "", this.fontStyle ?
					'font-style="' + this.fontStyle + '" ' : "", this.fontWeight ? 'font-weight="' + this.fontWeight + '" ' : "",
					i ? 'text-decoration="' + i + '" ' : "", 'style="', this.getSvgStyles(!0), '"', this.addPaintOrder(), " >", t.textSpans
					.join(""), "</text>\n", "	</g>\n")
			},
			_getSVGTextAndBg: function(e, t) {
				var n, r = [],
					i = [],
					o = e;
				this._setSVGBg(i);
				for (var a = 0, s = this._textLines.length; s > a; a++) n = this._getLineLeftOffset(a), (this.textBackgroundColor ||
					this.styleHas("textBackgroundColor", a)) && this._setSVGTextLineBg(i, a, t + n, o), this._setSVGTextLineText(r,
					a, t + n, o), o += this.getHeightOfLine(a);
				return {
					textSpans: r,
					textBgRects: i
				}
			},
			_createTextCharSpan: function(t, n, r, i) {
				var o = this.getSvgSpanStyles(n, t !== t.trim()),
					a = o ? 'style="' + o + '"' : "",
					s = n.deltaY,
					l = "",
					c = fabric.Object.NUM_FRACTION_DIGITS;
				return s && (l = ' dy="' + e(s, c) + '" '), ['<tspan x="', e(r, c), '" y="', e(i, c), '" ', l, a, ">", fabric.util
					.string.escapeXml(t), "</tspan>"
				].join("")
			},
			_setSVGTextLineText: function(e, t, n, r) {
				var i, o, a, s, l, c = this.getHeightOfLine(t),
					u = -1 !== this.textAlign.indexOf("justify"),
					h = "",
					f = 0,
					d = this._textLines[t];
				r += c * (1 - this._fontSizeFraction) / this.lineHeight;
				for (var p = 0, g = d.length - 1; g >= p; p++) l = p === g || this.charSpacing, h += d[p], a = this.__charBounds[
						t][p], 0 === f ? (n += a.kernedWidth - a.width, f += a.width) : f += a.kernedWidth, u && !l && this._reSpaceAndTab
					.test(d[p]) && (l = !0), l || (i = i || this.getCompleteStyleDeclaration(t, p), o = this.getCompleteStyleDeclaration(
						t, p + 1), l = this._hasStyleChangedForSvg(i, o)), l && (s = this._getStyleDeclaration(t, p) || {}, e.push(
						this._createTextCharSpan(h, s, n, r)), h = "", i = o, n += f, f = 0)
			},
			_pushTextBgRect: function(t, n, r, i, o, a) {
				var s = fabric.Object.NUM_FRACTION_DIGITS;
				t.push("		<rect ", this._getFillAttributes(n), ' x="', e(r, s), '" y="', e(i, s), '" width="', e(o, s),
					'" height="', e(a, s), '"></rect>\n')
			},
			_setSVGTextLineBg: function(e, t, n, r) {
				for (var i, o, a = this._textLines[t], s = this.getHeightOfLine(t) / this.lineHeight, l = 0, c = 0, u = this.getValueOfPropertyAt(
						t, 0, "textBackgroundColor"), h = 0, f = a.length; f > h; h++) i = this.__charBounds[t][h], (o = this.getValueOfPropertyAt(
					t, h, "textBackgroundColor")) !== u ? (u && this._pushTextBgRect(e, u, n + c, r, l, s), c = i.left, l = i.width,
					u = o) : l += i.kernedWidth;
				o && this._pushTextBgRect(e, o, n + c, r, l, s)
			},
			_getFillAttributes: function(e) {
				var t = e && "string" == typeof e ? new fabric.Color(e) : "";
				return t && t.getSource() && 1 !== t.getAlpha() ? 'opacity="' + t.getAlpha() + '" fill="' + t.setAlpha(1).toRgb() +
					'"' : 'fill="' + e + '"'
			},
			_getSVGLineTopOffset: function(e) {
				for (var t, n = 0, r = 0; e > r; r++) n += this.getHeightOfLine(r);
				return t = this.getHeightOfLine(r), {
					lineTop: n,
					offset: (this._fontSizeMult - this._fontSizeFraction) * t / (this.lineHeight * this._fontSizeMult)
				}
			},
			getSvgStyles: function(e) {
				return fabric.Object.prototype.getSvgStyles.call(this, e) + " white-space: pre;"
			}
		})
	}(),
	function(e) {
		"use strict";
		var t = e.fabric || (e.fabric = {});
		t.Textbox = t.util.createClass(t.IText, t.Observable, {
			type: "textbox",
			minWidth: 20,
			dynamicMinWidth: 2,
			__cachedLines: null,
			lockScalingFlip: !0,
			noScaleCache: !1,
			_dimensionAffectingProps: t.Text.prototype._dimensionAffectingProps.concat("width"),
			initDimensions: function() {
				this.__skipDimension || (this.isEditing && this.initDelayedCursor(), this.clearContextTop(), this._clearCache(),
					this.dynamicMinWidth = 0, this._styleMap = this._generateStyleMap(this._splitText()), this.dynamicMinWidth >
					this.width && this._set("width", this.dynamicMinWidth), -1 !== this.textAlign.indexOf("justify") && this.enlargeSpaces(),
					this.height = this.calcTextHeight(), this.saveState({
						propertySet: "_dimensionAffectingProps"
					}))
			},
			_generateStyleMap: function(e) {
				for (var t = 0, n = 0, r = 0, i = {}, o = 0; o < e.graphemeLines.length; o++) "\n" === e.graphemeText[r] && o >
					0 ? (n = 0, r++, t++) : this._reSpaceAndTab.test(e.graphemeText[r]) && o > 0 && (n++, r++), i[o] = {
						line: t,
						offset: n
					}, r += e.graphemeLines[o].length, n += e.graphemeLines[o].length;
				return i
			},
			styleHas: function(e, n) {
				if (this._styleMap && !this.isWrapping) {
					var r = this._styleMap[n];
					r && (n = r.line)
				}
				return t.Text.prototype.styleHas.call(this, e, n)
			},
			isEmptyStyles: function(e) {
				var t, n, r = 0,
					i = !1,
					o = this._styleMap[e],
					a = this._styleMap[e + 1];
				for (var s in o && (e = o.line, r = o.offset), a && (i = a.line === e, t = a.offset), n = void 0 === e ? this.styles :
						{
							line: this.styles[e]
						})
					for (var l in n[s])
						if (l >= r && (!i || t > l))
							for (var c in n[s][l]) return !1;
				return !0
			},
			_getStyleDeclaration: function(e, t) {
				if (this._styleMap && !this.isWrapping) {
					var n = this._styleMap[e];
					if (!n) return null;
					e = n.line, t = n.offset + t
				}
				return this.callSuper("_getStyleDeclaration", e, t)
			},
			_setStyleDeclaration: function(e, t, n) {
				var r = this._styleMap[e];
				e = r.line, t = r.offset + t, this.styles[e][t] = n
			},
			_deleteStyleDeclaration: function(e, t) {
				var n = this._styleMap[e];
				e = n.line, t = n.offset + t, delete this.styles[e][t]
			},
			_getLineStyle: function(e) {
				var t = this._styleMap[e];
				return this.styles[t.line]
			},
			_setLineStyle: function(e, t) {
				var n = this._styleMap[e];
				this.styles[n.line] = t
			},
			_deleteLineStyle: function(e) {
				var t = this._styleMap[e];
				delete this.styles[t.line]
			},
			_wrapText: function(e, t) {
				var n, r = [];
				for (this.isWrapping = !0, n = 0; n < e.length; n++) r = r.concat(this._wrapLine(e[n], n, t));
				return this.isWrapping = !1, r
			},
			_measureWord: function(e, t, n) {
				var r, i = 0;
				n = n || 0;
				for (var o = 0, a = e.length; a > o; o++) i += this._getGraphemeBox(e[o], t, o + n, r, !0).kernedWidth, r = e[o];
				return i
			},
			_wrapLine: function(e, n, r) {
				for (var i = 0, o = [], a = [], s = e.split(this._reSpaceAndTab), l = "", c = 0, u = 0, h = 0, f = 0, d = !0, p =
						this._getWidthOfCharSpacing(), g = 0; g < s.length; g++) l = t.util.string.graphemeSplit(s[g]), u = this._measureWord(
					l, n, c), c += l.length, r <= (i += h + u - p) && !d ? (o.push(a), a = [], i = u, d = !0) : i += p, d || a.push(
					" "), a = a.concat(l), h = this._measureWord([" "], n, c), c++, d = !1, u > f && (f = u);
				return g && o.push(a), f > this.dynamicMinWidth && (this.dynamicMinWidth = f - p), o
			},
			isEndOfWrapping: function(e) {
				return !this._styleMap[e + 1] || this._styleMap[e + 1].line !== this._styleMap[e].line
			},
			_splitTextIntoLines: function(e) {
				for (var n = t.Text.prototype._splitTextIntoLines.call(this, e), r = this._wrapText(n.lines, this.width), i =
						new Array(r.length), o = 0; o < r.length; o++) i[o] = r[o].join("");
				return n.lines = i, n.graphemeLines = r, n
			},
			getMinWidth: function() {
				return Math.max(this.minWidth, this.dynamicMinWidth)
			},
			toObject: function(e) {
				return this.callSuper("toObject", ["minWidth"].concat(e))
			}
		}), t.Textbox.fromObject = function(e, n) {
			return t.Object._fromObject("Textbox", e, n, "text");
		}
	}("undefined" != typeof exports ? exports : this),
	function() {
		var e = fabric.Canvas.prototype._setObjectScale;
		fabric.Canvas.prototype._setObjectScale = function(t, n, r, i, o, a, s) {
			var l = n.target;
			if (!("x" === o && l instanceof fabric.Textbox)) return e.call(fabric.Canvas.prototype, t, n, r, i, o, a, s);
			var c = l._getTransformedDimensions().x,
				u = l.width * (t.x / c);
			return u >= l.getMinWidth() ? (l.set("width", u), !0) : void 0
		}, fabric.util.object.extend(fabric.Textbox.prototype, {
			_removeExtraneousStyles: function() {
				for (var e in this._styleMap) this._textLines[e] || delete this.styles[this._styleMap[e].line]
			}
		})
	}(),
	function(e, t, n) {
		function r(e, t, n) {
			e.addEventListener ? e.addEventListener(t, n, !1) : e.attachEvent("on" + t, n)
		}

		function i(e) {
			if ("keypress" == e.type) {
				var t = String.fromCharCode(e.which);
				return e.shiftKey || (t = t.toLowerCase()), t
			}
			return h[e.which] ? h[e.which] : f[e.which] ? f[e.which] : String.fromCharCode(e.which).toLowerCase()
		}

		function o(e) {
			var t = [];
			return e.shiftKey && t.push("shift"), e.altKey && t.push("alt"), e.ctrlKey && t.push("ctrl"), e.metaKey && t.push(
				"meta"), t
		}

		function a(e) {
			return "shift" == e || "ctrl" == e || "alt" == e || "meta" == e
		}

		function s(e, t) {
			var n, r, i, o = [];
			for (n = e, "+" === n ? n = ["+"] : (n = n.replace(/\+{2}/g, "+plus"), n = n.split("+")), i = 0; i < n.length; ++i) r =
				n[i], p[r] && (r = p[r]), t && "keypress" != t && d[r] && (r = d[r], o.push("shift")), a(r) && o.push(r);
			if (n = r, i = t, !i) {
				if (!u) {
					u = {};
					for (var s in h) s > 95 && 112 > s || h.hasOwnProperty(s) && (u[h[s]] = s)
				}
				i = u[n] ? "keydown" : "keypress"
			}
			return "keypress" == i && o.length && (i = "keydown"), {
				key: r,
				modifiers: o,
				action: i
			}
		}

		function l(e, n) {
			return null === e || e === t ? !1 : e === n ? !0 : l(e.parentNode, n)
		}

		function c(e) {
			function n(e) {
				e = e || {};
				var t, n = !1;
				for (t in m) e[t] ? n = !0 : m[t] = 0;
				n || (b = !1)
			}

			function l(e, t, n, r, i, o) {
				var s, l, c = [],
					u = n.type;
				if (!p._callbacks[e]) return [];
				for ("keyup" == u && a(e) && (t = [e]), s = 0; s < p._callbacks[e].length; ++s)
					if (l = p._callbacks[e][s], (r || !l.seq || m[l.seq] == l.level) && u == l.action) {
						var h;
						(h = "keypress" == u && !n.metaKey && !n.ctrlKey) || (h = l.modifiers, h = t.sort().join(",") === h.sort().join(
							",")), h && (h = r && l.seq == r && l.level == o, (!r && l.combo == i || h) && p._callbacks[e].splice(s, 1), c.push(
							l))
					} return c
			}

			function u(e, t, n, r) {
				p.stopCallback(t, t.target || t.srcElement, n, r) || !1 !== e(t, n) || (t.preventDefault ? t.preventDefault() : t.returnValue = !
					1, t.stopPropagation ? t.stopPropagation() : t.cancelBubble = !0)
			}

			function h(e) {
				"number" != typeof e.which && (e.which = e.keyCode);
				var t = i(e);
				t && ("keyup" == e.type && v === t ? v = !1 : p.handleKey(t, o(e), e))
			}

			function f(e, t, r, o) {
				function a(t) {
					return function() {
						b = t, ++m[e], clearTimeout(g), g = setTimeout(n, 1e3)
					}
				}

				function l(t) {
					u(r, t, e), "keyup" !== o && (v = i(t)), setTimeout(n, 10)
				}
				for (var c = m[e] = 0; c < t.length; ++c) {
					var h = c + 1 === t.length ? l : a(o || s(t[c + 1]).action);
					d(t[c], h, o, e, c)
				}
			}

			function d(e, t, n, r, i) {
				p._directMap[e + ":" + n] = t, e = e.replace(/\s+/g, " ");
				var o = e.split(" ");
				1 < o.length ? f(e, o, t, n) : (n = s(e, n), p._callbacks[n.key] = p._callbacks[n.key] || [], l(n.key, n.modifiers, {
					type: n.action
				}, r, e, i), p._callbacks[n.key][r ? "unshift" : "push"]({
					callback: t,
					modifiers: n.modifiers,
					action: n.action,
					seq: r,
					level: i,
					combo: e
				}))
			}
			var p = this;
			if (e = e || t, !(p instanceof c)) return new c(e);
			p.target = e, p._callbacks = {}, p._directMap = {};
			var g, m = {},
				v = !1,
				y = !1,
				b = !1;
			p._handleKey = function(e, t, r) {
				var i, o = l(e, t, r);
				t = {};
				var s = 0,
					c = !1;
				for (i = 0; i < o.length; ++i) o[i].seq && (s = Math.max(s, o[i].level));
				for (i = 0; i < o.length; ++i) o[i].seq ? o[i].level == s && (c = !0, t[o[i].seq] = 1, u(o[i].callback, r, o[i].combo,
					o[i].seq)) : c || u(o[i].callback, r, o[i].combo);
				o = "keypress" == r.type && y, r.type != b || a(e) || o || n(t), y = c && "keydown" == r.type
			}, p._bindMultiple = function(e, t, n) {
				for (var r = 0; r < e.length; ++r) d(e[r], t, n)
			}, r(e, "keypress", h), r(e, "keydown", h), r(e, "keyup", h)
		}
		if (e) {
			var u, h = {
					8: "backspace",
					9: "tab",
					13: "enter",
					16: "shift",
					17: "ctrl",
					18: "alt",
					20: "capslock",
					27: "esc",
					32: "space",
					33: "pageup",
					34: "pagedown",
					35: "end",
					36: "home",
					37: "left",
					38: "up",
					39: "right",
					40: "down",
					45: "ins",
					46: "del",
					91: "meta",
					93: "meta",
					224: "meta"
				},
				f = {
					106: "*",
					107: "+",
					109: "-",
					110: ".",
					111: "/",
					186: ";",
					187: "=",
					188: ",",
					189: "-",
					190: ".",
					191: "/",
					192: "`",
					219: "[",
					220: "\\",
					221: "]",
					222: "'"
				},
				d = {
					"~": "`",
					"!": "1",
					"@": "2",
					"#": "3",
					$: "4",
					"%": "5",
					"^": "6",
					"&": "7",
					"*": "8",
					"(": "9",
					")": "0",
					_: "-",
					"+": "=",
					":": ";",
					'"': "'",
					"<": ",",
					">": ".",
					"?": "/",
					"|": "\\"
				},
				p = {
					option: "alt",
					command: "meta",
					"return": "enter",
					escape: "esc",
					plus: "+",
					mod: /Mac|iPod|iPhone|iPad/.test(navigator.platform) ? "meta" : "ctrl"
				};
			for (n = 1; 20 > n; ++n) h[111 + n] = "f" + n;
			for (n = 0; 9 >= n; ++n) h[n + 96] = n.toString();
			c.prototype.bind = function(e, t, n) {
					return e = e instanceof Array ? e : [e], this._bindMultiple.call(this, e, t, n), this
				}, c.prototype.unbind = function(e, t) {
					return this.bind.call(this, e, function() {}, t)
				}, c.prototype.trigger = function(e, t) {
					return this._directMap[e + ":" + t] && this._directMap[e + ":" + t]({}, e), this
				}, c.prototype.reset = function() {
					return this._callbacks = {}, this._directMap = {}, this
				}, c.prototype.stopCallback = function(e, t) {
					return -1 < (" " + t.className + " ").indexOf(" mousetrap ") || l(t, this.target) ? !1 : "INPUT" == t.tagName ||
						"SELECT" == t.tagName || "TEXTAREA" == t.tagName || t.isContentEditable
				}, c.prototype.handleKey = function() {
					return this._handleKey.apply(this, arguments)
				}, c.addKeycodes = function(e) {
					for (var t in e) e.hasOwnProperty(t) && (h[t] = e[t]);
					u = null
				}, c.init = function() {
					var e, n = c(t);
					for (e in n) "_" !== e.charAt(0) && (c[e] = function(e) {
						return function() {
							return n[e].apply(n, arguments)
						}
					}(e))
				}, c.init(), e.Mousetrap = c, "undefined" != typeof module && module.exports && (module.exports = c), "function" ==
				typeof define && define.amd && define("Mousetrap", [], function() {
					return c
				})
		}
	}("undefined" != typeof window ? window : null, "undefined" != typeof window ? document : null),
	function(e) {
		define("AllInOneStaticLibs", ["jqform", "opentype", "dropbox", "react", "reactDOM", "reactRouter", "signals",
			"plupload", "uuid", "async", "jquery", "ImageTools", "jqfd", "niceScroll", "purl", "history", "jqmw", "loadImage",
			"canvasToBlob", "saveAs", "webfontloader", "fabric", "Mousetrap"
		], function() {
			return function() {}.apply(e, arguments)
		})
	}(this), require(["AllInOneStaticLibs"]);
